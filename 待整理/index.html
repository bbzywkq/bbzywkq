<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="clxbx6O5YYXPaOb.png"><title>汇总 | what`s next</title><meta name="description" content="我就想不通了 !">
    <link rel="modulepreload" href="/assets/app.234ff118.js"><link rel="modulepreload" href="/assets/index.html.a90e4919.js"><link rel="modulepreload" href="/assets/index.html.49062da0.js"><link rel="prefetch" href="/assets/index.html.99930f3d.js"><link rel="prefetch" href="/assets/nav.html.086e72f1.js"><link rel="prefetch" href="/assets/演示.html.9859b11a.js"><link rel="prefetch" href="/assets/资源汇总.html.df1972c3.js"><link rel="prefetch" href="/assets/基础.html.d13aa4b0.js"><link rel="prefetch" href="/assets/index.html.7ec162bb.js"><link rel="prefetch" href="/assets/IdeaLearningProject.html.79375511.js"><link rel="prefetch" href="/assets/index.html.7f50e53e.js"><link rel="prefetch" href="/assets/index.html.02ffbeec.js"><link rel="prefetch" href="/assets/index.html.06fec41d.js"><link rel="prefetch" href="/assets/index.html.31d4578b.js"><link rel="prefetch" href="/assets/index.html.38f43525.js"><link rel="prefetch" href="/assets/index.html.8258088c.js"><link rel="prefetch" href="/assets/index.html.a7bec9ae.js"><link rel="prefetch" href="/assets/0_点积.html.de28cf2c.js"><link rel="prefetch" href="/assets/index.html.cd6a45ef.js"><link rel="prefetch" href="/assets/index.html.b91b3f9e.js"><link rel="prefetch" href="/assets/Css.html.b5de4d59.js"><link rel="prefetch" href="/assets/Flex弹性盒子布局.html.90401744.js"><link rel="prefetch" href="/assets/JDK8新特性.html.bf5f92de.js"><link rel="prefetch" href="/assets/LPG日志收集及展示系统.html.d3275eac.js"><link rel="prefetch" href="/assets/LPG运维说明.html.e2d6e29a.js"><link rel="prefetch" href="/assets/MP or查询问题.html.0a34819e.js"><link rel="prefetch" href="/assets/OKR解析.html.268998d3.js"><link rel="prefetch" href="/assets/Pull Request.html.4263b7e8.js"><link rel="prefetch" href="/assets/Python循环结构用法 - 骏马金龙 - 博客园.html.f4a9b2f5.js"><link rel="prefetch" href="/assets/RBAC权限模型.html.3fd7e22d.js"><link rel="prefetch" href="/assets/Sentinel.html.88a9cf08.js"><link rel="prefetch" href="/assets/Springboot项目 基于gitlab runner 实现CI CD教程_Honins的博客.html.eeef960a.js"><link rel="prefetch" href="/assets/VScode 常用插件.html.aa43a243.js"><link rel="prefetch" href="/assets/apt安装.html.05421bef.js"><link rel="prefetch" href="/assets/docker资料.html.e03829bd.js"><link rel="prefetch" href="/assets/dubbo实践记录网址.html.ad07e0ec.js"><link rel="prefetch" href="/assets/elk资料.html.5477a857.js"><link rel="prefetch" href="/assets/github初始化存储库.html.37e0a215.js"><link rel="prefetch" href="/assets/jaeger容器化部署.html.7e80ec8b.js"><link rel="prefetch" href="/assets/java泛型.html.d63c8851.js"><link rel="prefetch" href="/assets/jenkins资料.html.d6685eb9.js"><link rel="prefetch" href="/assets/kubernetes资料网址.html.a8d641cb.js"><link rel="prefetch" href="/assets/mybatis association再嵌套association使用问题.html.f0348ffd.js"><link rel="prefetch" href="/assets/mysql账户权限丢失问题.html.00130fca.js"><link rel="prefetch" href="/assets/mysql资料.html.54dc5d81.js"><link rel="prefetch" href="/assets/nacos使用及配置.html.21c44d0e.js"><link rel="prefetch" href="/assets/nacos资料.html.c95b4829.js"><link rel="prefetch" href="/assets/nexus-maven资料.html.4d134326.js"><link rel="prefetch" href="/assets/nginx资料.html.e38748c8.js"><link rel="prefetch" href="/assets/sifari浏览器快捷键.html.215968a1.js"><link rel="prefetch" href="/assets/springcloud资料.html.dd134737.js"><link rel="prefetch" href="/assets/win10配置jdk环境.html.d595267d.js"><link rel="prefetch" href="/assets/win10配置maven环境变量.html.cbf0a37f.js"><link rel="prefetch" href="/assets/win10配置免回环网络验证.html.2e5da472.js"><link rel="prefetch" href="/assets/win10键盘快捷方式.html.8034f88c.js"><link rel="prefetch" href="/assets/yarn.html.9db43697.js"><link rel="prefetch" href="/assets/yum 更新.html.77b29ce7.js"><link rel="prefetch" href="/assets/主从同步配置.html.757c20cb.js"><link rel="prefetch" href="/assets/主机监控项说明.html.e4110447.js"><link rel="prefetch" href="/assets/从服务器基础环境配置到搭建Docker_Gitlab_Gitlab Runner，完整介绍Spring Boot项目的持续集成与持续交付具体实现！   航行学园.html.1f3cc893.js"><link rel="prefetch" href="/assets/全局订阅式蓝绿灰度发布.html.5406b15f.js"><link rel="prefetch" href="/assets/全量配置.html.100cb5b2.js"><link rel="prefetch" href="/assets/全链路版本权重灰度发布.html.7987f6cc.js"><link rel="prefetch" href="/assets/全链路版本条件匹配蓝绿发布.html.775d06c8.js"><link rel="prefetch" href="/assets/全链路版本条件权重灰度发布.html.569b14a8.js"><link rel="prefetch" href="/assets/内网穿透.html.4d040872.js"><link rel="prefetch" href="/assets/分布式事务.html.c19090f3.js"><link rel="prefetch" href="/assets/分布式任务调度.html.48d21946.js"><link rel="prefetch" href="/assets/前端图形框架和游戏引擎.html.4c5f9371.js"><link rel="prefetch" href="/assets/史上最新最全的UI设计面试题汇总 - 知乎.html.bd33edae.js"><link rel="prefetch" href="/assets/启用停止同步.html.f035c6c0.js"><link rel="prefetch" href="/assets/如何发布自己的项目到中央仓库 - 掘金.html.e61c4c7b.js"><link rel="prefetch" href="/assets/密码配置.html.382d0da6.js"><link rel="prefetch" href="/assets/岗位理解.html.999961e1.js"><link rel="prefetch" href="/assets/支付宝与微信二码合一_扫码支付(学习笔记).html.3f09e65f.js"><link rel="prefetch" href="/assets/服务器密码.html.41536f2b.js"><link rel="prefetch" href="/assets/注册Runner.html.220b2dcd.js"><link rel="prefetch" href="/assets/流程.html.4bd47e95.js"><link rel="prefetch" href="/assets/用 Substats 和 Shields.io 为你的个人主页定制动态数据小牌子 - 少数派.html.a1c66351.js"><link rel="prefetch" href="/assets/设计模式.html.79178b1e.js"><link rel="prefetch" href="/assets/证书文件处理.html.92a08a0c.js"><link rel="prefetch" href="/assets/资料.html.f89bdd3d.js"><link rel="prefetch" href="/assets/链接记录.html.8fe86862.js"><link rel="prefetch" href="/assets/集群配置.html.33d424a0.js"><link rel="prefetch" href="/assets/index.html.1d936bf3.js"><link rel="prefetch" href="/assets/index.html.edfac8c4.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/index.html.11e72185.js"><link rel="prefetch" href="/assets/nav.html.5796b082.js"><link rel="prefetch" href="/assets/演示.html.fb25e431.js"><link rel="prefetch" href="/assets/资源汇总.html.4d4edfbc.js"><link rel="prefetch" href="/assets/基础.html.de30e7d3.js"><link rel="prefetch" href="/assets/index.html.4999aa5f.js"><link rel="prefetch" href="/assets/IdeaLearningProject.html.601b5c01.js"><link rel="prefetch" href="/assets/index.html.323b6064.js"><link rel="prefetch" href="/assets/index.html.23d9f2f9.js"><link rel="prefetch" href="/assets/index.html.0842748a.js"><link rel="prefetch" href="/assets/index.html.5febb307.js"><link rel="prefetch" href="/assets/index.html.51bba0ba.js"><link rel="prefetch" href="/assets/index.html.0e0bee64.js"><link rel="prefetch" href="/assets/index.html.77395f14.js"><link rel="prefetch" href="/assets/0_点积.html.098764d0.js"><link rel="prefetch" href="/assets/index.html.e5a945e5.js"><link rel="prefetch" href="/assets/index.html.29b1a632.js"><link rel="prefetch" href="/assets/Css.html.7a01d9a6.js"><link rel="prefetch" href="/assets/Flex弹性盒子布局.html.588bb471.js"><link rel="prefetch" href="/assets/JDK8新特性.html.32b48ac4.js"><link rel="prefetch" href="/assets/LPG日志收集及展示系统.html.57eb66f0.js"><link rel="prefetch" href="/assets/LPG运维说明.html.29c7cb35.js"><link rel="prefetch" href="/assets/MP or查询问题.html.0210709e.js"><link rel="prefetch" href="/assets/OKR解析.html.8d6db38b.js"><link rel="prefetch" href="/assets/Pull Request.html.55203edc.js"><link rel="prefetch" href="/assets/Python循环结构用法 - 骏马金龙 - 博客园.html.8b038a44.js"><link rel="prefetch" href="/assets/RBAC权限模型.html.ea5c9f29.js"><link rel="prefetch" href="/assets/Sentinel.html.9c8a828d.js"><link rel="prefetch" href="/assets/Springboot项目 基于gitlab runner 实现CI CD教程_Honins的博客.html.455860c3.js"><link rel="prefetch" href="/assets/VScode 常用插件.html.0c87a205.js"><link rel="prefetch" href="/assets/apt安装.html.5d5711a5.js"><link rel="prefetch" href="/assets/docker资料.html.0d83cd85.js"><link rel="prefetch" href="/assets/dubbo实践记录网址.html.cdc4c3d2.js"><link rel="prefetch" href="/assets/elk资料.html.23e2db8e.js"><link rel="prefetch" href="/assets/github初始化存储库.html.6578cfdb.js"><link rel="prefetch" href="/assets/jaeger容器化部署.html.7f7ed6f7.js"><link rel="prefetch" href="/assets/java泛型.html.d121210a.js"><link rel="prefetch" href="/assets/jenkins资料.html.c8b1b503.js"><link rel="prefetch" href="/assets/kubernetes资料网址.html.cfb88266.js"><link rel="prefetch" href="/assets/mybatis association再嵌套association使用问题.html.962eff69.js"><link rel="prefetch" href="/assets/mysql账户权限丢失问题.html.35e5d851.js"><link rel="prefetch" href="/assets/mysql资料.html.92503fd1.js"><link rel="prefetch" href="/assets/nacos使用及配置.html.57df790f.js"><link rel="prefetch" href="/assets/nacos资料.html.fdfb8b26.js"><link rel="prefetch" href="/assets/nexus-maven资料.html.967199c3.js"><link rel="prefetch" href="/assets/nginx资料.html.a0b658d0.js"><link rel="prefetch" href="/assets/sifari浏览器快捷键.html.3fa0749e.js"><link rel="prefetch" href="/assets/springcloud资料.html.f4158083.js"><link rel="prefetch" href="/assets/win10配置jdk环境.html.f5b3feef.js"><link rel="prefetch" href="/assets/win10配置maven环境变量.html.2a577416.js"><link rel="prefetch" href="/assets/win10配置免回环网络验证.html.62d7ac9f.js"><link rel="prefetch" href="/assets/win10键盘快捷方式.html.2b77c83c.js"><link rel="prefetch" href="/assets/yarn.html.1c0b2711.js"><link rel="prefetch" href="/assets/yum 更新.html.b7655a9b.js"><link rel="prefetch" href="/assets/主从同步配置.html.926eab88.js"><link rel="prefetch" href="/assets/主机监控项说明.html.266dc680.js"><link rel="prefetch" href="/assets/从服务器基础环境配置到搭建Docker_Gitlab_Gitlab Runner，完整介绍Spring Boot项目的持续集成与持续交付具体实现！   航行学园.html.38209853.js"><link rel="prefetch" href="/assets/全局订阅式蓝绿灰度发布.html.2554a015.js"><link rel="prefetch" href="/assets/全量配置.html.1af1d512.js"><link rel="prefetch" href="/assets/全链路版本权重灰度发布.html.dddc0598.js"><link rel="prefetch" href="/assets/全链路版本条件匹配蓝绿发布.html.ade99ae5.js"><link rel="prefetch" href="/assets/全链路版本条件权重灰度发布.html.724897f0.js"><link rel="prefetch" href="/assets/内网穿透.html.988a57ef.js"><link rel="prefetch" href="/assets/分布式事务.html.58f26960.js"><link rel="prefetch" href="/assets/分布式任务调度.html.c1d4dcec.js"><link rel="prefetch" href="/assets/前端图形框架和游戏引擎.html.8419bcc5.js"><link rel="prefetch" href="/assets/史上最新最全的UI设计面试题汇总 - 知乎.html.c239f669.js"><link rel="prefetch" href="/assets/启用停止同步.html.cf29ddcd.js"><link rel="prefetch" href="/assets/如何发布自己的项目到中央仓库 - 掘金.html.ed89250f.js"><link rel="prefetch" href="/assets/密码配置.html.23d1ab0b.js"><link rel="prefetch" href="/assets/岗位理解.html.7649da79.js"><link rel="prefetch" href="/assets/支付宝与微信二码合一_扫码支付(学习笔记).html.085369a7.js"><link rel="prefetch" href="/assets/服务器密码.html.b9047177.js"><link rel="prefetch" href="/assets/注册Runner.html.76d75eff.js"><link rel="prefetch" href="/assets/流程.html.88953993.js"><link rel="prefetch" href="/assets/用 Substats 和 Shields.io 为你的个人主页定制动态数据小牌子 - 少数派.html.831e916e.js"><link rel="prefetch" href="/assets/设计模式.html.91d272a0.js"><link rel="prefetch" href="/assets/证书文件处理.html.01138281.js"><link rel="prefetch" href="/assets/资料.html.ebb2b949.js"><link rel="prefetch" href="/assets/链接记录.html.1e8f9a98.js"><link rel="prefetch" href="/assets/集群配置.html.7245a665.js"><link rel="prefetch" href="/assets/index.html.d3b6d760.js"><link rel="prefetch" href="/assets/index.html.ae115c03.js"><link rel="prefetch" href="/assets/404.html.fc539429.js">
    <link rel="stylesheet" href="/assets/style.96ee71b5.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">what`s next</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="检索"><span class="title">检索</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="检索"><span class="title">检索</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://www.google.com" rel="noopener noreferrer" target="_blank" aria-label="google"><!--[--><!--]--> google <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://yandex.com/" rel="noopener noreferrer" target="_blank" aria-label="yandex"><!--[--><!--]--> yandex <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/bbzywkq/bbzywkq.github.io/tree/main/docs" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="检索"><span class="title">检索</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="检索"><span class="title">检索</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://www.google.com" rel="noopener noreferrer" target="_blank" aria-label="google"><!--[--><!--]--> google <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://yandex.com/" rel="noopener noreferrer" target="_blank" aria-label="yandex"><!--[--><!--]--> yandex <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/bbzywkq/bbzywkq.github.io/tree/main/docs" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">汇总 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#linux" class="router-link-active router-link-exact-active sidebar-item" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#安装字体包" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装字体包"><!--[--><!--]--> 安装字体包 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#根据文件前缀删除" class="router-link-active router-link-exact-active sidebar-item" aria-label="根据文件前缀删除"><!--[--><!--]--> 根据文件前缀删除 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#du-df文件命令" class="router-link-active router-link-exact-active sidebar-item" aria-label="du/df文件命令"><!--[--><!--]--> du/df文件命令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#scp" class="router-link-active router-link-exact-active sidebar-item" aria-label="scp"><!--[--><!--]--> scp <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#git" class="router-link-active router-link-exact-active sidebar-item" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#docker容器化部署" class="router-link-active router-link-exact-active sidebar-item" aria-label="docker容器化部署"><!--[--><!--]--> docker容器化部署 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#gitlab备份恢复迁移" class="router-link-active router-link-exact-active sidebar-item" aria-label="gitlab备份恢复迁移"><!--[--><!--]--> gitlab备份恢复迁移 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#gitlab迁移500问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="gitlab迁移500问题"><!--[--><!--]--> gitlab迁移500问题 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#git配置代理" class="router-link-active router-link-exact-active sidebar-item" aria-label="git配置代理"><!--[--><!--]--> git配置代理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#git合并忽略" class="router-link-active router-link-exact-active sidebar-item" aria-label="git合并忽略"><!--[--><!--]--> git合并忽略 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#git远程仓库地址更改" class="router-link-active router-link-exact-active sidebar-item" aria-label="git远程仓库地址更改"><!--[--><!--]--> git远程仓库地址更改 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#git-fork" class="router-link-active router-link-exact-active sidebar-item" aria-label="git fork"><!--[--><!--]--> git fork <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#git-分支操作" class="router-link-active router-link-exact-active sidebar-item" aria-label="git 分支操作"><!--[--><!--]--> git 分支操作 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#gitlab-runner" class="router-link-active router-link-exact-active sidebar-item" aria-label="gitlab-runner"><!--[--><!--]--> gitlab-runner <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#mysql" class="router-link-active router-link-exact-active sidebar-item" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#安装" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装"><!--[--><!--]--> 安装 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#开启sql日志" class="router-link-active router-link-exact-active sidebar-item" aria-label="开启sql日志"><!--[--><!--]--> 开启sql日志 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#配置数据库进度只读状态" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置数据库进度只读状态"><!--[--><!--]--> 配置数据库进度只读状态 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#配置慢sql监控" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置慢sql监控"><!--[--><!--]--> 配置慢sql监控 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#同步机制说明" class="router-link-active router-link-exact-active sidebar-item" aria-label="同步机制说明"><!--[--><!--]--> 同步机制说明 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#权限配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="权限配置"><!--[--><!--]--> 权限配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#数据备份及导入" class="router-link-active router-link-exact-active sidebar-item" aria-label="数据备份及导入"><!--[--><!--]--> 数据备份及导入 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#数据库性能测试" class="router-link-active router-link-exact-active sidebar-item" aria-label="数据库性能测试"><!--[--><!--]--> 数据库性能测试 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#锁定和解锁" class="router-link-active router-link-exact-active sidebar-item" aria-label="锁定和解锁"><!--[--><!--]--> 锁定和解锁 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#修改最大连接数" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改最大连接数"><!--[--><!--]--> 修改最大连接数 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#maven" class="router-link-active router-link-exact-active sidebar-item" aria-label="maven"><!--[--><!--]--> maven <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#阿里云镜像库" class="router-link-active router-link-exact-active sidebar-item" aria-label="阿里云镜像库"><!--[--><!--]--> 阿里云镜像库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#nexus3仓库类型说明" class="router-link-active router-link-exact-active sidebar-item" aria-label="nexus3仓库类型说明"><!--[--><!--]--> nexus3仓库类型说明 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#配置本地maven使用私有库" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置本地maven使用私有库"><!--[--><!--]--> 配置本地maven使用私有库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#nexus3使用阿里云镜像" class="router-link-active router-link-exact-active sidebar-item" aria-label="nexus3使用阿里云镜像"><!--[--><!--]--> nexus3使用阿里云镜像 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#nexus3用户权限说明" class="router-link-active router-link-exact-active sidebar-item" aria-label="nexus3用户权限说明"><!--[--><!--]--> nexus3用户权限说明 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#上传jar至私服nexus3" class="router-link-active router-link-exact-active sidebar-item" aria-label="上传jar至私服nexus3"><!--[--><!--]--> 上传jar至私服nexus3 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#打包命令" class="router-link-active router-link-exact-active sidebar-item" aria-label="打包命令"><!--[--><!--]--> 打包命令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#nexus3使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="nexus3使用"><!--[--><!--]--> nexus3使用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#docker-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="docker"><!--[--><!--]--> docker <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#docker容器网络模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="docker容器网络模式"><!--[--><!--]--> docker容器网络模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#docker-compose" class="router-link-active router-link-exact-active sidebar-item" aria-label="docker-compose"><!--[--><!--]--> docker-compose <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#启动命令" class="router-link-active router-link-exact-active sidebar-item" aria-label="启动命令"><!--[--><!--]--> 启动命令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#基础命令" class="router-link-active router-link-exact-active sidebar-item" aria-label="基础命令"><!--[--><!--]--> 基础命令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#删除容器or镜像" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除容器or镜像"><!--[--><!--]--> 删除容器or镜像 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#查看容器日志" class="router-link-active router-link-exact-active sidebar-item" aria-label="查看容器日志"><!--[--><!--]--> 查看容器日志 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#查看容器ip" class="router-link-active router-link-exact-active sidebar-item" aria-label="查看容器ip"><!--[--><!--]--> 查看容器ip <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#查看镜像具体版本号" class="router-link-active router-link-exact-active sidebar-item" aria-label="查看镜像具体版本号"><!--[--><!--]--> 查看镜像具体版本号 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#服务重启" class="router-link-active router-link-exact-active sidebar-item" aria-label="服务重启"><!--[--><!--]--> 服务重启 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#进入容器" class="router-link-active router-link-exact-active sidebar-item" aria-label="进入容器"><!--[--><!--]--> 进入容器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#代理配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="代理配置"><!--[--><!--]--> 代理配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#配置镜像加速" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置镜像加速"><!--[--><!--]--> 配置镜像加速 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#宿主机-容器间文件复制" class="router-link-active router-link-exact-active sidebar-item" aria-label="宿主机/容器间文件复制"><!--[--><!--]--> 宿主机/容器间文件复制 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#修改容器内部时区" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改容器内部时区"><!--[--><!--]--> 修改容器内部时区 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#运行容器内shell脚本" class="router-link-active router-link-exact-active sidebar-item" aria-label="运行容器内shell脚本"><!--[--><!--]--> 运行容器内shell脚本 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#重命名镜像" class="router-link-active router-link-exact-active sidebar-item" aria-label="重命名镜像"><!--[--><!--]--> 重命名镜像 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#elasticsearch" class="router-link-active router-link-exact-active sidebar-item" aria-label="ElasticSearch"><!--[--><!--]--> ElasticSearch <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#docker容器化部署-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="docker容器化部署"><!--[--><!--]--> docker容器化部署 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#可视化终端" class="router-link-active router-link-exact-active sidebar-item" aria-label="可视化终端"><!--[--><!--]--> 可视化终端 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#启用xpack安全验证" class="router-link-active router-link-exact-active sidebar-item" aria-label="启用xpack安全验证"><!--[--><!--]--> 启用xpack安全验证 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#清理索引" class="router-link-active router-link-exact-active sidebar-item" aria-label="清理索引"><!--[--><!--]--> 清理索引 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#常用的索引动态配置参数" class="router-link-active router-link-exact-active sidebar-item" aria-label="常用的索引动态配置参数"><!--[--><!--]--> 常用的索引动态配置参数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#修改最大分片数" class="router-link-active router-link-exact-active sidebar-item" aria-label="修改最大分片数"><!--[--><!--]--> 修改最大分片数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#自定义分词方式" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义分词方式"><!--[--><!--]--> 自定义分词方式 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#redis" class="router-link-active router-link-exact-active sidebar-item" aria-label="redis"><!--[--><!--]--> redis <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#redis-cli命令" class="router-link-active router-link-exact-active sidebar-item" aria-label="redis-cli命令"><!--[--><!--]--> redis-cli命令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#可视化终端-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="可视化终端"><!--[--><!--]--> 可视化终端 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#jenkins" class="router-link-active router-link-exact-active sidebar-item" aria-label="jenkins"><!--[--><!--]--> jenkins <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#docker容器化部署-2" class="router-link-active router-link-exact-active sidebar-item" aria-label="docker容器化部署"><!--[--><!--]--> docker容器化部署 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#前端项目构建" class="router-link-active router-link-exact-active sidebar-item" aria-label="前端项目构建"><!--[--><!--]--> 前端项目构建 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#后端项目构建" class="router-link-active router-link-exact-active sidebar-item" aria-label="后端项目构建"><!--[--><!--]--> 后端项目构建 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#删除历史构建" class="router-link-active router-link-exact-active sidebar-item" aria-label="删除历史构建"><!--[--><!--]--> 删除历史构建 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#job复制脚本" class="router-link-active router-link-exact-active sidebar-item" aria-label="job复制脚本"><!--[--><!--]--> job复制脚本 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#脚本类型备份" class="router-link-active router-link-exact-active sidebar-item" aria-label="脚本类型备份"><!--[--><!--]--> 脚本类型备份 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#nginx" class="router-link-active router-link-exact-active sidebar-item" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#基于网关的负载均衡" class="router-link-active router-link-exact-active sidebar-item" aria-label="基于网关的负载均衡"><!--[--><!--]--> 基于网关的负载均衡 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#nginx-reload-与-restart-的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="nginx reload 与 restart 的区别"><!--[--><!--]--> nginx reload 与 restart 的区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#常用经典配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="常用经典配置"><!--[--><!--]--> 常用经典配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#socker支持配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="socker支持配置"><!--[--><!--]--> socker支持配置 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#mq" class="router-link-active router-link-exact-active sidebar-item" aria-label="MQ"><!--[--><!--]--> MQ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#rabbitmq" class="router-link-active router-link-exact-active sidebar-item" aria-label="rabbitmq"><!--[--><!--]--> rabbitmq <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#python" class="router-link-active router-link-exact-active sidebar-item" aria-label="python"><!--[--><!--]--> python <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#包管理工具anaconda" class="router-link-active router-link-exact-active sidebar-item" aria-label="包管理工具Anaconda"><!--[--><!--]--> 包管理工具Anaconda <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#java" class="router-link-active router-link-exact-active sidebar-item" aria-label="java"><!--[--><!--]--> java <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#jabba环境管理工具" class="router-link-active router-link-exact-active sidebar-item" aria-label="jabba环境管理工具"><!--[--><!--]--> jabba环境管理工具 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#jdk工具-keytool生成jks密钥库" class="router-link-active router-link-exact-active sidebar-item" aria-label="JDK工具 keytool生成JKS密钥库"><!--[--><!--]--> JDK工具 keytool生成JKS密钥库 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#mac" class="router-link-active router-link-exact-active sidebar-item" aria-label="mac"><!--[--><!--]--> mac <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#终端环境切换" class="router-link-active router-link-exact-active sidebar-item" aria-label="终端环境切换"><!--[--><!--]--> 终端环境切换 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#npm" class="router-link-active router-link-exact-active sidebar-item" aria-label="NPM"><!--[--><!--]--> NPM <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#nuxt" class="router-link-active router-link-exact-active sidebar-item" aria-label="nuxt"><!--[--><!--]--> nuxt <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#基于pm2的部署" class="router-link-active router-link-exact-active sidebar-item" aria-label="基于pm2的部署"><!--[--><!--]--> 基于pm2的部署 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/%E5%BE%85%E6%95%B4%E7%90%86/#nvm" class="router-link-active router-link-exact-active sidebar-item" aria-label="nvm"><!--[--><!--]--> nvm <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="汇总" tabindex="-1"><a class="header-anchor" href="#汇总" aria-hidden="true">#</a> 汇总</h1><h2 id="linux" tabindex="-1"><a class="header-anchor" href="#linux" aria-hidden="true">#</a> Linux</h2><h3 id="安装字体包" tabindex="-1"><a class="header-anchor" href="#安装字体包" aria-hidden="true">#</a> 安装字体包</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd /usr/share/fonts/
mkdir &lt;name&gt;
刷新缓存
mkfontscale
fc-cache -fv
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="根据文件前缀删除" tabindex="-1"><a class="header-anchor" href="#根据文件前缀删除" aria-hidden="true">#</a> 根据文件前缀删除</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>find ./ -name &#39;&lt;prefix&gt;*&#39; -exec rm {} \;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="du-df文件命令" tabindex="-1"><a class="header-anchor" href="#du-df文件命令" aria-hidden="true">#</a> du/df文件命令</h3><p><strong>显示当前目录下所有一级子目录的大小：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>du -h --max-depth=1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>显示当前目录的总大小：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>du -sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>显示当前目录下所有子目录的大小，递进到最大深度：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>du -h
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>df -h</strong> 命令查看整体磁盘使用情况</p><p>使用 <strong>du -ah --max-depth=1</strong> / 可以查看根目录下各个文件占用情况</p><p><strong>du -h –max-depth=1 /var/log/*</strong> 查看/var/log路径下文件的大小</p><p><strong>du -sh /*</strong> 查看哪个目录最大，一步一步的查找大文件</p><p><strong>du -bsh /***/</strong> 命令 查看某个目录</p><p>用find 命令找到当前目录大于500M文件 <strong>find . -size +500M</strong></p><p>查找跟目录下大于10M的文件 <strong>find / -type f -size +10000000c -exec du -sh {} \;</strong></p><h4 id="du常用的选项" tabindex="-1"><a class="header-anchor" href="#du常用的选项" aria-hidden="true">#</a> <strong>du</strong>常用的选项：</h4><p>​ -h：以人类可读的方式显示 　　-a：显示目录占用的磁盘空间大小，还要显示其下目录和文件占用磁盘空间的大小 　　-s：显示目录占用的磁盘空间大小，不要显示其下子目录和文件占用的磁盘空间大小 　　-c：显示几个目录或文件占用的磁盘空间大小，还要统计它们的总和 　　--apparent-size：显示目录或文件自身的大小 　　-l ：统计硬链接占用磁盘空间的大小 　　-L：统计符号链接所指向的文件占用的磁盘空间大小</p><p><strong>du -sh</strong> : 查看当前目录总共占的容量。而不单独列出各子项占用的容量</p><p><strong>du -lh --max-depth=1</strong> : 查看当前目录下一级子文件和子目录占用的磁盘容量。</p><p><strong>lsof -n | grep deleted</strong> (查看删除占用)</p><h3 id="scp" tabindex="-1"><a class="header-anchor" href="#scp" aria-hidden="true">#</a> scp</h3><p>对拷文件夹 (包括文件夹本身)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scp -r   /home/wwwroot/www/charts/util root@192.168.1.65:/home/wwwroot/limesurvey_back/scp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>对拷文件夹下所有文件 (不包括文件夹本身)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scp   /home/wwwroot/www/charts/util/* root@192.168.1.65:/home/wwwroot/limesurvey_back/scp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>对拷文件并重命名</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scp   /home/wwwroot/www/charts/util/a.txt root@192.168.1.65:/home/wwwroot/limesurvey_back/scp/b.text
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>把本地 /var/log/sql-slow-queries.log 这个文件copy到1.50上面/root 目录下面</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scp /var/log/sql-slow-queries.log root@192.168.1.50:/root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>一、将本机文件复制到远程服务器上 　　#scp /home/administrator/news.txt <a href="mailto:root@192.168.6.129">root@192.168.6.129</a>:/etc/squid 　　/home/administrator/ 本地文件的绝对路径 　　news.txt 要复制到服务器上的本地文件 　　root 通过root用户登录到远程服务器（也可以使用其他拥有同等权限的用户） 　　192.168.6.129 远程服务器的ip地址（也可以使用域名或机器名） 　　/etc/squid 将本地文件复制到位于远程服务器上的路径 二、将远程服务器上的文件复制到本机 　　#scp <a href="mailto:remote@www.abc.com">remote@www.abc.com</a>:/usr/local/sin.sh /home/administrator 　　remote 通过remote用户登录到远程服务器（也可以使用其他拥有同等权限的用户） 　　<a href="http://www.abc.com/" target="_blank" rel="noopener noreferrer">www.abc.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 远程服务器的域名（当然也可以使用该服务器ip地址） 　　/usr/local/sin.sh 欲复制到本机的位于远程服务器上的文件 　　/home/administrator 将远程文件复制到本地的绝对路径 注意两点： 　　1.如果远程服务器防火墙有特殊限制，scp便要走特殊端口，具体用什么端口视情况而定，命令格式如下： 　　#scp -p 4588 <a href="mailto:remote@www.abc.com">remote@www.abc.com</a>:/usr/local/sin.sh /home/administrator 　　2.使用scp要注意所使用的用户是否具有可读取远程服务器相应文件的权限。 　　如：</p><h2 id="git" tabindex="-1"><a class="header-anchor" href="#git" aria-hidden="true">#</a> git</h2><h3 id="docker容器化部署" tabindex="-1"><a class="header-anchor" href="#docker容器化部署" aria-hidden="true">#</a> docker容器化部署</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --name gitlab2 --restart always \
    -p 19443:443 -p 19080:80 -p 19022:22 \
    -v /path/to/conf:/etc/gitlab \
    -v /path/to/logs:/var/log/gitlab \
    -v /path/to/data:/var/opt/gitlab \
    033bcfa1b036
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gitlab备份恢复迁移" tabindex="-1"><a class="header-anchor" href="#gitlab备份恢复迁移" aria-hidden="true">#</a> gitlab备份恢复迁移</h3><h4 id="备份" tabindex="-1"><a class="header-anchor" href="#备份" aria-hidden="true">#</a> 备份</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#生成备份文件：默认地址：/var/opt/gitlab/backups/
gitlab-rake gitlab:backup:create
复制文件到宿主机下
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="恢复" tabindex="-1"><a class="header-anchor" href="#恢复" aria-hidden="true">#</a> 恢复</h4><p>将备份文件权限修改为777，避免出现权限不够的问题</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd /var/opt/gitlab/backups
rm rf tmp/ #删除无用临时文件
chomd 777 &lt;name&gt;_gitlab_backup.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>停止数据连接服务</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>gitlab-ctl stop unicorn
gitlab-ctl stop sidekiq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>恢复备份文件到GitLab</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>gitlab-rake gitlab:backup:restore BACKUP=备份文件编号
例如：备份文件名为`1561597102_2019_06_27_12.0.1_gitlab_backup.tar`，则编号为`1561597102_2019_06_27_12.0.1`。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>启动GitLab</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>gitlab-ctl start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>查新旧GitLab的内容</p><h3 id="gitlab迁移500问题" tabindex="-1"><a class="header-anchor" href="#gitlab迁移500问题" aria-hidden="true">#</a> gitlab迁移500问题</h3><p>备份命令时不知道需要备份以下三个文件，而后导致了一系列的问题。截至11.11-ee，这个问题依然存在</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/etc/gitlab/gitlab-secrets.json
/etc/gitlab/gitlab.rb
/home/git/gitlab/config/secrets.yml 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>解决办法</strong> 重置相关CI的所有密钥和token</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>gitlab-rails dbconsole
gitlabhq_production=&gt; UPDATE projects SET runners_token = null, runners_token_encrypted = null;
UPDATE 88
gitlabhq_production=&gt; UPDATE namespaces SET runners_token = null, runners_token_encrypted = null;
UPDATE 37
gitlabhq_production=&gt; UPDATE application_settings SET runners_registration_token_encrypted = null;
UPDATE 6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git配置代理" tabindex="-1"><a class="header-anchor" href="#git配置代理" aria-hidden="true">#</a> git配置代理</h3><p>更改用户主目录.gitconfig文件</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[http]
        proxy = socks5://127.0.0.1:1080
[https]
        proxy = socks5://127.0.0.1:1080
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git合并忽略" tabindex="-1"><a class="header-anchor" href="#git合并忽略" aria-hidden="true">#</a> git合并忽略</h3><p>创建自定义merge driver</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git config --global merge.ours.driver true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在要被merge的分支上创建.gitattributes文件,并且在文件中置顶不merge的文件名</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>echo &#39;index.php merge=ours&#39; &gt;&gt; .gitattributes
git add .gitattributes
git commit -m &#39;chore: Preserve index.php during merges&#39; //只是为了commit代码，可以
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在项目根目录下新建文件.gitattributes，然后文件中写入需要忽略的文件名</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>merge=ours, 一个文件占一行 例：
忽略config.xml 文件
config.xml merge=ours
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git远程仓库地址更改" tabindex="-1"><a class="header-anchor" href="#git远程仓库地址更改" aria-hidden="true">#</a> git远程仓库地址更改</h3><p>查看当前的远程关联的仓库 <strong>git remote -v</strong></p><p>配置新的远程仓库地址 <code>git remote set-url origin {git url}</code></p><p>确认 <code>git remote -v</code></p><h3 id="git-fork" tabindex="-1"><a class="header-anchor" href="#git-fork" aria-hidden="true">#</a> git fork</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 检测惯量的仓库
git remote -v

# 添加上游仓库地址
git remote add upstream https://github.com/Nepxion/Discovery.git

# 再次检测惯量
git remote -v

# 检测状态
git status

# 拉去上游代码
git pull upstream info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git-分支操作" tabindex="-1"><a class="header-anchor" href="#git-分支操作" aria-hidden="true">#</a> git 分支操作</h3><p>创建及切换分支</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git chekcout -b dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git push origin dev:dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>删除本地的bug_xzx分支</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git branch -d bug_xzx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>删除远程的bug_xzx分支</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git push origin --delete bug_xzx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>拉去远程分支</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git fetch origin dev（dev为远程仓库的分支名）
git checkout -b dev(本地分支名称) origin/dev(远程分支名称)
git pull origin dev(远程分支名称)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gitlab-runner" tabindex="-1"><a class="header-anchor" href="#gitlab-runner" aria-hidden="true">#</a> gitlab-runner</h3><h4 id="docker容器化部署和使用" tabindex="-1"><a class="header-anchor" href="#docker容器化部署和使用" aria-hidden="true">#</a> docker容器化部署和使用</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 拉取镜像
docker pull gitlab/gitlab-runner:latest

# 创建挂载目录
mkdir -p /opt/gitlab-runner/config

# 启动容器
docker run -d --name gitlab-runner --restart always -v /opt/gitlab-runner/config:/etc/gitlab-runner -v /var/run/docker.sock:/var/run/docker.sock gitlab/gitlab-runner:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>进入runner容器，注册到gitlab上</strong></p><p><strong>汇总操作命令：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec -it gitlab-runner  gitlab-runner register -n \
  --url http://192.168.0.253:8090 \
  --registration-token tyXBwC8frbShS4yn3nE5 \ # token需要根据实际情况进行修改
  --tag-list=dockersock,docker \
  --description &quot;dockersock&quot; \
  --docker-privileged=true \
  --docker-pull-policy=&quot;if-not-present&quot; \
  --docker-image &quot;docker:latest&quot; \
  --docker-volumes /var/run/docker.sock:/var/run/docker.sock \
  --docker-volumes /root/m2:/root/.m2 \
  --executor docker 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>分步操作命令：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 进入容器
docker exec -it gitlab-runner /bin/bash

# 运行以下注册命令
gitlab-runner register

# 输入Gitlab实例的地址
Please enter the gitlab-ci coordinator URL (e.g. https://gitlab.com )
http://192.168.0.253:8090  # 端口采用默认的80，否则需要加上端口，比如 http://192.168.0.253:8090

# 输入token
Please enter the gitlab-ci token for this runner
tyXBwC8frbShS4yn3nE5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>如何获取token</strong></p><p>进入到项目中的设置，找到CI/CD，Runner ，图片这个token仅供途径展示</p><p><img src="https://file.bbzy.online/blog/794174-20201014162037964-1798013442.png" alt="image"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># 输入Runner的描述，后期可以手动修改
Please enter the gitlab-ci description for this runner
[hostname] my-runner

# 输入与Runner关联的标签，后期可以手动修改
Please enter the gitlab-ci tags for this runner (comma separated):
my-tag

# 输入Ruuner的执行者
Please enter the executor: ssh, docker+machine, docker-ssh+machine, kubernetes, docker, parallels, virtualbox, docker-ssh, shell:
docker

# 如果上面执行者为docker，需要你在后续项目根部的.gitlab-ci.yml中指定docker版本
Please enter the Docker image (eg. ruby:2.1):
alpine:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>通过以上命令后，就可以在gitlab中查看到了这个刚刚创建的runner</strong></p><p><img src="https://file.bbzy.online/blog/794174-20201014162236794-1553131186.png" alt="image"></p><p><strong>runner注册完毕之后，还需要修改一下runner的配置文件，实现runner与宿主机的数据挂载:</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vim /opt/gitlab-runner/config/config.toml # 开头创建的宿主机挂载目录

concurrent = 1
check_interval = 0

[session_server]
  session_timeout = 1800

[[runners]]
  name = &quot;my-runner&quot;
  url = &quot;http://192.168.0.253:8090&quot;
  token = &quot;tyXBwC8frbShS4yn3nE5&quot;
  executor = &quot;docker&quot;
  [runners.custom_build_dir]
  [runners.cache]
    [runners.cache.s3]
    [runners.cache.gcs]
    [runners.cache.azure]
  [runners.docker]
    tls_verify = false
    image = &quot;alpine:latest&quot;
    privileged = false
    disable_entrypoint_overwrite = false
    oom_kill_disable = false
    disable_cache = false
    volumes = [&quot;/cache&quot;,&quot;/var/run/docker.sock:/var/run/docker.sock&quot;]
    shm_size = 0

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>原先是volumes = [&quot;/cache&quot;]上面的volumes数组中添加docker的挂载，加快项目的构建速度。</p><p>最后，只需要再重启runner容器即可:</p><p>docker restart gitlab-runner</p><p><strong>说明：</strong> 1.不同的项目可以使用不同的gitlab-runner，根据实际情况再运行一个名称不一样的容器，并根据新项目的token注册就行了。 2.不同的项目还可以使用同一个gitlab-runner，只需要在注册的时候使用不同项目下的token就行了。</p><h2 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql" aria-hidden="true">#</a> mysql</h2><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><h4 id="apt方式" tabindex="-1"><a class="header-anchor" href="#apt方式" aria-hidden="true">#</a> apt方式</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo apt-get install mysql-server
sudo apt install mysql-client
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="docker" tabindex="-1"><a class="header-anchor" href="#docker" aria-hidden="true">#</a> docker</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run  -d --name mysql8081 
-p 8081:3306 -e MYSQL_ROOT_PASSWORD=123456  
-v v8081_data:/var/lib/mysql 
-v v8081_conf:/etc/mysql  mysql:5.7.26
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="开启sql日志" tabindex="-1"><a class="header-anchor" href="#开启sql日志" aria-hidden="true">#</a> 开启sql日志</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#查看状态
#show variables like &#39;%general%&#39;;
#开启日志
#SET GLOBAL general_log = &#39;On&#39;;
#指定日志文件
#SET GLOBAL general_log_file = &#39;/var/lib/mysql/mysql.log&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置数据库进度只读状态" tabindex="-1"><a class="header-anchor" href="#配置数据库进度只读状态" aria-hidden="true">#</a> 配置数据库进度只读状态</h3><p><strong>注：对超级权限无效</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql&gt; set global read_only=1;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="配置慢sql监控" tabindex="-1"><a class="header-anchor" href="#配置慢sql监控" aria-hidden="true">#</a> 配置慢sql监控</h3><p>查看系统变量控制</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>show variables like ‘%query%’;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>变量解释</strong></p><p>1.slow_query_log 该配置项是决定是否开启慢日志查询功能，配置的值有ON或者OFF. 2.slow_query_log_file 该配置项是慢日志查询的记录文件,需要手动创建. 3.long_query_time 该配置项是设置慢日志查询的时间阈值，当超过这个阈值时，慢日志才会被记录.配置的值有0(任何的sql语句都记录下来)，或者&gt;0(具体的阈值).该配置项是以秒为单位的，并且可以设置为小数. 4.log-queries-not-using-indexes 该配置项是为了记录未使用到索引的sql语句.</p><p><strong>配置慢日志查询</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>set global slow_query_log=ON;
set global slow_query_log=OFF;
set global long_query_time=1;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="同步机制说明" tabindex="-1"><a class="header-anchor" href="#同步机制说明" aria-hidden="true">#</a> 同步机制说明</h3><ol><li><p><strong>全同步复制</strong></p><p>指当主库执行完一个事务，所有的从库都执行了该事务才返回给客户端。因为需要等待所有从库执行完该事务才能返回，所以全同步复制的性能必然会收到严重的影响。</p><p>当主库提交事务之后，所有的从库节点必须收到，APPLY并且提交这些事务，然后主库线程才能继续做后续操作。这里面有一个很明显的缺点就是，主库完成一个事务的时间被拉长，性能降低。</p></li><li><p><strong>半同步复制</strong></p><p>介于异步复制和全同步复制之间，主库在执行完客户端提交的事务后不是立刻返回给客户端，而是等待至少一个从库接收到并写到relay log中才返回给客户端。相对于异步复制，半同步复制提高了数据的安全性，同时它也造成了一定程度的延迟，这个延迟最少是一个TCP/IP往返的时间。所以，半同步复制最好在低延时的网络中使用。</p><p>是介于全同步复制和异步复制之间的一种，主库只需要等待至少一个从库节点收到并且Flush Binlog到Relay Log文件即可，主库不需要等待所有从库给主库反馈。同时，这里只是一个收到的反馈，而不是已经完全执行并且提交的反馈，这样就节省了很多时间。</p></li><li><p><strong>异步复制</strong></p><p>MySQL默认的复制即是异步的，主库在执行完客户端提交的事务后会立即将结果返给给客户端，并不关心从库是否已经接收并处理，这样就会有一个问题，主如果crash掉了，此时主上已经提交的事务可能并没有传到从上，如果此时，强行将从提升为主，可能导致新主上的数据不完整</p><p>主库将事务Binlog事件写入到Binlog文件中，此时主库只会通知一下Dump线程发送这些新的Binlog，然后主库就会继续处理提交操作，而此时不会保证这些Binlog传到任何一个从库节点上。</p></li></ol><h3 id="权限配置" tabindex="-1"><a class="header-anchor" href="#权限配置" aria-hidden="true">#</a> 权限配置</h3><ol><li><p><strong>配置root用户可以远程任意访问</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;132456&#39; WITH GRANT OPTION;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>刷新配置</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>flush privileges;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>退出 exit</p><p>重启MySQL服务，否则远程连接可能配置无效 service mysql restart</p></li><li><p><strong>修改密码</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>修改系统用户密码
set password for root@localhost = password(&#39;123&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>修改远程用户密码
set password for root = password(&#39;123&#39;);//修改远程用户无刷新权限
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>必须指令：<strong>flush privileges</strong>; 刷新权限</p><p>退出：quit/exit</p></li><li><p><strong>添加用户</strong></p><p>添加用户 grant 权限 on 数据库.* to ‘用户名’@‘允许登录的主机&lt;%表示允许所有主机&gt;‘ identified by ’设置密码’ 添加用户拥有salon_test_copy数据库访问权限：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>grant select,insert,update,delete on shouxin_pfc.* to &#39;rootdev&#39;@&#39;%&#39; identified by &#39;devpass&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>全选选择：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>select,insert,update,delete
all privileges 所有权限
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="数据备份及导入" tabindex="-1"><a class="header-anchor" href="#数据备份及导入" aria-hidden="true">#</a> 数据备份及导入</h3><h4 id="备份-1" tabindex="-1"><a class="header-anchor" href="#备份-1" aria-hidden="true">#</a> 备份</h4><p><strong>备份数据库所有数据</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -pwkq4978dmm salonv2_official &gt;/home/&lt;name&gt;.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Mysqldump常用命令：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -u用户名 -p密码 --databases 数据库1 数据库2 &gt; xxx.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>-u: 用户名</p><p>-p: 密码</p><p>-P: 端口号，不写默认3306–all-databases,</p><pre><code>-A：备份所有数据库–databases,

-B: 用于备份多个数据库，如果没有该选项，mysqldump把第一个名字参数作为数据库名，后面的作为表名。使用该选项，mysqldum把每个名字都当作为数据库名。
</code></pre><p>-d: 只导出数据库的表结构-t: 只导出数据库的数据</p><p>–quick, -q：快速导出</p><p>–xml, -X：导出为xml文件</p><p><strong>备份全部数据库的数据和结构</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -A &gt; 0101.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>备份全部数据库的结构</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -P3306 -A -d &gt; 0102.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>备份全部数据库的数据</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -P3306 -A -t &gt; 0103.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>备份单个数据库的数据和结构（sakila 为数据库名）</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -P3306 sakila &gt; 0104.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>备份单个数据库结构（sakila 为数据库名，-d）</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -P3306 sakila -d &gt; 0105.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>备份多个表的结构和数据 (table1,table2为表名)</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -P3306 sakila table1 table2 &gt; 0107.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>一次备份多个数据库</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 --databases db1 db2 &gt; 0108.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="导入" tabindex="-1"><a class="header-anchor" href="#导入" aria-hidden="true">#</a> 导入</h4><ol><li><p>方式一，系统命令行</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqladmin -uroot -p123456 create db_name
mysql -uroot -p123456 db_name &lt; d:\bak\0101.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>注：在导入备份数据库前，db_name如果没有，是需要创建的； 而且与backup20110527.sql中数据库名是一样的才可以导入。</p><ol start="2"><li><p>方式二，source方法</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql &gt; use db
mysql &gt; source d:\bak\0101.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="数据库性能测试" tabindex="-1"><a class="header-anchor" href="#数据库性能测试" aria-hidden="true">#</a> 数据库性能测试</h3><p>mysql 性能测试 sysbench</p><h3 id="锁定和解锁" tabindex="-1"><a class="header-anchor" href="#锁定和解锁" aria-hidden="true">#</a> 锁定和解锁</h3><p>特别注意，退出终端口会解锁</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql&gt;LOCK TABLES tbl_name READ;

为表增加一个写锁定：

mysql&gt;LOCK TABLES tbl_name WRITE;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Flush tables with read lock;</p><p>解锁:UNLOCK TABLES;</p><h3 id="修改最大连接数" tabindex="-1"><a class="header-anchor" href="#修改最大连接数" aria-hidden="true">#</a> 修改最大连接数</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql&gt; show variables like ‘%max\_connections%’;
set global max_connections=200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>持久化</strong></p><p>进入制MySQL安装目录 打开MySQL配置文件 my.ini 或 my.cnf查找 max_connections=100 修改为 max_connections=1000 服务里重起MySQL即可。</p><h2 id="maven" tabindex="-1"><a class="header-anchor" href="#maven" aria-hidden="true">#</a> maven</h2><h3 id="阿里云镜像库" tabindex="-1"><a class="header-anchor" href="#阿里云镜像库" aria-hidden="true">#</a> 阿里云镜像库</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;mirror&gt;
    &lt;id&gt;aliyunmaven&lt;/id&gt;
    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun maven&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/public &lt;/url&gt;
&lt;/mirror&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nexus3仓库类型说明" tabindex="-1"><a class="header-anchor" href="#nexus3仓库类型说明" aria-hidden="true">#</a> nexus3仓库类型说明</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># maven-central
maven中心库 或配置的maven镜像库 如(阿里云)
# maven-public 组库
可配置合并某些库
# maven-releases
正式发布存储库-库文件一般不允许覆盖
# maven-snapshots
开发或者预发布库-库文件一般允许覆盖
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置本地maven使用私有库" tabindex="-1"><a class="header-anchor" href="#配置本地maven使用私有库" aria-hidden="true">#</a> 配置本地maven使用私有库</h3><h4 id="_1-开启了匿名访问" tabindex="-1"><a class="header-anchor" href="#_1-开启了匿名访问" aria-hidden="true">#</a> 1.开启了匿名访问</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;mirror&gt;
        &lt;id&gt;anonymous&lt;/id&gt;
        &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
        &lt;name&gt;Administrator User&lt;/name&gt;
        &lt;url&gt;http://192.168.1.107:8081/repository/maven-public/&lt;/url&gt;
&lt;/mirror&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-未开启匿名访问并且禁用掉了anonymous用户" tabindex="-1"><a class="header-anchor" href="#_2-未开启匿名访问并且禁用掉了anonymous用户" aria-hidden="true">#</a> 2.未开启匿名访问并且禁用掉了anonymous用户</h4><p><img src="https://file.bbzy.online/blog/zyft_Hx_LsOGqLFdxbm3dYyUpvmODQcIm1fY8KqxnIk.png" alt="image"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;server&gt;
    &lt;id&gt;admin&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;password&gt;wkq4978dmm&lt;/password&gt;
&lt;/server&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;mirror&gt;
    &lt;id&gt;admin&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;admin&lt;/name&gt;
    &lt;url&gt;http://maven.medicalsj.com/repository/maven-public/&lt;/url&gt;
&lt;/mirror&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nexus3使用阿里云镜像" tabindex="-1"><a class="header-anchor" href="#nexus3使用阿里云镜像" aria-hidden="true">#</a> nexus3使用阿里云镜像</h3><p><img src="https://file.bbzy.online/blog/gDkVp3nuxzGuXV4RY0eTERZ7h--uSMBAWm-xkXJIzRY.png" alt="image"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://maven.aliyun.com/nexus/content/repositories/central/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="nexus3用户权限说明" tabindex="-1"><a class="header-anchor" href="#nexus3用户权限说明" aria-hidden="true">#</a> nexus3用户权限说明</h3><p>Roles:添加角色，设置每个角色可看到的页面或者仓库，每个角色也可拥有其他的角色 Users:添加帐号密码，帐号密码邮箱这些必填信息不说了，这里要选择一个角色 Anonymous：这个打开后对钩取消掉就代表未登录不可访问仓库</p><p>给角色赋予权限</p><p>add:上传jar包权限</p><p>browse:浏览权限</p><p>delete:删除</p><p>edit:编辑</p><p>read:读取jar包详细信息</p><p>找到对应的权限添加到右边即可，权限全部添加，添加第一条 * 的即可</p><p>当然，其他的仓库也可按照上述方式搜索添加</p><p>用户可以自己修改密码，但光添加上面的权限是无法修改的，需搜索：userschengepw,把这个权限给到。</p><h3 id="上传jar至私服nexus3" tabindex="-1"><a class="header-anchor" href="#上传jar至私服nexus3" aria-hidden="true">#</a> 上传jar至私服nexus3</h3><ol><li><p><strong>添加账号</strong></p><p>修改 seting.xmlz中 servers节点 添加授权的账号</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;server&gt;
    &lt;id&gt;admin&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;password&gt;wkq4978dmm&lt;/password&gt;
&lt;/server&gt;
# 可添加多个
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>项目环境pom文件添加节点</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;distributionManagement&gt;
        &lt;repository&gt;
            &lt;id&gt;admin&lt;/id&gt;
            &lt;url&gt;http://maven.medicalsj.com/repository/maven-releases/&lt;/url&gt;
        &lt;/repository&gt;
        &lt;snapshotRepository&gt;
            &lt;id&gt;admin&lt;/id&gt;
            &lt;url&gt;http://maven.medicalsj.com/repository/maven-snapshots/&lt;/url&gt;
        &lt;/snapshotRepository&gt;
&lt;/distributionManagement&gt;
# 此处的id 对象seting.xml中server 节点中的id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://file.bbzy.online/blog/p-ZDEZwrTqrtjNZCQaCd0nB6kmoKMhwIammq5la1YtM.png" alt="image"></p></li><li><p><strong>打开nexus3后台验证</strong></p><p><img src="https://file.bbzy.online/blog/qSM9UhKl5phxNZvc4lKXFFDg-PQkm_juxVqYZX6q3AA.png" alt="image"></p></li></ol><h3 id="打包命令" tabindex="-1"><a class="header-anchor" href="#打包命令" aria-hidden="true">#</a> 打包命令</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>package命令完成了项目编译、单元测试、打包功能，但没有把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库和远程maven私服仓库

install命令完成了项目编译、单元测试、打包功能，同时把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库，但没有布署到远程maven私服仓库

deploy命令完成了项目编译、单元测试、打包功能，同时把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库和远程maven私服仓库
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mvn clean install   -T 1C -Dmaven.test.skip=true -Dmaven.compile.fork=true -U -pl  子项目名称 -am (am打入相关依赖包)
多模块工程的打包命令参考：
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>-am --also-make 同时构建所列模块的依赖模块； -amd -also-make-dependents 同时构建依赖于所列模块的模块； -pl --projects 构建制定的模块，模块间用逗号分隔； -rf -resume-from 从指定的模块恢复反应堆。</p><p>-am,--also-make If project list is specified, also build projects required by the list</p><p>-amd,--also-make-dependents If project list is specified, also build projects that depend on projects on the list</p><p>-pl,--projects Comma-delimited list of specified reactor projects to build instead of all projects. A project can be specified by [groupId]:artifactId or by its relative path.</p><p>-rf,--resume-from Resume reactor from specified project</p><h3 id="nexus3使用" tabindex="-1"><a class="header-anchor" href="#nexus3使用" aria-hidden="true">#</a> nexus3使用</h3><p><strong>项目使用nexus私服的jar包，在项目的pom.xml文件中指定私服仓库</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;nexus&lt;/id&gt;
        &lt;name&gt;nexus&lt;/name&gt;
        &lt;url&gt;http://192.168.1.103:8081/nexus/content/groups/public/&lt;/url&gt;
        &lt;releases&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/releases&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/snapshots&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>项目使用nexus私服的插件，在项目的pom.xml文件中指定插件仓库</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
        &lt;id&gt;nexus&lt;/id&gt;
        &lt;name&gt;nexus&lt;/name&gt;
        &lt;url&gt;http://192.168.1.103:8081/nexus/content/groups/public/&lt;/url&gt;
        &lt;releases&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/releases&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/snapshots&gt;
    &lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>如果想本机所有的maven项目都使用私服的组件，可以在maven的设置文件settings.xml中添加属性，并激活</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;profiles&gt;
    &lt;profile&gt;
        &lt;id&gt;nexusProfile&lt;/id&gt;
        &lt;repositories&gt;
            &lt;repository&gt;
                &lt;id&gt;nexus&lt;/id&gt;
                &lt;name&gt;nexus&lt;/name&gt;
                &lt;url&gt;http://192.168.1.103:8081/nexus/content/groups/public/&lt;/url&gt;
                &lt;releases&gt;
                    &lt;enabled&gt;true&lt;/enabled&gt;
                &lt;/releases&gt;
                &lt;snapshots&gt;
                    &lt;enabled&gt;true&lt;/enabled&gt;
                &lt;/snapshots&gt;
            &lt;/repository&gt;
        &lt;/repositories&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;
&lt;!-- 激活 --&gt;
&lt;activeProfiles&gt;
    &lt;activeProfile&gt;nexusProfile&lt;/activeProfile&gt;
&lt;/activeProfiles&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>项目发布到私服，maven项目使用命令：mvn clean deploy；需要在pom文件中配置一下代码；</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;distributionManagement&gt;
        &lt;repository&gt;
            &lt;id&gt;user-release&lt;/id&gt;
            &lt;name&gt;User Project Release&lt;/name&gt;
            &lt;url&gt;http://192.168.1.103:8081/nexus/content/repositories/releases/&lt;/url&gt;
        &lt;/repository&gt;

        &lt;snapshotRepository&gt;
            &lt;id&gt;user-snapshots&lt;/id&gt;
            &lt;name&gt;User Project SNAPSHOTS&lt;/name&gt;
            &lt;url&gt;http://192.168.1.103:8081/nexus/content/repositories/snapshots/&lt;/url&gt;
        &lt;/snapshotRepository&gt;
    &lt;/distributionManagement&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意还需要配置mvn发布的权限，否则会报401错误，在settings.xml中配置权限，其中id要与pom文件中的id一致</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;server&gt;
    &lt;id&gt;user-release&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;password&gt;admin123&lt;/password&gt;
&lt;/server&gt;
&lt;server&gt;
    &lt;id&gt;user-snapshots&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;password&gt;admin123&lt;/password&gt;
&lt;/server&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>上传第三方的jar包，选择3rd party–&gt;Artifact Upload–&gt; 选择GAV方式–&gt;填好构建参数–&gt;增加jar包–&gt;上传，在Browse Storeage查看</strong></p><h2 id="docker-1" tabindex="-1"><a class="header-anchor" href="#docker-1" aria-hidden="true">#</a> docker</h2><h3 id="docker容器网络模式" tabindex="-1"><a class="header-anchor" href="#docker容器网络模式" aria-hidden="true">#</a> docker容器网络模式</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>–net选项指定容器的网络模式
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="host模式" tabindex="-1"><a class="header-anchor" href="#host模式" aria-hidden="true">#</a> host模式</h4><p>Docker使用的网络实际上和宿主机一样，在容器内看到的网卡ip是宿主机上的ip</p><p>众所周知，Docker使用了Linux的Namespaces技术来进行资源隔离，如PID Namespace隔离进程，Mount Namespace隔离文件系统，Network Namespace隔离网络等。一个Network Namespace提供了一份独立的网络环境，包括网卡、路由、Iptable规则等都与其他的Network Namespace隔离。一个Docker容器一般会分配一个独立的Network Namespace。但如果启动容器的时候使用host模式，那么这个容器将不会获得一个独立的Network Namespace，而是和宿主机共用一个Network Namespace。容器将不会虚拟出自己的网卡，配置自己的IP等，而是使用宿主机的IP和端口。</p><h4 id="container模式" tabindex="-1"><a class="header-anchor" href="#container模式" aria-hidden="true">#</a> container模式</h4><p>多个容器使用共同的网络看到的ip是一样的</p><p>在理解了host模式后，这个模式也就好理解了。这个模式指定新创建的容器和已经存在的一个容器共享一个Network Namespace，而不是和宿主机共享。新创建的容器不会创建自己的网卡，配置自己的IP，而是和一个指定的容器共享IP、端口范围等。同样，两个容器除了网络方面，其他的如文件系统、进程列表等还是隔离的。两个容器的进程可以通过lo网卡设备通信。</p><h4 id="none模式" tabindex="-1"><a class="header-anchor" href="#none模式" aria-hidden="true">#</a> none模式</h4><p>这种模式下不会配置任何网络。</p><p>这个模式和前两个不同。在这种模式下，Docker容器拥有自己的Network Namespace，但是，并不为Docker容器进行任何网络配置。也就是说，这个Docker容器没有网卡、IP、路由等信息。需要我们自己为Docker容器添加网卡、配置IP等。</p><h4 id="bridge模式" tabindex="-1"><a class="header-anchor" href="#bridge模式" aria-hidden="true">#</a> bridge模式</h4><p>bridge模式是Docker默认的网络设置，此模式会为每一个容器分配Network Namespace、设置IP等，并将一个主机上的Docker容器连接到一个虚拟网桥上。</p><p>类似于Vmware的nat网络模式。同一个宿主机上的所有容器会在同一个网段下，相互之间是可以通信的。</p><h3 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose" aria-hidden="true">#</a> docker-compose</h3><p>新建docker-compose.yml配置文件</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>version: &#39;2&#39;
services:
  tomcat:
    restart: always
    image: tomcat
    container_name: tomcat
    ports:
      - 30000:8080
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>在配置同级目录下运行，或指定配置文件路径</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose -f /conf_path up -d  --后台守护启动
docker-compose -f /conf_path up  --前台启动
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>查看日志</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose logs tomcat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>停止</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose start  --启动
docker-compose stop  --停止
docker-compose dowm  --停止并移除
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="启动命令" tabindex="-1"><a class="header-anchor" href="#启动命令" aria-hidden="true">#</a> 启动命令</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run --name container-name:tag -d -p service_port:docker_port image-name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>–name</strong></p><p>自定义容器名，不指定时，docker 会自动生成一个名称</p><p><strong>-d</strong></p><p>表示后台运行容器</p><p><strong>image-name</strong></p><p>指定运行的镜像名称以及 Tag</p><p><strong>-p</strong></p><p>表示进行服务器与 Docker 容器的端口映射，默认情况下容器中镜像占用的端口是 Docker 容器中的端口与外界是隔绝的，必须进行端口映射才能访问</p><h3 id="基础命令" tabindex="-1"><a class="header-anchor" href="#基础命令" aria-hidden="true">#</a> 基础命令</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker images--镜像列表
docker search--镜像搜索
docker pull--镜像下载
docker ps  查看正在运行的容器
docker ps -a 查看所有启动和未启动的容器
docker stop 停止容器
docker start  命令启动停止运行的容器，同理可以根据 容器名或者 容器 id 进行启动
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除容器or镜像" tabindex="-1"><a class="header-anchor" href="#删除容器or镜像" aria-hidden="true">#</a> 删除容器or镜像</h3><p>删除容器需要先停止</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker rm container-id --删除容器
docker rmi image_name --删除镜像
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看容器日志" tabindex="-1"><a class="header-anchor" href="#查看容器日志" aria-hidden="true">#</a> 查看容器日志</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker logs &lt;container-name&gt;or&lt;container-id &gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="查看容器ip" tabindex="-1"><a class="header-anchor" href="#查看容器ip" aria-hidden="true">#</a> 查看容器ip</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker inspect &lt;container-name&gt;or&lt;container-id &gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="查看镜像具体版本号" tabindex="-1"><a class="header-anchor" href="#查看镜像具体版本号" aria-hidden="true">#</a> 查看镜像具体版本号</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker image inspect iamge_name | grep -i version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="服务重启" tabindex="-1"><a class="header-anchor" href="#服务重启" aria-hidden="true">#</a> 服务重启</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="进入容器" tabindex="-1"><a class="header-anchor" href="#进入容器" aria-hidden="true">#</a> 进入容器</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>进入容器
docker exec -it &lt;name or id&gt; /bin/bash
或者
docker exec -it &lt;name or id&gt; /bin/sh
已root权限进入
docker exec -i -u root -t 容器名称 /bin/bash
exit：退出容器
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="代理配置" tabindex="-1"><a class="header-anchor" href="#代理配置" aria-hidden="true">#</a> 代理配置</h3><p>docker的架构下，docker 只是客户端， 管理，查看容器状态docker ps/run 与容器建立连接docker exec 都是后台dockerd来完成的</p><p><strong>客户端和服务端是单独的两个进程</strong> https_proxy docker pull 是不走代理的</p><p><strong>配置dockerd走代理模式</strong></p><p>/etc/docker/daemon.json 文件可以配置很多选项 <strong>但唯独不能配置https_proxy</strong></p><p><strong>过systemd service配置</strong></p><p>1.创建目录</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo mkdir -p /etc/systemd/system/docker.service.d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2.创建文件</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/etc/systemd/system/docker.service.d/http-proxy.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3.添加配置</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[Service]
Environment=&quot;HTTPS_PROXY=http://&lt;ip&gt;:&lt;port&gt;&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>配置容器走代理</strong>--配置容器内访问internet时，走代理</p><p><strong>第一种方式</strong>：容器home目录添加配置文件</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cat ~/.docker/config.json
{
 &quot;proxies&quot;:
 {
   &quot;default&quot;:
   {
     &quot;httpProxy&quot;: &quot;http://127.0.0.1:3001&quot;,
     &quot;httpsProxy&quot;: &quot;http://127.0.0.1:3001&quot;,
     &quot;noProxy&quot;: &quot;*.test.example.com,.example2.com&quot;
   }
 }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>第二种方式</strong>：通过-e 传环境变量实现</p><h3 id="配置镜像加速" tabindex="-1"><a class="header-anchor" href="#配置镜像加速" aria-hidden="true">#</a> 配置镜像加速</h3><p>修改<code>daemon</code>配置文件<code>/etc/docker/daemon.json</code>来使用加速器</p><p>加速镜像地址可从各云服务商(如：阿里云)处获取</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json &lt;&lt;-&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [&quot;https://3rupg4kz.mirror.aliyuncs.com&quot;]
}
EOF

sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="宿主机-容器间文件复制" tabindex="-1"><a class="header-anchor" href="#宿主机-容器间文件复制" aria-hidden="true">#</a> 宿主机/容器间文件复制</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker cp host_path containerID:container_path
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker cp containerID:container_path host_path
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="修改容器内部时区" tabindex="-1"><a class="header-anchor" href="#修改容器内部时区" aria-hidden="true">#</a> 修改容器内部时区</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>echo Asia/Shanghai &gt; /etc/timezone
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="运行容器内shell脚本" tabindex="-1"><a class="header-anchor" href="#运行容器内shell脚本" aria-hidden="true">#</a> 运行容器内shell脚本</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec db_shouxin_test bash /home/dbrep.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="重命名镜像" tabindex="-1"><a class="header-anchor" href="#重命名镜像" aria-hidden="true">#</a> 重命名镜像</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker tag percona/percona-xtradb-cluster:latest pxc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="elasticsearch" tabindex="-1"><a class="header-anchor" href="#elasticsearch" aria-hidden="true">#</a> ElasticSearch</h2><h3 id="docker容器化部署-1" tabindex="-1"><a class="header-anchor" href="#docker容器化部署-1" aria-hidden="true">#</a> docker容器化部署</h3><h4 id="镜像" tabindex="-1"><a class="header-anchor" href="#镜像" aria-hidden="true">#</a> 镜像</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull elasticsearch:7.3.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --name es -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot; -e &quot;discovery.type=single-node&quot; elasticsearch:7.3.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run --name es -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot; -e &quot;discovery.type=single-node&quot; elasticsearch:7.3.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --name kibana --link=nervous_cohen:elasticsearch -p 5601:5601 kibana:7.3.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="容器内目录" tabindex="-1"><a class="header-anchor" href="#容器内目录" aria-hidden="true">#</a> 容器内目录</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>容器内目录
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="重新挂在目录" tabindex="-1"><a class="header-anchor" href="#重新挂在目录" aria-hidden="true">#</a> 重新挂在目录</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker volume create es_conf
docker volume create es_data
docker volume create es_plugins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="前台启动" tabindex="-1"><a class="header-anchor" href="#前台启动" aria-hidden="true">#</a> 前台启动</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run --name es -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot; -e &quot;discovery.type=single-node&quot; -v es_conf:/usr/share/elasticsearch/config -v es_data:/usr/share/elasticsearch/data -v es_plugins:/usr/share/elasticsearch/plugins  elasticsearch:7.3.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="跨域配置" tabindex="-1"><a class="header-anchor" href="#跨域配置" aria-hidden="true">#</a> 跨域配置</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cluster.name: &quot;docker-cluster&quot;
network.host: 0.0.0.0
http.cors.enabled: true
http.cors.allow-origin: &quot;*&quot;

# minimum_master_nodes need to be explicitly set when bound on a public IP
# set to 1 to allow single node clusters
# Details: https://github.com/elastic/elasticsearch/pull/17288
discovery.zen.minimum_master_nodes: 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="可视化终端" tabindex="-1"><a class="header-anchor" href="#可视化终端" aria-hidden="true">#</a> 可视化终端</h3><h4 id="dejavu-github" tabindex="-1"><a class="header-anchor" href="#dejavu-github" aria-hidden="true">#</a> Dejavu <a href="https://github.com/appbaseio/dejavu" target="_blank" rel="noopener noreferrer">github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><h4 id="elastichd-github" tabindex="-1"><a class="header-anchor" href="#elastichd-github" aria-hidden="true">#</a> ElasticHD <a href="https://github.com/qax-os/ElasticHD" target="_blank" rel="noopener noreferrer">github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><h3 id="启用xpack安全验证" tabindex="-1"><a class="header-anchor" href="#启用xpack安全验证" aria-hidden="true">#</a> 启用xpack安全验证</h3><p>修改配置文件</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>xpack.security.enabled: true
##单个节点
discovery.type: single-node
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>初始化密码</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./elasticsearch-setup-passwords interactive
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="清理索引" tabindex="-1"><a class="header-anchor" href="#清理索引" aria-hidden="true">#</a> 清理索引</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>curl -u elastic -XDELETE http://127.0.0.1:9201/&lt;index_name&gt;*
curl  -XDELETE http://127.0.0.1:9201/&lt;index_name&gt;*
curl -u elastic:wkq1234..00 -XDELETE http://127.0.0.1:9200/&lt;index_name&gt;*
curl -u elastic:0n0RQ45Vdrb7oJo6 -XDELETE http://172.21.0.3:9200/&lt;index_name&gt;*
curl -u elastic:0n0RQ45Vdrb7oJo6 -XDELETE http://172.21.0.3:9200/&lt;index_name&gt;*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="常用的索引动态配置参数" tabindex="-1"><a class="header-anchor" href="#常用的索引动态配置参数" aria-hidden="true">#</a> 常用的索引动态配置参数</h3><ol><li><p><strong>index.number_of_replicas</strong></p><p>每个主分片的副本数，默认为1。</p></li><li><p><strong>index.auto_expand_replicas</strong></p><p>该配置项用于控制集群中副本的数量是否随集群中数据节点的数量进行扩展，默认值为false表示副本数不随数据节点扩展。如果希望扩展，可以将值设置为一个数值范围，如“0-3”表示集群中单个主分片的副本数在0个3个之间，具体情况根据集群中数据节点而定，也可以设置为“0-all”，all表示集群中所有的数据集点的数量。</p><p>注：自动扩展的副本数不会考虑到其它对副本分配可能存在的限制规则，如对分片的识别、过滤或每个节点上总分片的限制，如果适用的规则阻止所有副本的分配置，这可能导致群集运行状况变为黄色。</p></li><li><p><strong>index.search.idle.after</strong></p><p>设置分片多久没有接收过请求，就会被判定为空闲的时间，默认为30秒。</p></li><li><p><strong>index.refresh_interval</strong></p><p>执行刷新操作的频率，该操作使索引的最近更改对搜索可见， 默认为1秒， 可以设置为-1表示禁用刷新。</p><p>如果显示不设置该值，那些在至少${index.search.idle.after}秒之前没有收到过搜索请求的分片，将不会收到后台的刷新请求，一直要等这些分片收到搜索才会收到后台的刷新请求，如果当前搜索涉及到操作空闲状态的分片时，刷新操作会被挂起直到下一次后台的刷新操作（1秒之内），此行为旨在在未执行搜索时自动优化默认情况下的批量索引。</p><p>如果不希望执行此默认逻辑，应当显示的将刷新时间间隔设置为1秒。</p></li><li><p><strong>index.max_result_window</strong></p><p>对当前索引在被执行搜索时，限制此索引的from + size的最大值，以避免占用过大的堆内存， 默认为10000。</p></li><li><p><strong>index.max_inner_result_window</strong></p><p>用于控制顶部聚合from+size的总记录，以避免占用过大的堆内存， 默认为100。</p></li><li><p><strong>index.max_rescore_window</strong></p><p>设置索引的rescore请求的window_size的最大值， 默认为与index.max_result_window的值相同，默认值为10000。</p></li><li><p><strong>index.max_docvalue_fields_search</strong></p><p>查询中允许的最多docvalue_fields数量，默认为100。Doc_value字段的查询成本很高，因为它们可能会导致对每个字段和每个文档执行搜索。</p></li><li><p><strong>index.max_script_fields</strong></p><p>查询中允许的最多script_fields的数量， 默认为32。</p></li><li><p><strong>index.max_ngram_diff</strong></p><p>NGramTokenizer和NGramTokenFilter的min_gram和max_gram之间允许的最大差异值，默认为1。</p></li><li><p><strong>index.max_shingle_diff</strong></p><p>ShingleTokenFilter的max_shingle_size和min_shingle_size之间允许的最大差异值， 默认为3</p></li><li><p><strong>index.blocks.read_only</strong></p><p>控制索引及其元数据是否为只读状态，设置为true表示只读，false为非只读。</p></li><li><p><strong>index.blocks.read_only_allow_delete</strong></p><p>控制索引及其元数据在只读状态下，是否允许执行删除，设置true表示允许删除，false不允许。</p></li><li><p><strong>index.blocks.read</strong></p><p>设置是否允许当前索引可读，true表示不可读。</p></li><li><p><strong>index.blocks.write</strong></p><p>设置是否允许当前索引可写，true表示不可写。与只读read_only不同的是，它不影响到对元数据的操作。例如可以关闭一个blocks.write的索引，但是不可以关闭一个read_only状态的索引。</p></li><li><p><strong>index.blocks.metadata</strong></p><p>控制对metadata的读写，true表示不允许读写。</p></li><li><p><strong>index.max_refresh_listeners</strong></p><p>索引的每个分片上可用的最大刷新侦听器数，这些侦听器用于实现refresh = wait_for的请求。</p></li><li><p><strong>index.analyze.max_token_count</strong></p><p>使用_analyze API可以生成的最大词项数， 默认为10000。</p></li><li><p><strong>index.highlight.max_analyzed_offset</strong></p><p>highlight请求可被分析的最大字符数，此设置仅在highlight请求针对没有偏移量或term vector的索引文本时才会生效， 默认为1000000。</p></li><li><p><strong>index.max_terms_count</strong></p><p>可在term查询中使用的最大term数，默认值为65536。</p></li><li><p><strong>index.max_regex_length</strong></p><p>可以在正则表达式查询中使用的正则表达式的最大长度， 默认为1000。</p></li><li><p><strong>index.routing.allocation.enable</strong></p><p>控制当前索引的分片分配，其值可以设置为：</p><p>all（默认值） - 允许所有分片执行分片分配； primaries - 仅允许为主分片分配分片； new_primaries - 仅允许为新创建的主分片分配分片； none - 不允许执行分片分配；</p></li><li><p><strong>index.routing.rebalance.enable</strong></p><p>设置索引的分片重新平衡策略，其值可以设置为：</p><p>all（默认值） - 允许所有的分片重新平衡； primaries - 仅允许主分片重新平衡； replicas - 仅允许对副本分片进行重新平衡； none - 不允许进行分片重新平衡；</p></li><li><p><strong>index.gc_deletes</strong></p><p>设置已删除文档的版本号仍可用于后续版本化操作的时间， 默认为60秒。</p></li></ol><h3 id="修改最大分片数" tabindex="-1"><a class="header-anchor" href="#修改最大分片数" aria-hidden="true">#</a> 修改最大分片数</h3><p>异常信息：this cluster currently has [999]/[1000] maximum shards open;</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>kibana tools 配置
PUT /_cluster/settings
{
  &quot;transient&quot;: {
    &quot;cluster&quot;: {
      &quot;max_shards_per_node&quot;:10000
    }
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自定义分词方式" tabindex="-1"><a class="header-anchor" href="#自定义分词方式" aria-hidden="true">#</a> 自定义分词方式</h3><h4 id="analyzers" tabindex="-1"><a class="header-anchor" href="#analyzers" aria-hidden="true">#</a> Analyzers</h4><p>语法分析器，ES 包含很多内置的分析器，比如 standard, simple, whitespace 等等。</p><h4 id="tokenizer" tabindex="-1"><a class="header-anchor" href="#tokenizer" aria-hidden="true">#</a> Tokenizer</h4><p>分词器，将指定文本分割为一个一个单词。</p><h4 id="character-filter" tabindex="-1"><a class="header-anchor" href="#character-filter" aria-hidden="true">#</a> Character Filter</h4><p>当一串文本被传递到 Tokenizer 之前，可以用 Character Filter 过滤一遍，处理其中的字符，比如将指定的字符替换成别的字符。</p><h4 id="filter" tabindex="-1"><a class="header-anchor" href="#filter" aria-hidden="true">#</a> Filter</h4><p>经过 Tokenizer 分词结束的单词，可以用 filter 进行处理，比如将其转换成小写字母之类的。</p><h2 id="redis" tabindex="-1"><a class="header-anchor" href="#redis" aria-hidden="true">#</a> redis</h2><h3 id="redis-cli命令" tabindex="-1"><a class="header-anchor" href="#redis-cli命令" aria-hidden="true">#</a> redis-cli命令</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./redis-cli -a 密码  -p 端口  -h ip  -c 已集群模式连接
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="可视化终端-1" tabindex="-1"><a class="header-anchor" href="#可视化终端-1" aria-hidden="true">#</a> 可视化终端</h3><h4 id="anotherredisdesktopmanager-github" tabindex="-1"><a class="header-anchor" href="#anotherredisdesktopmanager-github" aria-hidden="true">#</a> AnotherRedisDesktopManager <a href="https://github.com/qishibo/AnotherRedisDesktopManager" target="_blank" rel="noopener noreferrer">github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><h2 id="jenkins" tabindex="-1"><a class="header-anchor" href="#jenkins" aria-hidden="true">#</a> jenkins</h2><h3 id="docker容器化部署-2" tabindex="-1"><a class="header-anchor" href="#docker容器化部署-2" aria-hidden="true">#</a> docker容器化部署</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull jenkins/jenkins
mkdir /home/jenkins_home 
docker run -d --name jenkins -p 8082:8080 jenkins/jenkins
docker run -d --name jenkins -p 9002:8080 -v jenkins:/var/jenkins_home jenkins/jenkins
容器内目录;/var/jenkins_home/secrets/initialAdminPassword
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="修改容器内maven镜像加速" tabindex="-1"><a class="header-anchor" href="#修改容器内maven镜像加速" aria-hidden="true">#</a> 修改容器内maven镜像加速</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/MAVEN_HOME/conf
docker cp Jenkins_01:/var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/MAVEN_HOME/conf/settings.xml /home
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>修改镜像地址：
&lt;mirror&gt;
    &lt;id&gt;aliyunmaven&lt;/id&gt;
    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun maven&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/public &lt;/url&gt;
&lt;/mirror&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>覆盖容器内文件

docker cp /home/settings.xml Jenkins_01:/var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/MAVEN_HOME/conf/settings.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="前端项目构建" tabindex="-1"><a class="header-anchor" href="#前端项目构建" aria-hidden="true">#</a> 前端项目构建</h3><p>1.选择node环境</p><p><img src="https://file.bbzy.online/blog/image-20221030192047300.png" alt="image-20221030192047300"></p><p>2.编写构建shell脚本</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm config set sass_binary_site=https://npm.taobao.org/mirrors/node-sass
npm rebuild node-sass
node -v
npm -v 
echo &quot;开始构建 v0v&quot;
npm install
npm run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.传送构建文件夹至部署服务器</p><p><img src="https://file.bbzy.online/blog/image-20221030192221662.png" alt="image-20221030192221662"></p><h3 id="后端项目构建" tabindex="-1"><a class="header-anchor" href="#后端项目构建" aria-hidden="true">#</a> 后端项目构建</h3><p><img src="https://file.bbzy.online/blog/EgF-8MInqobjGyYzoGMdGlrDZXK3dQByXjN3jHu5xKg.png" alt="image"></p><p><img src="https://file.bbzy.online/blog/EI-PIn8NFbNrGLf7srNP22otNRqbXgaUuD3IK6PVhuA.png" alt="image"></p><p><img src="https://file.bbzy.online/blog/s2dC_JCh76ndfp1ruHVEw60rwr1xJOB4gd9E4_LVWPI.png" alt="image"></p><p><img src="https://file.bbzy.online/blog/eS0ge3-1LzxKXyydbL5n9ERb4Ub6HAM_yPYD11P7oF8.png" alt="image"></p><p><img src="https://file.bbzy.online/blog/AetON-uVbxod8w25HccAWTUIPb-6LwDkZ27-RryFzRE.png" alt="image"></p><h3 id="删除历史构建" tabindex="-1"><a class="header-anchor" href="#删除历史构建" aria-hidden="true">#</a> 删除历史构建</h3><ol><li><p>方式一【删除指定区间内】</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import jenkins.model.*;
import hudson.model.Fingerprint.RangeSet;

// The name of the job【目录名，如果没有可以不填】.
def jobName = &quot;目录名/项目名&quot;;
// The range of build numbers to delete.
def buildRange = &quot;1214-1221&quot;;
def j = jenkins.model.Jenkins.instance.getItemByFullName(jobName);
def r = RangeSet.fromString(buildRange, true);
j.getBuilds(r).each { it.delete() }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>方式二【删除不大于maxNumber】的记录</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>def jobName = &quot;目录名/项目名&quot;
def maxNumber = 1213
Jenkins.instance.getItemByFullName(jobName);
Jenkins.instance.getItemByFullName(jobName).builds.findAll {
  it.number &lt;= maxNumber
}.each {
  it.delete()
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="job复制脚本" tabindex="-1"><a class="header-anchor" href="#job复制脚本" aria-hidden="true">#</a> job复制脚本</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import hudson.model.*
    //源view
    def str_view = &quot;2手心美业测试环境&quot;
    //目标view
    def str_new_view = &quot;7美业生产-node-1&quot;
    //源job名称(模糊匹配)
    def str_search = &quot;test-&quot;
    //目标job名称(模糊匹配后替换)
    def str_replace = &quot;node1&quot;
    def view = Hudson.instance.getView(str_view)
    //copy all projects of a view
    for(item in view.getItems())
    {
      //create the new project name
      newName = item.getName().replace(str_search, str_replace)
      // copy the job, disable and save it
      def job
      try {
          //因为第一次导入后报错，所以添加了try-catch 跳过已存在的job
          job = Hudson.instance.copy(item, newName)
      } catch(IllegalArgumentException e) {
         println(e.toString())
         println(&quot;$newName job is exists&quot;)
         continue
      } catch(Exception e) {
        println(e.toString())
        continue
      }
      job.disabled = true
      job.save() 
      // update the workspace to avoid having two projects point to the same location
      AbstractProject project = job
      def new_workspace = project.getCustomWorkspace().replace(str_search, str_replace)
      project.setCustomWorkspace(new_workspace)
      project.save()
      //add job to view
      Hudson.instance.getView(str_new_view).add(job)
      println(&quot; $item.name copied as $newName&quot;)
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="脚本类型备份" tabindex="-1"><a class="header-anchor" href="#脚本类型备份" aria-hidden="true">#</a> 脚本类型备份</h3><p><strong>多模块项目部署脚本-jenkins端</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#!/bin/bash
echo &quot;工作空间 $WORKSPACE&quot;
echo &quot;即将部署的项目信息 $project_names&quot;
mvn clean package -pl $project_names -am  -DskipTests
echo &quot;打包完成&quot;
#对IFS变量 进行替换处理
OLD_IFS=&quot;$IFS&quot;
IFS=&quot;,&quot;
array=($project_names)
IFS=&quot;$OLD_IFS&quot;
echo &quot;Begining build project with maven...&quot;
pfx=&quot;-1.jar&quot;
for var in ${array[@]}
do
scp $var/target/$var$pfx root@47.103.120.84:/var/shouxin
echo &quot;程序包传输完成&quot;
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>多模块项目部署脚本-服务端</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>﻿#!/bin/bash
echo &quot;应用发布中 $2&quot;
#进入项目发布目录 参数为1 需要发布的列表参数2
cd $1
#对IFS变量 进行替换处理
echo &quot;Begining build project with maven...&quot;
pfx=&quot;-1.jar&quot;
#对IFS变量 进行替换处理
OLD_IFS=&quot;$IFS&quot;
IFS=&quot;,&quot;
array=($2)
IFS=&quot;$OLD_IFS&quot;
for var in ${array[@]}
do
pid=`ps -ef |grep $var$pfx | grep -v grep | awk &#39;{print $2}&#39;`
if [ -n &quot;$pid&quot; ];then
   kill -9 $pid
   echo &quot;$var$pfx端口进程终止成功&quot;
   else 
   echo &quot;没有检测到$var$pfx端口行为&quot;
 fi
java -Xmx$3m -Xss$3m -jar $var$pfx &gt;/var/log/3km_test/$var.out&amp;
#nohup java -Xmx$3m -Xss$3m -jar $var$pfx &gt;/dev/null 2&gt;&amp;1 &amp;
sleep 25
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>前端项目</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#!/bin/bash
echo &quot;构建中----&quot;
#npm install
#npm run build
echo &quot;构建完成--^0^不要急，正在传送源码---&quot;
#scp -r  $WORKSPACE/.nuxt root@47.103.120.84:/home/shouxin_pc_online/.nuxt
#scp -r -l 5000 $WORKSPACE/static root@47.103.120.84:/home/shouxin_pc_online/static
#scp -r -l 5000 $WORKSPACE/server root@47.103.120.84:/home/shouxin_pc_online/server
#scp -r -l 5000 $WORKSPACE/nuxt.config.js root@47.103.120.84:/home/shouxin_pc_online
#scp -r -l 5000 $WORKSPACE/package.json root@47.103.120.84:/home/shouxin_pc_online
#scp -r -l 5000 $WORKSPACE/node_modules root@47.103.120.84:/home/shouxin_pc_online/node_modules
scp -r -l 5000 $WORKSPACE/assets root@47.103.120.84:/home/shouxin_pc_online/node_modules/assets
echo &quot;--- 发布成功-----^^^^^^^^^^^^^^&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>服务端构架脚本-jar程序</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#! /bin/sh
echo &quot;movecomplate&quot;
cd /opt/3km$1
pid=`ps -ef |grep $2.jar | grep -v grep | awk &#39;{print $2}&#39;`
echo &quot;检测到端口值---&quot;$pid
if [ -n &quot;$pid&quot; ];then
   kill -9 $pid
   echo &quot;$2端口进程终止成功&quot;
   nohup java -Xmx$3m -Xss$3m -jar $2.jar  &gt;/dev/null 2&gt;&amp;1 &amp;
    echo &quot;RESTART--SUCCESS&quot;
   else 
   echo &quot;没有检测到$2端口行为&quot;
   #java -Xmx$3m -Xss$3m -jar $2.jar &gt;/var/log/shouxin-log/$2.out&amp;
   nohup java -Xmx$3m -Xss$3m -jar $2.jar  &gt;/dev/null 2&gt;&amp;1 &amp;
   echo &quot;START--SUCCESS&quot;
 fi
echo &quot;END&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>服务端构建-前段项目</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#!/bin/bash
#your_name=&quot;bbzy&quot; 
#echo $your_name
#your_name=&quot;123&quot;
#echo $your_name
#echo ${your_name}


echo &quot;添加权限&quot;
chmod -R 777 $1
echo &quot;添加权限-成功&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx" aria-hidden="true">#</a> Nginx</h2><h3 id="基于网关的负载均衡" tabindex="-1"><a class="header-anchor" href="#基于网关的负载均衡" aria-hidden="true">#</a> 基于网关的负载均衡</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>upstream mygateway{
    server 172.16.*.**:10200 weight=1;
    server 172.16.*.**:10200 weight=1;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server {
        listen       80;
        server_name  _;
        large_client_header_buffers 4 16k;
        client_max_body_size 300m;
        client_body_buffer_size 128k;
        proxy_connect_timeout 600;
        proxy_read_timeout 600;
        proxy_send_timeout 600;
        proxy_buffer_size 64k;
        proxy_buffers   4 32k;
        proxy_busy_buffers_size 64k;
        proxy_temp_file_write_size 64k;
       location / {
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_pass http://mygateway;
        }
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nginx-reload-与-restart-的区别" tabindex="-1"><a class="header-anchor" href="#nginx-reload-与-restart-的区别" aria-hidden="true">#</a> nginx reload 与 restart 的区别</h3><p>reload --重新加载，reload会重新加载配置文件，Nginx服务不会中断。而且reload时会测试conf语法等，如果出错会rollback用上一次正确配置文件保持正常运行。</p><p>restart --重启（先stop后start），会重启Nginx服务。这个重启会造成服务一瞬间的中断，如果配置文件出错会导致服务启动失败，那就是更长时间的服务中断了。 所以，如果是线上的服务，修改的配置文件一定要备份。为了保证线上服务高可用，最好使用reload。</p><p><strong>reload 实现过程</strong></p><p><img src="https://file.bbzy.online/blog/1368870-20200103170923856-1363899594.png" alt="image"></p><p>reload 只是重新加载配置文件，不会清理nginx 的一些缓存，在有些需要清理缓存的场景需要restart ，例如upstream 后端配置的集群服务地址是域名而不是ip，当后端IP 变了，就需要清除该域名的解析缓存，此时需要重启而不是reload。</p><h3 id="常用经典配置" tabindex="-1"><a class="header-anchor" href="#常用经典配置" aria-hidden="true">#</a> 常用经典配置</h3><p><strong>二级目录映射 目前前后端项目分离场景多了以后，一般是前端一个端口，后端一个端口。</strong></p><p>如前端是<a href="https://example.com/index.html%EF%BC%8C%E8%B0%83%E7%94%A8%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%98%AFhttps://example.com:4433" target="_blank" rel="noopener noreferrer">https://example.com/index.html，调用的接口是https://example.com:4433<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>如此部署对于一些小项目未免有些麻烦，当然你在公网环境下也可以选择使用子域名、其他域名进行跨域访问。</p><p>这里说的是同一个域名，同一个端口，让前后端同时进行访问服务。</p><p>前端地址：<a href="https://example.com/index.html" target="_blank" rel="noopener noreferrer">https://example.com/index.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>接口地址：[https://example.com/api/](</p><p>这里先记录我已经测试通过的反向代理的方式，即不改变原本的server配置。直接通过反向代理将example.com/api 重定向到 example.com:4443/</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>location ^~ /api/ {
    proxy_pass  https://example.com:4433/;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>location段的^~是代表某个字符作为开头匹配，这里就是以/api/作为开头进行匹配URL规则。</p><p>这里不能写作~~，因为~~是正则匹配的意思，用了正则就不能再proxy_pass段配置URI了，所谓URI就是4433端口后面的/。</p><p>如果不写/，当访问example.com/api/index.php时，会代理到example.com:4433/api/index.php。并不能定位到后端的根路径，所以这里以/结束。</p><p>非标准HTTPS端口重定向 如果想让你的非标准https端口，如2083支持HTTP跳转HTTPS访问，请参照如下配置。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>error_page 497 https://$host:2083$request_uri;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果不这么配置，默认当用户不确定网站协议时，采用了HTTP协议访问你的HTTPS网站就会出现无法访问。</p><p>错误如：The plain HTTP request was sent to HTTPS port</p><p>HTTP强制跳转HTTPS 日常为了保证访客安全性，我们常常需要让全站保持HTTPS访问，那么你可以通过以下配置。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server {
    listen 80 default_server;
    server_name example.com;
    rewrite ^(.*) https://$server_name$1 permanent;
    #上面的rewrite也可以写作
    return 301 https://$host$request_uri;
}
server {
    listen 443 ssl;
    server_name example.com;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>做法是，让80监听到的HTTP链接全部重定向到HTTPS端口中。</p><p>端口转发 Nginx端口转发性能也非常强大，可以用于内网<a href="https://cloud.tencent.com/solution/database?from=10680" target="_blank" rel="noopener noreferrer">数据库<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、其他服务端口外露的场景。</p><p>如将内网的192.168.1.2MySQL数据库端口通过Nginx所在服务器的33062端口进行外露。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>upstream TCP3306 {
    hash $remote_addr consistent;
    server 192.168.1.2:3306;
}

server {
    listen 33062;
    proxy_connect_timeout 5s;
    proxy_timeout 300s;
    proxy_pass TCP3306;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="socker支持配置" tabindex="-1"><a class="header-anchor" href="#socker支持配置" aria-hidden="true">#</a> socker支持配置</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>location  / { 
        proxy_pass http://10.0.0.3:8702/;
            proxy_http_version 1.1;
            proxy_redirect off;
            proxy_buffering off;
            proxy_set_header X-NginX-Proxy true;
            proxy_set_header Host $host;
            proxy_set_header Http-Host $http_host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header REMOTE-HOST $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection $connection_upgrade;
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mq" tabindex="-1"><a class="header-anchor" href="#mq" aria-hidden="true">#</a> MQ</h2><h3 id="rabbitmq" tabindex="-1"><a class="header-anchor" href="#rabbitmq" aria-hidden="true">#</a> rabbitmq</h3><h4 id="docker容器化部署-3" tabindex="-1"><a class="header-anchor" href="#docker容器化部署-3" aria-hidden="true">#</a> docker容器化部署</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull rabbitmq:3.7.24
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="方式1–默认账户启动" tabindex="-1"><a class="header-anchor" href="#方式1–默认账户启动" aria-hidden="true">#</a> 方式1–默认账户启动</h5><p>默认guest 用户，密码也是 guest</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --hostname my-rabbit --name mq -p 15672:15672 -p 5672:5672 rabbitmq:3.7.24
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="方式2–指定账户启动" tabindex="-1"><a class="header-anchor" href="#方式2–指定账户启动" aria-hidden="true">#</a> 方式2–指定账户启动</h5><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --hostname my-rabbit --name rabbit -e RABBITMQ_DEFAULT_USER=user -e RABBITMQ_DEFAULT_PASS=password -p 15672:15672 -p 5672:5672 rabbitmq:management
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="安装插件" tabindex="-1"><a class="header-anchor" href="#安装插件" aria-hidden="true">#</a> 安装插件</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker cp /root/rabbitmq_delayed_message_exchange-3.8.0.ez mq:/opt/rabbitmq/plugins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="启动插件" tabindex="-1"><a class="header-anchor" href="#启动插件" aria-hidden="true">#</a> 启动插件</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rabbitmq-plugins enable rabbitmq_delayed_message_exchange
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="查看插件列表" tabindex="-1"><a class="header-anchor" href="#查看插件列表" aria-hidden="true">#</a> 查看插件列表</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rabbitmq-plugins list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="启用web客户端" tabindex="-1"><a class="header-anchor" href="#启用web客户端" aria-hidden="true">#</a> 启用web客户端</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rabbitmq-plugins enable rabbitmq_management   # 启用插件
service rabbitmq-server restart    # 重启

通过 http://localhost:15672 查看，使用默认账户guest/guest 登录。 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="延时插件" tabindex="-1"><a class="header-anchor" href="#延时插件" aria-hidden="true">#</a> 延时插件</h4><p>插件目录</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/opt/rabbitmq/plugins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>启用命令</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rabbitmq-plugins enable rabbitmq_delayed_message_exchange
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="python" tabindex="-1"><a class="header-anchor" href="#python" aria-hidden="true">#</a> python</h2><h3 id="包管理工具anaconda" tabindex="-1"><a class="header-anchor" href="#包管理工具anaconda" aria-hidden="true">#</a> 包管理工具Anaconda</h3><p><a href="https://www.anaconda.com/" target="_blank" rel="noopener noreferrer">官网地址<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h4 id="基本命令" tabindex="-1"><a class="header-anchor" href="#基本命令" aria-hidden="true">#</a> 基本命令</h4><p><strong>conda info</strong> 查询 conda 信息</p><p>**conda create -n 环境名 ** 创建环境</p><p><strong>conda info --envs</strong> 查看当前所有环境</p><p><strong>conda activate &lt;env_name&gt;</strong> 激活环境</p><p><strong>conda list</strong> 查看当前环境中的包</p><p><strong>deactivate &lt;env_name&gt;</strong> 推出当前环境</p><p><strong>conda remove -n 环境名 --all</strong> 删除指定环境</p><p><strong>conda install &lt;package_name&gt;</strong> 使用conda安装库</p><p><strong>pip install &lt;package_name&gt;</strong> 使用pip安装</p><h2 id="java" tabindex="-1"><a class="header-anchor" href="#java" aria-hidden="true">#</a> java</h2><h3 id="jabba环境管理工具" tabindex="-1"><a class="header-anchor" href="#jabba环境管理工具" aria-hidden="true">#</a> jabba环境管理工具</h3><p><a href="https://github.com/shyiko/jabba" target="_blank" rel="noopener noreferrer">github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><strong>window安装命令 在powershell上执行下面命令</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
Invoke-Expression (
  Invoke-WebRequest https://github.com/shyiko/jabba/raw/master/install.ps1 -UseBasicParsing
).Content
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>如果执行上面命令报错，可能是win10脚本执行策略问题，修改可以执行下边命令：</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Set-ExecutionPolicy -Scope CurrentUser
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>执行后会出<code>“ExecutionPolicy:”</code>提示信息，输入<code>RemoteSigned</code>，回车确定后在按<code>Y</code>确定执行。</strong></p><p><strong>验证是否安装成功</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>在powershell上执行下面命令

jabba --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意 此工具需要在powershell上执行工作命令</strong></p><p><strong><a href="https://raw.githubusercontent.com/" target="_blank" rel="noopener noreferrer">执行jabba ls-remote 后 raw.githubusercontent.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 域名报错问题</strong></p><p>执行以下命令</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$Env:http_proxy=&quot;http://127.0.0.1:10809&quot;;$Env:https_proxy=&quot;http://127.0.0.1:10809&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="命令" tabindex="-1"><a class="header-anchor" href="#命令" aria-hidden="true">#</a> 命令</h4><p><strong>安装 Oracle JDK</strong></p><p>jabba install 1.8</p><p><strong>从自己指定url安装</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>jabba install 1.8.0-custom=tgz+
tgz+  =  http://example.com/distribution.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>将系统中已安装的JDK链接到jabba中</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>jabba link system@1.8.72 /Library/Java/JavaVirtualMachines/jdk1.8.0_72.jdk
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>切换使用的JDK版本</strong></p><ol><li><p>通过命令切换</p><p>jabba use adopt@1.8 jabba use zulu@~1.6.97</p></li><li><p>通过配置文件切换</p><p>echo &quot;1.8&quot; &gt; .jabbarc</p></li><li><p>通过jabba alias切换</p><p>jabba alias default 1.8 这个命令是每次打开一个新终端，就会自动地 jabba use 这个版本</p></li></ol><h3 id="jdk工具-keytool生成jks密钥库" tabindex="-1"><a class="header-anchor" href="#jdk工具-keytool生成jks密钥库" aria-hidden="true">#</a> JDK工具 keytool生成JKS密钥库</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>keytool -genkey -alias mymedical -keyalg RSA -keypass 123456 -keystore C:\Users\wkq\Desktop\mymedical.jks -storepass 123456
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>-genkey 生成密钥

-alias 别名

-keyalg 密钥算法

-keypass 密钥口令

-keystore 生成密钥库的存储路径和名称

-storepass 密钥库口令
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mac" tabindex="-1"><a class="header-anchor" href="#mac" aria-hidden="true">#</a> mac</h2><h3 id="终端环境切换" tabindex="-1"><a class="header-anchor" href="#终端环境切换" aria-hidden="true">#</a> 终端环境切换</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>chsh -s /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>chsh -s /bin/zsh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="npm" tabindex="-1"><a class="header-anchor" href="#npm" aria-hidden="true">#</a> NPM</h3><h4 id="镜像配置" tabindex="-1"><a class="header-anchor" href="#镜像配置" aria-hidden="true">#</a> 镜像配置</h4><p><strong>修改成腾讯云镜像源</strong></p><p>1、命令</p><p>npm config set registry http://mirrors.cloud.tencent.com/npm/</p><p>2. 验证命令</p><p>npm config get registry</p><p>如果返回http://mirrors.cloud.tencent.com/npm/，说明镜像配置成功。</p><p><strong>修改成淘宝镜像源</strong></p><p>1. 命令</p><p>npm config set registry https://registry.npmmirror.com</p><p>2. 验证命令</p><p>npm config get registry</p><p>如果返回https://registry.npmmirror.com，说明镜像配置成功。</p><p><strong>修改成华为云镜像源</strong></p><p>1. 命令</p><p>npm config set registry https://mirrors.huaweicloud.com/repository/npm/</p><p>2. 验证命令</p><p>npm config get registry</p><p>如果返回https://mirrors.huaweicloud.com/repository/npm/，说明镜像配置成功。</p><p><strong>通过使用淘宝定制的cnpm安装</strong></p><p>1. 安装cnpm</p><p>npm install -g cnpm --registry=https://registry.npmmirror.com</p><p>2. 使用cnpm</p><p>cnpm install xxx</p><h2 id="nuxt" tabindex="-1"><a class="header-anchor" href="#nuxt" aria-hidden="true">#</a> nuxt</h2><h3 id="基于pm2的部署" tabindex="-1"><a class="header-anchor" href="#基于pm2的部署" aria-hidden="true">#</a> 基于pm2的部署</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>pm2 start npm –name ‘pc-nuxt’ – run start将nuxt项目跑在了pm2上，并且命名为 pc-nuxt；
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>用法
$ npm install pm2 -g     # 命令行安装 pm2
$ pm2 start app.js -i 4 #后台运行pm2，启动4个app.js
                                # 也可以把&#39;max&#39; 参数传递给 start
                                # 正确的进程数目依赖于Cpu的核心数目
$ pm2 start app.js --name my-api # 命名进程
$ pm2 list               # 显示所有进程状态
$ pm2 monit              # 监视所有进程
$ pm2 logs               #  显示所有进程日志
$ pm2 stop all           # 停止所有进程
$ pm2 restart all        # 重启所有进程
$ pm2 reload all         # 0秒停机重载进程 (用于 NETWORKED 进程)
$ pm2 stop 0             # 停止指定的进程
$ pm2 restart 0          # 重启指定的进程
$ pm2 startup            # 产生 init 脚本 保持进程活着
$ pm2 web                # 运行健壮的 computer API endpoint
$ pm2 delete 0           # 杀死指定的进程
$ pm2 delete all         # 杀死全部进程
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo apt-get install -y nodejs-legacy
sudo apt-get install -y npm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nvm" tabindex="-1"><a class="header-anchor" href="#nvm" aria-hidden="true">#</a> nvm</h2><p><a href="https://github.com/coreybutler/nvm-windows" target="_blank" rel="noopener noreferrer">github<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><strong>基本命令</strong></p><table><thead><tr><th>nvm install latest</th><th>安装最新版本的 nodejs</th></tr></thead><tbody><tr><td>nvm use 版本号</td><td>使用指定版本的node</td></tr><tr><td>nvm install 版本号</td><td>安装指定版本的node</td></tr><tr><td>nvm ls-remote</td><td>查看远程版本号</td></tr></tbody></table></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/bbzywkq/bbzywkq.github.io/edit/main/docs/待整理/README.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页"><!--[--><!--]--> 在 GitHub 上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">编辑者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: bbzykkall@gmail.com">bbzywkq</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: bbzykkall@gmail.com">bbzy alone</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.234ff118.js" defer></script>
  </body>
</html>
