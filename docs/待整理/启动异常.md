# 启动异常
### 警告一
```Plain Text
WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never > /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.
```
临时解决：

```Plain Text
echo never > /sys/kernel/mm/transparent_hugepage/enabled
```
永久解决：

```Plain Text
写入/etc/rc.local文件
iftest -f /sys/kernel/mm/redhat_transparent_hugepage/enabled; then
echo never > /sys/kernel/mm/redhat_transparent_hugepage/enabled
fi
```
### 警告二
The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.

```Plain Text
echo 511 > /proc/sys/net/core/somaxconn
```
### 警告三
WARNING overcommit\_memory is set to 0! Background save may fail under low memory condition. To fix this issue add ‘vm.overcommit\_memory = 1’ to /etc/sysctl.conf and then reboot or run the command ‘sysctl vm.overcommit\_memory=1’ for this to take effect.

```Plain Text
echo 1 > /proc/sys/vm/overcommit_memory
```
### 错误4
(error) MISCONF Redis is configured to save RDB snapshots, but is currently not able to persist on disk.

Redis被配置为保存数据库快照，但它目前不能持久化到硬盘。用来修改集合数据的命令不能用。请查看Redis日志的详细错误信息。
原因：
强制关闭Redis快照导致不能持久化。
运行redis-cli 客户端

```Plain Text
config set stop-writes-on-bgsave-error no
```
命令后，关闭配置项stop-writes-on-bgsave-error解决该问题。

