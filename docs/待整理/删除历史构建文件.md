# 删除历史构建文件
方法一【删除一个区间】：

```Plain Text
import jenkins.model.*;
import hudson.model.Fingerprint.RangeSet;

// The name of the job【目录名，如果没有可以不填】.
def jobName = "目录名/项目名";
// The range of build numbers to delete.
def buildRange = "1214-1221";
def j = jenkins.model.Jenkins.instance.getItemByFullName(jobName);
def r = RangeSet.fromString(buildRange, true);
j.getBuilds(r).each { it.delete() }
```
方法二【删除不大于maxNumber 的记录】：

```Plain Text
def jobName = "目录名/项目名"
def maxNumber = 1213
Jenkins.instance.getItemByFullName(jobName);
Jenkins.instance.getItemByFullName(jobName).builds.findAll {
  it.number <= maxNumber
}.each {
  it.delete()
}
```
