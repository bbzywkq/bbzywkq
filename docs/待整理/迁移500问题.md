# 迁移500问题
[gitlab](https://so.csdn.net/so/search?q=gitlab)备份时不知道需要备份以下三个文件，而后导致了一系列的问题。截至11.11-ee，这个问题依然存在。

```Plain Text
/etc/gitlab/gitlab-secrets.json
/etc/gitlab/gitlab.rb
/home/git/gitlab/config/secrets.yml 

```
# 处理方式
```Plain Text
gitlab-rails dbconsole
gitlabhq_production=> UPDATE projects SET runners_token = null, runners_token_encrypted = null;
UPDATE 88
gitlabhq_production=> UPDATE namespaces SET runners_token = null, runners_token_encrypted = null;
UPDATE 37
gitlabhq_production=> UPDATE application_settings SET runners_registration_token_encrypted = null;
UPDATE 6
-- 使用此方法后会重置相关CI的所有密钥和token
```
