import{_ as d,r,o as l,c as t,b as e,d as n,e as s,a}from"./app.234ff118.js";const c={},o=a(`<h1 id="\u6C47\u603B" tabindex="-1"><a class="header-anchor" href="#\u6C47\u603B" aria-hidden="true">#</a> \u6C47\u603B</h1><h2 id="linux" tabindex="-1"><a class="header-anchor" href="#linux" aria-hidden="true">#</a> Linux</h2><h3 id="\u5B89\u88C5\u5B57\u4F53\u5305" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u5B57\u4F53\u5305" aria-hidden="true">#</a> \u5B89\u88C5\u5B57\u4F53\u5305</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd /usr/share/fonts/
mkdir &lt;name&gt;
\u5237\u65B0\u7F13\u5B58
mkfontscale
fc-cache -fv
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6839\u636E\u6587\u4EF6\u524D\u7F00\u5220\u9664" tabindex="-1"><a class="header-anchor" href="#\u6839\u636E\u6587\u4EF6\u524D\u7F00\u5220\u9664" aria-hidden="true">#</a> \u6839\u636E\u6587\u4EF6\u524D\u7F00\u5220\u9664</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>find ./ -name &#39;&lt;prefix&gt;*&#39; -exec rm {} \\;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="du-df\u6587\u4EF6\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#du-df\u6587\u4EF6\u547D\u4EE4" aria-hidden="true">#</a> du/df\u6587\u4EF6\u547D\u4EE4</h3><p><strong>\u663E\u793A\u5F53\u524D\u76EE\u5F55\u4E0B\u6240\u6709\u4E00\u7EA7\u5B50\u76EE\u5F55\u7684\u5927\u5C0F\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>du -h --max-depth=1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u663E\u793A\u5F53\u524D\u76EE\u5F55\u7684\u603B\u5927\u5C0F\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>du -sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u663E\u793A\u5F53\u524D\u76EE\u5F55\u4E0B\u6240\u6709\u5B50\u76EE\u5F55\u7684\u5927\u5C0F\uFF0C\u9012\u8FDB\u5230\u6700\u5927\u6DF1\u5EA6\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>du -h
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>df -h</strong> \u547D\u4EE4\u67E5\u770B\u6574\u4F53\u78C1\u76D8\u4F7F\u7528\u60C5\u51B5</p><p>\u4F7F\u7528 <strong>du -ah --max-depth=1</strong> / \u53EF\u4EE5\u67E5\u770B\u6839\u76EE\u5F55\u4E0B\u5404\u4E2A\u6587\u4EF6\u5360\u7528\u60C5\u51B5</p><p><strong>du -h \u2013max-depth=1 /var/log/*</strong> \u67E5\u770B/var/log\u8DEF\u5F84\u4E0B\u6587\u4EF6\u7684\u5927\u5C0F</p><p><strong>du -sh /*</strong> \u67E5\u770B\u54EA\u4E2A\u76EE\u5F55\u6700\u5927\uFF0C\u4E00\u6B65\u4E00\u6B65\u7684\u67E5\u627E\u5927\u6587\u4EF6</p><p><strong>du -bsh /***/</strong> \u547D\u4EE4 \u67E5\u770B\u67D0\u4E2A\u76EE\u5F55</p><p>\u7528find \u547D\u4EE4\u627E\u5230\u5F53\u524D\u76EE\u5F55\u5927\u4E8E500M\u6587\u4EF6 <strong>find . -size +500M</strong></p><p>\u67E5\u627E\u8DDF\u76EE\u5F55\u4E0B\u5927\u4E8E10M\u7684\u6587\u4EF6 <strong>find / -type f -size +10000000c -exec du -sh {} \\;</strong></p><h4 id="du\u5E38\u7528\u7684\u9009\u9879" tabindex="-1"><a class="header-anchor" href="#du\u5E38\u7528\u7684\u9009\u9879" aria-hidden="true">#</a> <strong>du</strong>\u5E38\u7528\u7684\u9009\u9879\uFF1A</h4><p>\u200B -h\uFF1A\u4EE5\u4EBA\u7C7B\u53EF\u8BFB\u7684\u65B9\u5F0F\u663E\u793A \u3000\u3000-a\uFF1A\u663E\u793A\u76EE\u5F55\u5360\u7528\u7684\u78C1\u76D8\u7A7A\u95F4\u5927\u5C0F\uFF0C\u8FD8\u8981\u663E\u793A\u5176\u4E0B\u76EE\u5F55\u548C\u6587\u4EF6\u5360\u7528\u78C1\u76D8\u7A7A\u95F4\u7684\u5927\u5C0F \u3000\u3000-s\uFF1A\u663E\u793A\u76EE\u5F55\u5360\u7528\u7684\u78C1\u76D8\u7A7A\u95F4\u5927\u5C0F\uFF0C\u4E0D\u8981\u663E\u793A\u5176\u4E0B\u5B50\u76EE\u5F55\u548C\u6587\u4EF6\u5360\u7528\u7684\u78C1\u76D8\u7A7A\u95F4\u5927\u5C0F \u3000\u3000-c\uFF1A\u663E\u793A\u51E0\u4E2A\u76EE\u5F55\u6216\u6587\u4EF6\u5360\u7528\u7684\u78C1\u76D8\u7A7A\u95F4\u5927\u5C0F\uFF0C\u8FD8\u8981\u7EDF\u8BA1\u5B83\u4EEC\u7684\u603B\u548C \u3000\u3000--apparent-size\uFF1A\u663E\u793A\u76EE\u5F55\u6216\u6587\u4EF6\u81EA\u8EAB\u7684\u5927\u5C0F \u3000\u3000-l \uFF1A\u7EDF\u8BA1\u786C\u94FE\u63A5\u5360\u7528\u78C1\u76D8\u7A7A\u95F4\u7684\u5927\u5C0F \u3000\u3000-L\uFF1A\u7EDF\u8BA1\u7B26\u53F7\u94FE\u63A5\u6240\u6307\u5411\u7684\u6587\u4EF6\u5360\u7528\u7684\u78C1\u76D8\u7A7A\u95F4\u5927\u5C0F</p><p><strong>du -sh</strong> : \u67E5\u770B\u5F53\u524D\u76EE\u5F55\u603B\u5171\u5360\u7684\u5BB9\u91CF\u3002\u800C\u4E0D\u5355\u72EC\u5217\u51FA\u5404\u5B50\u9879\u5360\u7528\u7684\u5BB9\u91CF</p><p><strong>du -lh --max-depth=1</strong> : \u67E5\u770B\u5F53\u524D\u76EE\u5F55\u4E0B\u4E00\u7EA7\u5B50\u6587\u4EF6\u548C\u5B50\u76EE\u5F55\u5360\u7528\u7684\u78C1\u76D8\u5BB9\u91CF\u3002</p><p><strong>lsof -n | grep deleted</strong> (\u67E5\u770B\u5220\u9664\u5360\u7528)</p><h3 id="scp" tabindex="-1"><a class="header-anchor" href="#scp" aria-hidden="true">#</a> scp</h3><p>\u5BF9\u62F7\u6587\u4EF6\u5939 (\u5305\u62EC\u6587\u4EF6\u5939\u672C\u8EAB)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scp -r   /home/wwwroot/www/charts/util root@192.168.1.65:/home/wwwroot/limesurvey_back/scp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5BF9\u62F7\u6587\u4EF6\u5939\u4E0B\u6240\u6709\u6587\u4EF6 (\u4E0D\u5305\u62EC\u6587\u4EF6\u5939\u672C\u8EAB)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scp   /home/wwwroot/www/charts/util/* root@192.168.1.65:/home/wwwroot/limesurvey_back/scp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5BF9\u62F7\u6587\u4EF6\u5E76\u91CD\u547D\u540D</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scp   /home/wwwroot/www/charts/util/a.txt root@192.168.1.65:/home/wwwroot/limesurvey_back/scp/b.text
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u628A\u672C\u5730 /var/log/sql-slow-queries.log \u8FD9\u4E2A\u6587\u4EF6copy\u52301.50\u4E0A\u9762/root \u76EE\u5F55\u4E0B\u9762</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scp /var/log/sql-slow-queries.log root@192.168.1.50:/root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,34),u=e("a",{href:"mailto:root@192.168.6.129"},"root@192.168.6.129",-1),v=e("a",{href:"mailto:remote@www.abc.com"},"remote@www.abc.com",-1),m={href:"http://www.abc.com/",target:"_blank",rel:"noopener noreferrer"},p=e("a",{href:"mailto:remote@www.abc.com"},"remote@www.abc.com",-1),b=a(`<h2 id="git" tabindex="-1"><a class="header-anchor" href="#git" aria-hidden="true">#</a> git</h2><h3 id="docker\u5BB9\u5668\u5316\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#docker\u5BB9\u5668\u5316\u90E8\u7F72" aria-hidden="true">#</a> docker\u5BB9\u5668\u5316\u90E8\u7F72</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --name gitlab2 --restart always \\
    -p 19443:443 -p 19080:80 -p 19022:22 \\
    -v /path/to/conf:/etc/gitlab \\
    -v /path/to/logs:/var/log/gitlab \\
    -v /path/to/data:/var/opt/gitlab \\
    033bcfa1b036
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gitlab\u5907\u4EFD\u6062\u590D\u8FC1\u79FB" tabindex="-1"><a class="header-anchor" href="#gitlab\u5907\u4EFD\u6062\u590D\u8FC1\u79FB" aria-hidden="true">#</a> gitlab\u5907\u4EFD\u6062\u590D\u8FC1\u79FB</h3><h4 id="\u5907\u4EFD" tabindex="-1"><a class="header-anchor" href="#\u5907\u4EFD" aria-hidden="true">#</a> \u5907\u4EFD</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#\u751F\u6210\u5907\u4EFD\u6587\u4EF6\uFF1A\u9ED8\u8BA4\u5730\u5740\uFF1A/var/opt/gitlab/backups/
gitlab-rake gitlab:backup:create
\u590D\u5236\u6587\u4EF6\u5230\u5BBF\u4E3B\u673A\u4E0B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u6062\u590D" tabindex="-1"><a class="header-anchor" href="#\u6062\u590D" aria-hidden="true">#</a> \u6062\u590D</h4><p>\u5C06\u5907\u4EFD\u6587\u4EF6\u6743\u9650\u4FEE\u6539\u4E3A777\uFF0C\u907F\u514D\u51FA\u73B0\u6743\u9650\u4E0D\u591F\u7684\u95EE\u9898</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd /var/opt/gitlab/backups
rm rf tmp/ #\u5220\u9664\u65E0\u7528\u4E34\u65F6\u6587\u4EF6
chomd 777 &lt;name&gt;_gitlab_backup.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u505C\u6B62\u6570\u636E\u8FDE\u63A5\u670D\u52A1</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>gitlab-ctl stop unicorn
gitlab-ctl stop sidekiq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6062\u590D\u5907\u4EFD\u6587\u4EF6\u5230GitLab</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>gitlab-rake gitlab:backup:restore BACKUP=\u5907\u4EFD\u6587\u4EF6\u7F16\u53F7
\u4F8B\u5982\uFF1A\u5907\u4EFD\u6587\u4EF6\u540D\u4E3A\`1561597102_2019_06_27_12.0.1_gitlab_backup.tar\`\uFF0C\u5219\u7F16\u53F7\u4E3A\`1561597102_2019_06_27_12.0.1\`\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u542F\u52A8GitLab</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>gitlab-ctl start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u67E5\u65B0\u65E7GitLab\u7684\u5185\u5BB9</p><h3 id="gitlab\u8FC1\u79FB500\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#gitlab\u8FC1\u79FB500\u95EE\u9898" aria-hidden="true">#</a> gitlab\u8FC1\u79FB500\u95EE\u9898</h3><p>\u5907\u4EFD\u547D\u4EE4\u65F6\u4E0D\u77E5\u9053\u9700\u8981\u5907\u4EFD\u4EE5\u4E0B\u4E09\u4E2A\u6587\u4EF6\uFF0C\u800C\u540E\u5BFC\u81F4\u4E86\u4E00\u7CFB\u5217\u7684\u95EE\u9898\u3002\u622A\u81F311.11-ee\uFF0C\u8FD9\u4E2A\u95EE\u9898\u4F9D\u7136\u5B58\u5728</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/etc/gitlab/gitlab-secrets.json
/etc/gitlab/gitlab.rb
/home/git/gitlab/config/secrets.yml 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u89E3\u51B3\u529E\u6CD5</strong> \u91CD\u7F6E\u76F8\u5173CI\u7684\u6240\u6709\u5BC6\u94A5\u548Ctoken</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>gitlab-rails dbconsole
gitlabhq_production=&gt; UPDATE projects SET runners_token = null, runners_token_encrypted = null;
UPDATE 88
gitlabhq_production=&gt; UPDATE namespaces SET runners_token = null, runners_token_encrypted = null;
UPDATE 37
gitlabhq_production=&gt; UPDATE application_settings SET runners_registration_token_encrypted = null;
UPDATE 6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git\u914D\u7F6E\u4EE3\u7406" tabindex="-1"><a class="header-anchor" href="#git\u914D\u7F6E\u4EE3\u7406" aria-hidden="true">#</a> git\u914D\u7F6E\u4EE3\u7406</h3><p>\u66F4\u6539\u7528\u6237\u4E3B\u76EE\u5F55.gitconfig\u6587\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[http]
        proxy = socks5://127.0.0.1:1080
[https]
        proxy = socks5://127.0.0.1:1080
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git\u5408\u5E76\u5FFD\u7565" tabindex="-1"><a class="header-anchor" href="#git\u5408\u5E76\u5FFD\u7565" aria-hidden="true">#</a> git\u5408\u5E76\u5FFD\u7565</h3><p>\u521B\u5EFA\u81EA\u5B9A\u4E49merge driver</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git config --global merge.ours.driver true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5728\u8981\u88ABmerge\u7684\u5206\u652F\u4E0A\u521B\u5EFA.gitattributes\u6587\u4EF6,\u5E76\u4E14\u5728\u6587\u4EF6\u4E2D\u7F6E\u9876\u4E0Dmerge\u7684\u6587\u4EF6\u540D</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>echo &#39;index.php merge=ours&#39; &gt;&gt; .gitattributes
git add .gitattributes
git commit -m &#39;chore: Preserve index.php during merges&#39; //\u53EA\u662F\u4E3A\u4E86commit\u4EE3\u7801\uFF0C\u53EF\u4EE5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u65B0\u5EFA\u6587\u4EF6.gitattributes\uFF0C\u7136\u540E\u6587\u4EF6\u4E2D\u5199\u5165\u9700\u8981\u5FFD\u7565\u7684\u6587\u4EF6\u540D</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>merge=ours, \u4E00\u4E2A\u6587\u4EF6\u5360\u4E00\u884C \u4F8B\uFF1A
\u5FFD\u7565config.xml \u6587\u4EF6
config.xml merge=ours
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git\u8FDC\u7A0B\u4ED3\u5E93\u5730\u5740\u66F4\u6539" tabindex="-1"><a class="header-anchor" href="#git\u8FDC\u7A0B\u4ED3\u5E93\u5730\u5740\u66F4\u6539" aria-hidden="true">#</a> git\u8FDC\u7A0B\u4ED3\u5E93\u5730\u5740\u66F4\u6539</h3><p>\u67E5\u770B\u5F53\u524D\u7684\u8FDC\u7A0B\u5173\u8054\u7684\u4ED3\u5E93 <strong>git remote -v</strong></p><p>\u914D\u7F6E\u65B0\u7684\u8FDC\u7A0B\u4ED3\u5E93\u5730\u5740 <code>git remote set-url origin {git url}</code></p><p>\u786E\u8BA4 <code>git remote -v</code></p><h3 id="git-fork" tabindex="-1"><a class="header-anchor" href="#git-fork" aria-hidden="true">#</a> git fork</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># \u68C0\u6D4B\u60EF\u91CF\u7684\u4ED3\u5E93
git remote -v

# \u6DFB\u52A0\u4E0A\u6E38\u4ED3\u5E93\u5730\u5740
git remote add upstream https://github.com/Nepxion/Discovery.git

# \u518D\u6B21\u68C0\u6D4B\u60EF\u91CF
git remote -v

# \u68C0\u6D4B\u72B6\u6001
git status

# \u62C9\u53BB\u4E0A\u6E38\u4EE3\u7801
git pull upstream info
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="git-\u5206\u652F\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#git-\u5206\u652F\u64CD\u4F5C" aria-hidden="true">#</a> git \u5206\u652F\u64CD\u4F5C</h3><p>\u521B\u5EFA\u53CA\u5207\u6362\u5206\u652F</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git chekcout -b dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git push origin dev:dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5220\u9664\u672C\u5730\u7684bug_xzx\u5206\u652F</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git branch -d bug_xzx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5220\u9664\u8FDC\u7A0B\u7684bug_xzx\u5206\u652F</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git push origin --delete bug_xzx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u62C9\u53BB\u8FDC\u7A0B\u5206\u652F</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git fetch origin dev\uFF08dev\u4E3A\u8FDC\u7A0B\u4ED3\u5E93\u7684\u5206\u652F\u540D\uFF09
git checkout -b dev(\u672C\u5730\u5206\u652F\u540D\u79F0) origin/dev(\u8FDC\u7A0B\u5206\u652F\u540D\u79F0)
git pull origin dev(\u8FDC\u7A0B\u5206\u652F\u540D\u79F0)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gitlab-runner" tabindex="-1"><a class="header-anchor" href="#gitlab-runner" aria-hidden="true">#</a> gitlab-runner</h3><h4 id="docker\u5BB9\u5668\u5316\u90E8\u7F72\u548C\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#docker\u5BB9\u5668\u5316\u90E8\u7F72\u548C\u4F7F\u7528" aria-hidden="true">#</a> docker\u5BB9\u5668\u5316\u90E8\u7F72\u548C\u4F7F\u7528</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># \u62C9\u53D6\u955C\u50CF
docker pull gitlab/gitlab-runner:latest

# \u521B\u5EFA\u6302\u8F7D\u76EE\u5F55
mkdir -p /opt/gitlab-runner/config

# \u542F\u52A8\u5BB9\u5668
docker run -d --name gitlab-runner --restart always -v /opt/gitlab-runner/config:/etc/gitlab-runner -v /var/run/docker.sock:/var/run/docker.sock gitlab/gitlab-runner:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u8FDB\u5165runner\u5BB9\u5668\uFF0C\u6CE8\u518C\u5230gitlab\u4E0A</strong></p><p><strong>\u6C47\u603B\u64CD\u4F5C\u547D\u4EE4\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec -it gitlab-runner  gitlab-runner register -n \\
  --url http://192.168.0.253:8090 \\
  --registration-token tyXBwC8frbShS4yn3nE5 \\ # token\u9700\u8981\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u8FDB\u884C\u4FEE\u6539
  --tag-list=dockersock,docker \\
  --description &quot;dockersock&quot; \\
  --docker-privileged=true \\
  --docker-pull-policy=&quot;if-not-present&quot; \\
  --docker-image &quot;docker:latest&quot; \\
  --docker-volumes /var/run/docker.sock:/var/run/docker.sock \\
  --docker-volumes /root/m2:/root/.m2 \\
  --executor docker 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5206\u6B65\u64CD\u4F5C\u547D\u4EE4\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># \u8FDB\u5165\u5BB9\u5668
docker exec -it gitlab-runner /bin/bash

# \u8FD0\u884C\u4EE5\u4E0B\u6CE8\u518C\u547D\u4EE4
gitlab-runner register

# \u8F93\u5165Gitlab\u5B9E\u4F8B\u7684\u5730\u5740
Please enter the gitlab-ci coordinator URL (e.g. https://gitlab.com )
http://192.168.0.253:8090  # \u7AEF\u53E3\u91C7\u7528\u9ED8\u8BA4\u768480\uFF0C\u5426\u5219\u9700\u8981\u52A0\u4E0A\u7AEF\u53E3\uFF0C\u6BD4\u5982 http://192.168.0.253:8090

# \u8F93\u5165token
Please enter the gitlab-ci token for this runner
tyXBwC8frbShS4yn3nE5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5982\u4F55\u83B7\u53D6token</strong></p><p>\u8FDB\u5165\u5230\u9879\u76EE\u4E2D\u7684\u8BBE\u7F6E\uFF0C\u627E\u5230CI/CD\uFF0CRunner \uFF0C\u56FE\u7247\u8FD9\u4E2Atoken\u4EC5\u4F9B\u9014\u5F84\u5C55\u793A</p><p><img src="https://file.bbzy.online/blog/794174-20201014162037964-1798013442.png" alt="image"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># \u8F93\u5165Runner\u7684\u63CF\u8FF0\uFF0C\u540E\u671F\u53EF\u4EE5\u624B\u52A8\u4FEE\u6539
Please enter the gitlab-ci description for this runner
[hostname] my-runner

# \u8F93\u5165\u4E0ERunner\u5173\u8054\u7684\u6807\u7B7E\uFF0C\u540E\u671F\u53EF\u4EE5\u624B\u52A8\u4FEE\u6539
Please enter the gitlab-ci tags for this runner (comma separated):
my-tag

# \u8F93\u5165Ruuner\u7684\u6267\u884C\u8005
Please enter the executor: ssh, docker+machine, docker-ssh+machine, kubernetes, docker, parallels, virtualbox, docker-ssh, shell:
docker

# \u5982\u679C\u4E0A\u9762\u6267\u884C\u8005\u4E3Adocker\uFF0C\u9700\u8981\u4F60\u5728\u540E\u7EED\u9879\u76EE\u6839\u90E8\u7684.gitlab-ci.yml\u4E2D\u6307\u5B9Adocker\u7248\u672C
Please enter the Docker image (eg. ruby:2.1):
alpine:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u901A\u8FC7\u4EE5\u4E0A\u547D\u4EE4\u540E\uFF0C\u5C31\u53EF\u4EE5\u5728gitlab\u4E2D\u67E5\u770B\u5230\u4E86\u8FD9\u4E2A\u521A\u521A\u521B\u5EFA\u7684runner</strong></p><p><img src="https://file.bbzy.online/blog/794174-20201014162236794-1553131186.png" alt="image"></p><p><strong>runner\u6CE8\u518C\u5B8C\u6BD5\u4E4B\u540E\uFF0C\u8FD8\u9700\u8981\u4FEE\u6539\u4E00\u4E0Brunner\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u5B9E\u73B0runner\u4E0E\u5BBF\u4E3B\u673A\u7684\u6570\u636E\u6302\u8F7D:</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vim /opt/gitlab-runner/config/config.toml # \u5F00\u5934\u521B\u5EFA\u7684\u5BBF\u4E3B\u673A\u6302\u8F7D\u76EE\u5F55

concurrent = 1
check_interval = 0

[session_server]
  session_timeout = 1800

[[runners]]
  name = &quot;my-runner&quot;
  url = &quot;http://192.168.0.253:8090&quot;
  token = &quot;tyXBwC8frbShS4yn3nE5&quot;
  executor = &quot;docker&quot;
  [runners.custom_build_dir]
  [runners.cache]
    [runners.cache.s3]
    [runners.cache.gcs]
    [runners.cache.azure]
  [runners.docker]
    tls_verify = false
    image = &quot;alpine:latest&quot;
    privileged = false
    disable_entrypoint_overwrite = false
    oom_kill_disable = false
    disable_cache = false
    volumes = [&quot;/cache&quot;,&quot;/var/run/docker.sock:/var/run/docker.sock&quot;]
    shm_size = 0

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u539F\u5148\u662Fvolumes = [&quot;/cache&quot;]\u4E0A\u9762\u7684volumes\u6570\u7EC4\u4E2D\u6DFB\u52A0docker\u7684\u6302\u8F7D\uFF0C\u52A0\u5FEB\u9879\u76EE\u7684\u6784\u5EFA\u901F\u5EA6\u3002</p><p>\u6700\u540E\uFF0C\u53EA\u9700\u8981\u518D\u91CD\u542Frunner\u5BB9\u5668\u5373\u53EF:</p><p>docker restart gitlab-runner</p><p><strong>\u8BF4\u660E\uFF1A</strong> 1.\u4E0D\u540C\u7684\u9879\u76EE\u53EF\u4EE5\u4F7F\u7528\u4E0D\u540C\u7684gitlab-runner\uFF0C\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u518D\u8FD0\u884C\u4E00\u4E2A\u540D\u79F0\u4E0D\u4E00\u6837\u7684\u5BB9\u5668\uFF0C\u5E76\u6839\u636E\u65B0\u9879\u76EE\u7684token\u6CE8\u518C\u5C31\u884C\u4E86\u3002 2.\u4E0D\u540C\u7684\u9879\u76EE\u8FD8\u53EF\u4EE5\u4F7F\u7528\u540C\u4E00\u4E2Agitlab-runner\uFF0C\u53EA\u9700\u8981\u5728\u6CE8\u518C\u7684\u65F6\u5019\u4F7F\u7528\u4E0D\u540C\u9879\u76EE\u4E0B\u7684token\u5C31\u884C\u4E86\u3002</p><h2 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql" aria-hidden="true">#</a> mysql</h2><h3 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h3><h4 id="apt\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#apt\u65B9\u5F0F" aria-hidden="true">#</a> apt\u65B9\u5F0F</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo apt-get install mysql-server
sudo apt install mysql-client
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="docker" tabindex="-1"><a class="header-anchor" href="#docker" aria-hidden="true">#</a> docker</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run  -d --name mysql8081 
-p 8081:3306 -e MYSQL_ROOT_PASSWORD=123456  
-v v8081_data:/var/lib/mysql 
-v v8081_conf:/etc/mysql  mysql:5.7.26
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5F00\u542Fsql\u65E5\u5FD7" tabindex="-1"><a class="header-anchor" href="#\u5F00\u542Fsql\u65E5\u5FD7" aria-hidden="true">#</a> \u5F00\u542Fsql\u65E5\u5FD7</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#\u67E5\u770B\u72B6\u6001
#show variables like &#39;%general%&#39;;
#\u5F00\u542F\u65E5\u5FD7
#SET GLOBAL general_log = &#39;On&#39;;
#\u6307\u5B9A\u65E5\u5FD7\u6587\u4EF6
#SET GLOBAL general_log_file = &#39;/var/lib/mysql/mysql.log&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u914D\u7F6E\u6570\u636E\u5E93\u8FDB\u5EA6\u53EA\u8BFB\u72B6\u6001" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u6570\u636E\u5E93\u8FDB\u5EA6\u53EA\u8BFB\u72B6\u6001" aria-hidden="true">#</a> \u914D\u7F6E\u6570\u636E\u5E93\u8FDB\u5EA6\u53EA\u8BFB\u72B6\u6001</h3><p><strong>\u6CE8\uFF1A\u5BF9\u8D85\u7EA7\u6743\u9650\u65E0\u6548</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql&gt; set global read_only=1;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u914D\u7F6E\u6162sql\u76D1\u63A7" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u6162sql\u76D1\u63A7" aria-hidden="true">#</a> \u914D\u7F6E\u6162sql\u76D1\u63A7</h3><p>\u67E5\u770B\u7CFB\u7EDF\u53D8\u91CF\u63A7\u5236</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>show variables like \u2018%query%\u2019;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u53D8\u91CF\u89E3\u91CA</strong></p><p>1.slow_query_log \u8BE5\u914D\u7F6E\u9879\u662F\u51B3\u5B9A\u662F\u5426\u5F00\u542F\u6162\u65E5\u5FD7\u67E5\u8BE2\u529F\u80FD\uFF0C\u914D\u7F6E\u7684\u503C\u6709ON\u6216\u8005OFF. 2.slow_query_log_file \u8BE5\u914D\u7F6E\u9879\u662F\u6162\u65E5\u5FD7\u67E5\u8BE2\u7684\u8BB0\u5F55\u6587\u4EF6,\u9700\u8981\u624B\u52A8\u521B\u5EFA. 3.long_query_time \u8BE5\u914D\u7F6E\u9879\u662F\u8BBE\u7F6E\u6162\u65E5\u5FD7\u67E5\u8BE2\u7684\u65F6\u95F4\u9608\u503C\uFF0C\u5F53\u8D85\u8FC7\u8FD9\u4E2A\u9608\u503C\u65F6\uFF0C\u6162\u65E5\u5FD7\u624D\u4F1A\u88AB\u8BB0\u5F55.\u914D\u7F6E\u7684\u503C\u67090(\u4EFB\u4F55\u7684sql\u8BED\u53E5\u90FD\u8BB0\u5F55\u4E0B\u6765)\uFF0C\u6216\u8005&gt;0(\u5177\u4F53\u7684\u9608\u503C).\u8BE5\u914D\u7F6E\u9879\u662F\u4EE5\u79D2\u4E3A\u5355\u4F4D\u7684\uFF0C\u5E76\u4E14\u53EF\u4EE5\u8BBE\u7F6E\u4E3A\u5C0F\u6570. 4.log-queries-not-using-indexes \u8BE5\u914D\u7F6E\u9879\u662F\u4E3A\u4E86\u8BB0\u5F55\u672A\u4F7F\u7528\u5230\u7D22\u5F15\u7684sql\u8BED\u53E5.</p><p><strong>\u914D\u7F6E\u6162\u65E5\u5FD7\u67E5\u8BE2</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>set global slow_query_log=ON;
set global slow_query_log=OFF;
set global long_query_time=1;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u540C\u6B65\u673A\u5236\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u540C\u6B65\u673A\u5236\u8BF4\u660E" aria-hidden="true">#</a> \u540C\u6B65\u673A\u5236\u8BF4\u660E</h3><ol><li><p><strong>\u5168\u540C\u6B65\u590D\u5236</strong></p><p>\u6307\u5F53\u4E3B\u5E93\u6267\u884C\u5B8C\u4E00\u4E2A\u4E8B\u52A1\uFF0C\u6240\u6709\u7684\u4ECE\u5E93\u90FD\u6267\u884C\u4E86\u8BE5\u4E8B\u52A1\u624D\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\u3002\u56E0\u4E3A\u9700\u8981\u7B49\u5F85\u6240\u6709\u4ECE\u5E93\u6267\u884C\u5B8C\u8BE5\u4E8B\u52A1\u624D\u80FD\u8FD4\u56DE\uFF0C\u6240\u4EE5\u5168\u540C\u6B65\u590D\u5236\u7684\u6027\u80FD\u5FC5\u7136\u4F1A\u6536\u5230\u4E25\u91CD\u7684\u5F71\u54CD\u3002</p><p>\u5F53\u4E3B\u5E93\u63D0\u4EA4\u4E8B\u52A1\u4E4B\u540E\uFF0C\u6240\u6709\u7684\u4ECE\u5E93\u8282\u70B9\u5FC5\u987B\u6536\u5230\uFF0CAPPLY\u5E76\u4E14\u63D0\u4EA4\u8FD9\u4E9B\u4E8B\u52A1\uFF0C\u7136\u540E\u4E3B\u5E93\u7EBF\u7A0B\u624D\u80FD\u7EE7\u7EED\u505A\u540E\u7EED\u64CD\u4F5C\u3002\u8FD9\u91CC\u9762\u6709\u4E00\u4E2A\u5F88\u660E\u663E\u7684\u7F3A\u70B9\u5C31\u662F\uFF0C\u4E3B\u5E93\u5B8C\u6210\u4E00\u4E2A\u4E8B\u52A1\u7684\u65F6\u95F4\u88AB\u62C9\u957F\uFF0C\u6027\u80FD\u964D\u4F4E\u3002</p></li><li><p><strong>\u534A\u540C\u6B65\u590D\u5236</strong></p><p>\u4ECB\u4E8E\u5F02\u6B65\u590D\u5236\u548C\u5168\u540C\u6B65\u590D\u5236\u4E4B\u95F4\uFF0C\u4E3B\u5E93\u5728\u6267\u884C\u5B8C\u5BA2\u6237\u7AEF\u63D0\u4EA4\u7684\u4E8B\u52A1\u540E\u4E0D\u662F\u7ACB\u523B\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\uFF0C\u800C\u662F\u7B49\u5F85\u81F3\u5C11\u4E00\u4E2A\u4ECE\u5E93\u63A5\u6536\u5230\u5E76\u5199\u5230relay log\u4E2D\u624D\u8FD4\u56DE\u7ED9\u5BA2\u6237\u7AEF\u3002\u76F8\u5BF9\u4E8E\u5F02\u6B65\u590D\u5236\uFF0C\u534A\u540C\u6B65\u590D\u5236\u63D0\u9AD8\u4E86\u6570\u636E\u7684\u5B89\u5168\u6027\uFF0C\u540C\u65F6\u5B83\u4E5F\u9020\u6210\u4E86\u4E00\u5B9A\u7A0B\u5EA6\u7684\u5EF6\u8FDF\uFF0C\u8FD9\u4E2A\u5EF6\u8FDF\u6700\u5C11\u662F\u4E00\u4E2ATCP/IP\u5F80\u8FD4\u7684\u65F6\u95F4\u3002\u6240\u4EE5\uFF0C\u534A\u540C\u6B65\u590D\u5236\u6700\u597D\u5728\u4F4E\u5EF6\u65F6\u7684\u7F51\u7EDC\u4E2D\u4F7F\u7528\u3002</p><p>\u662F\u4ECB\u4E8E\u5168\u540C\u6B65\u590D\u5236\u548C\u5F02\u6B65\u590D\u5236\u4E4B\u95F4\u7684\u4E00\u79CD\uFF0C\u4E3B\u5E93\u53EA\u9700\u8981\u7B49\u5F85\u81F3\u5C11\u4E00\u4E2A\u4ECE\u5E93\u8282\u70B9\u6536\u5230\u5E76\u4E14Flush Binlog\u5230Relay Log\u6587\u4EF6\u5373\u53EF\uFF0C\u4E3B\u5E93\u4E0D\u9700\u8981\u7B49\u5F85\u6240\u6709\u4ECE\u5E93\u7ED9\u4E3B\u5E93\u53CD\u9988\u3002\u540C\u65F6\uFF0C\u8FD9\u91CC\u53EA\u662F\u4E00\u4E2A\u6536\u5230\u7684\u53CD\u9988\uFF0C\u800C\u4E0D\u662F\u5DF2\u7ECF\u5B8C\u5168\u6267\u884C\u5E76\u4E14\u63D0\u4EA4\u7684\u53CD\u9988\uFF0C\u8FD9\u6837\u5C31\u8282\u7701\u4E86\u5F88\u591A\u65F6\u95F4\u3002</p></li><li><p><strong>\u5F02\u6B65\u590D\u5236</strong></p><p>MySQL\u9ED8\u8BA4\u7684\u590D\u5236\u5373\u662F\u5F02\u6B65\u7684\uFF0C\u4E3B\u5E93\u5728\u6267\u884C\u5B8C\u5BA2\u6237\u7AEF\u63D0\u4EA4\u7684\u4E8B\u52A1\u540E\u4F1A\u7ACB\u5373\u5C06\u7ED3\u679C\u8FD4\u7ED9\u7ED9\u5BA2\u6237\u7AEF\uFF0C\u5E76\u4E0D\u5173\u5FC3\u4ECE\u5E93\u662F\u5426\u5DF2\u7ECF\u63A5\u6536\u5E76\u5904\u7406\uFF0C\u8FD9\u6837\u5C31\u4F1A\u6709\u4E00\u4E2A\u95EE\u9898\uFF0C\u4E3B\u5982\u679Ccrash\u6389\u4E86\uFF0C\u6B64\u65F6\u4E3B\u4E0A\u5DF2\u7ECF\u63D0\u4EA4\u7684\u4E8B\u52A1\u53EF\u80FD\u5E76\u6CA1\u6709\u4F20\u5230\u4ECE\u4E0A\uFF0C\u5982\u679C\u6B64\u65F6\uFF0C\u5F3A\u884C\u5C06\u4ECE\u63D0\u5347\u4E3A\u4E3B\uFF0C\u53EF\u80FD\u5BFC\u81F4\u65B0\u4E3B\u4E0A\u7684\u6570\u636E\u4E0D\u5B8C\u6574</p><p>\u4E3B\u5E93\u5C06\u4E8B\u52A1Binlog\u4E8B\u4EF6\u5199\u5165\u5230Binlog\u6587\u4EF6\u4E2D\uFF0C\u6B64\u65F6\u4E3B\u5E93\u53EA\u4F1A\u901A\u77E5\u4E00\u4E0BDump\u7EBF\u7A0B\u53D1\u9001\u8FD9\u4E9B\u65B0\u7684Binlog\uFF0C\u7136\u540E\u4E3B\u5E93\u5C31\u4F1A\u7EE7\u7EED\u5904\u7406\u63D0\u4EA4\u64CD\u4F5C\uFF0C\u800C\u6B64\u65F6\u4E0D\u4F1A\u4FDD\u8BC1\u8FD9\u4E9BBinlog\u4F20\u5230\u4EFB\u4F55\u4E00\u4E2A\u4ECE\u5E93\u8282\u70B9\u4E0A\u3002</p></li></ol><h3 id="\u6743\u9650\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u6743\u9650\u914D\u7F6E" aria-hidden="true">#</a> \u6743\u9650\u914D\u7F6E</h3><ol><li><p><strong>\u914D\u7F6Eroot\u7528\u6237\u53EF\u4EE5\u8FDC\u7A0B\u4EFB\u610F\u8BBF\u95EE</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;132456&#39; WITH GRANT OPTION;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5237\u65B0\u914D\u7F6E</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>flush privileges;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u9000\u51FA exit</p><p>\u91CD\u542FMySQL\u670D\u52A1\uFF0C\u5426\u5219\u8FDC\u7A0B\u8FDE\u63A5\u53EF\u80FD\u914D\u7F6E\u65E0\u6548 service mysql restart</p></li><li><p><strong>\u4FEE\u6539\u5BC6\u7801</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u4FEE\u6539\u7CFB\u7EDF\u7528\u6237\u5BC6\u7801
set password for root@localhost = password(&#39;123&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u4FEE\u6539\u8FDC\u7A0B\u7528\u6237\u5BC6\u7801
set password for root = password(&#39;123&#39;);//\u4FEE\u6539\u8FDC\u7A0B\u7528\u6237\u65E0\u5237\u65B0\u6743\u9650
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5FC5\u987B\u6307\u4EE4\uFF1A<strong>flush privileges</strong>; \u5237\u65B0\u6743\u9650</p><p>\u9000\u51FA\uFF1Aquit/exit</p></li><li><p><strong>\u6DFB\u52A0\u7528\u6237</strong></p><p>\u6DFB\u52A0\u7528\u6237 grant \u6743\u9650 on \u6570\u636E\u5E93.* to \u2018\u7528\u6237\u540D\u2019@\u2018\u5141\u8BB8\u767B\u5F55\u7684\u4E3B\u673A&lt;%\u8868\u793A\u5141\u8BB8\u6240\u6709\u4E3B\u673A&gt;\u2018 identified by \u2019\u8BBE\u7F6E\u5BC6\u7801\u2019 \u6DFB\u52A0\u7528\u6237\u62E5\u6709salon_test_copy\u6570\u636E\u5E93\u8BBF\u95EE\u6743\u9650\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>grant select,insert,update,delete on shouxin_pfc.* to &#39;rootdev&#39;@&#39;%&#39; identified by &#39;devpass&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5168\u9009\u9009\u62E9\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>select,insert,update,delete
all privileges \u6240\u6709\u6743\u9650
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="\u6570\u636E\u5907\u4EFD\u53CA\u5BFC\u5165" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5907\u4EFD\u53CA\u5BFC\u5165" aria-hidden="true">#</a> \u6570\u636E\u5907\u4EFD\u53CA\u5BFC\u5165</h3><h4 id="\u5907\u4EFD-1" tabindex="-1"><a class="header-anchor" href="#\u5907\u4EFD-1" aria-hidden="true">#</a> \u5907\u4EFD</h4><p><strong>\u5907\u4EFD\u6570\u636E\u5E93\u6240\u6709\u6570\u636E</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -pwkq4978dmm salonv2_official &gt;/home/&lt;name&gt;.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Mysqldump\u5E38\u7528\u547D\u4EE4\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -u\u7528\u6237\u540D -p\u5BC6\u7801 --databases \u6570\u636E\u5E931 \u6570\u636E\u5E932 &gt; xxx.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>-u: \u7528\u6237\u540D</p><p>-p: \u5BC6\u7801</p><p>-P: \u7AEF\u53E3\u53F7\uFF0C\u4E0D\u5199\u9ED8\u8BA43306\u2013all-databases,</p><pre><code>-A\uFF1A\u5907\u4EFD\u6240\u6709\u6570\u636E\u5E93\u2013databases,

-B: \u7528\u4E8E\u5907\u4EFD\u591A\u4E2A\u6570\u636E\u5E93\uFF0C\u5982\u679C\u6CA1\u6709\u8BE5\u9009\u9879\uFF0Cmysqldump\u628A\u7B2C\u4E00\u4E2A\u540D\u5B57\u53C2\u6570\u4F5C\u4E3A\u6570\u636E\u5E93\u540D\uFF0C\u540E\u9762\u7684\u4F5C\u4E3A\u8868\u540D\u3002\u4F7F\u7528\u8BE5\u9009\u9879\uFF0Cmysqldum\u628A\u6BCF\u4E2A\u540D\u5B57\u90FD\u5F53\u4F5C\u4E3A\u6570\u636E\u5E93\u540D\u3002
</code></pre><p>-d: \u53EA\u5BFC\u51FA\u6570\u636E\u5E93\u7684\u8868\u7ED3\u6784-t: \u53EA\u5BFC\u51FA\u6570\u636E\u5E93\u7684\u6570\u636E</p><p>\u2013quick, -q\uFF1A\u5FEB\u901F\u5BFC\u51FA</p><p>\u2013xml, -X\uFF1A\u5BFC\u51FA\u4E3Axml\u6587\u4EF6</p><p><strong>\u5907\u4EFD\u5168\u90E8\u6570\u636E\u5E93\u7684\u6570\u636E\u548C\u7ED3\u6784</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -A &gt; 0101.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u5907\u4EFD\u5168\u90E8\u6570\u636E\u5E93\u7684\u7ED3\u6784</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -P3306 -A -d &gt; 0102.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u5907\u4EFD\u5168\u90E8\u6570\u636E\u5E93\u7684\u6570\u636E</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -P3306 -A -t &gt; 0103.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u5907\u4EFD\u5355\u4E2A\u6570\u636E\u5E93\u7684\u6570\u636E\u548C\u7ED3\u6784\uFF08sakila \u4E3A\u6570\u636E\u5E93\u540D\uFF09</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -P3306 sakila &gt; 0104.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u5907\u4EFD\u5355\u4E2A\u6570\u636E\u5E93\u7ED3\u6784\uFF08sakila \u4E3A\u6570\u636E\u5E93\u540D\uFF0C-d\uFF09</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -P3306 sakila -d &gt; 0105.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u5907\u4EFD\u591A\u4E2A\u8868\u7684\u7ED3\u6784\u548C\u6570\u636E (table1,table2\u4E3A\u8868\u540D)</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 -P3306 sakila table1 table2 &gt; 0107.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u4E00\u6B21\u5907\u4EFD\u591A\u4E2A\u6570\u636E\u5E93</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqldump -uroot -p123456 --databases db1 db2 &gt; 0108.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u5BFC\u5165" tabindex="-1"><a class="header-anchor" href="#\u5BFC\u5165" aria-hidden="true">#</a> \u5BFC\u5165</h4><ol><li><p>\u65B9\u5F0F\u4E00\uFF0C\u7CFB\u7EDF\u547D\u4EE4\u884C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysqladmin -uroot -p123456 create db_name
mysql -uroot -p123456 db_name &lt; d:\\bak\\0101.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>\u6CE8\uFF1A\u5728\u5BFC\u5165\u5907\u4EFD\u6570\u636E\u5E93\u524D\uFF0Cdb_name\u5982\u679C\u6CA1\u6709\uFF0C\u662F\u9700\u8981\u521B\u5EFA\u7684\uFF1B \u800C\u4E14\u4E0Ebackup20110527.sql\u4E2D\u6570\u636E\u5E93\u540D\u662F\u4E00\u6837\u7684\u624D\u53EF\u4EE5\u5BFC\u5165\u3002</p><ol start="2"><li><p>\u65B9\u5F0F\u4E8C\uFF0Csource\u65B9\u6CD5</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql &gt; use db
mysql &gt; source d:\\bak\\0101.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="\u6570\u636E\u5E93\u6027\u80FD\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u6027\u80FD\u6D4B\u8BD5" aria-hidden="true">#</a> \u6570\u636E\u5E93\u6027\u80FD\u6D4B\u8BD5</h3><p>mysql \u6027\u80FD\u6D4B\u8BD5 sysbench</p><h3 id="\u9501\u5B9A\u548C\u89E3\u9501" tabindex="-1"><a class="header-anchor" href="#\u9501\u5B9A\u548C\u89E3\u9501" aria-hidden="true">#</a> \u9501\u5B9A\u548C\u89E3\u9501</h3><p>\u7279\u522B\u6CE8\u610F\uFF0C\u9000\u51FA\u7EC8\u7AEF\u53E3\u4F1A\u89E3\u9501</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql&gt;LOCK TABLES tbl_name READ;

\u4E3A\u8868\u589E\u52A0\u4E00\u4E2A\u5199\u9501\u5B9A\uFF1A

mysql&gt;LOCK TABLES tbl_name WRITE;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Flush tables with read lock;</p><p>\u89E3\u9501:UNLOCK TABLES;</p><h3 id="\u4FEE\u6539\u6700\u5927\u8FDE\u63A5\u6570" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u6700\u5927\u8FDE\u63A5\u6570" aria-hidden="true">#</a> \u4FEE\u6539\u6700\u5927\u8FDE\u63A5\u6570</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mysql&gt; show variables like \u2018%max\\_connections%\u2019;
set global max_connections=200
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6301\u4E45\u5316</strong></p><p>\u8FDB\u5165\u5236MySQL\u5B89\u88C5\u76EE\u5F55 \u6253\u5F00MySQL\u914D\u7F6E\u6587\u4EF6 my.ini \u6216 my.cnf\u67E5\u627E max_connections=100 \u4FEE\u6539\u4E3A max_connections=1000 \u670D\u52A1\u91CC\u91CD\u8D77MySQL\u5373\u53EF\u3002</p><h2 id="maven" tabindex="-1"><a class="header-anchor" href="#maven" aria-hidden="true">#</a> maven</h2><h3 id="\u963F\u91CC\u4E91\u955C\u50CF\u5E93" tabindex="-1"><a class="header-anchor" href="#\u963F\u91CC\u4E91\u955C\u50CF\u5E93" aria-hidden="true">#</a> \u963F\u91CC\u4E91\u955C\u50CF\u5E93</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;mirror&gt;
    &lt;id&gt;aliyunmaven&lt;/id&gt;
    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun maven&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/public &lt;/url&gt;
&lt;/mirror&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nexus3\u4ED3\u5E93\u7C7B\u578B\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#nexus3\u4ED3\u5E93\u7C7B\u578B\u8BF4\u660E" aria-hidden="true">#</a> nexus3\u4ED3\u5E93\u7C7B\u578B\u8BF4\u660E</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># maven-central
maven\u4E2D\u5FC3\u5E93 \u6216\u914D\u7F6E\u7684maven\u955C\u50CF\u5E93 \u5982(\u963F\u91CC\u4E91)
# maven-public \u7EC4\u5E93
\u53EF\u914D\u7F6E\u5408\u5E76\u67D0\u4E9B\u5E93
# maven-releases
\u6B63\u5F0F\u53D1\u5E03\u5B58\u50A8\u5E93-\u5E93\u6587\u4EF6\u4E00\u822C\u4E0D\u5141\u8BB8\u8986\u76D6
# maven-snapshots
\u5F00\u53D1\u6216\u8005\u9884\u53D1\u5E03\u5E93-\u5E93\u6587\u4EF6\u4E00\u822C\u5141\u8BB8\u8986\u76D6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u914D\u7F6E\u672C\u5730maven\u4F7F\u7528\u79C1\u6709\u5E93" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u672C\u5730maven\u4F7F\u7528\u79C1\u6709\u5E93" aria-hidden="true">#</a> \u914D\u7F6E\u672C\u5730maven\u4F7F\u7528\u79C1\u6709\u5E93</h3><h4 id="_1-\u5F00\u542F\u4E86\u533F\u540D\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#_1-\u5F00\u542F\u4E86\u533F\u540D\u8BBF\u95EE" aria-hidden="true">#</a> 1.\u5F00\u542F\u4E86\u533F\u540D\u8BBF\u95EE</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;mirror&gt;
        &lt;id&gt;anonymous&lt;/id&gt;
        &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
        &lt;name&gt;Administrator User&lt;/name&gt;
        &lt;url&gt;http://192.168.1.107:8081/repository/maven-public/&lt;/url&gt;
&lt;/mirror&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-\u672A\u5F00\u542F\u533F\u540D\u8BBF\u95EE\u5E76\u4E14\u7981\u7528\u6389\u4E86anonymous\u7528\u6237" tabindex="-1"><a class="header-anchor" href="#_2-\u672A\u5F00\u542F\u533F\u540D\u8BBF\u95EE\u5E76\u4E14\u7981\u7528\u6389\u4E86anonymous\u7528\u6237" aria-hidden="true">#</a> 2.\u672A\u5F00\u542F\u533F\u540D\u8BBF\u95EE\u5E76\u4E14\u7981\u7528\u6389\u4E86anonymous\u7528\u6237</h4><p><img src="https://file.bbzy.online/blog/zyft_Hx_LsOGqLFdxbm3dYyUpvmODQcIm1fY8KqxnIk.png" alt="image"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;server&gt;
    &lt;id&gt;admin&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;password&gt;wkq4978dmm&lt;/password&gt;
&lt;/server&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;mirror&gt;
    &lt;id&gt;admin&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;admin&lt;/name&gt;
    &lt;url&gt;http://maven.medicalsj.com/repository/maven-public/&lt;/url&gt;
&lt;/mirror&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nexus3\u4F7F\u7528\u963F\u91CC\u4E91\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#nexus3\u4F7F\u7528\u963F\u91CC\u4E91\u955C\u50CF" aria-hidden="true">#</a> nexus3\u4F7F\u7528\u963F\u91CC\u4E91\u955C\u50CF</h3><p><img src="https://file.bbzy.online/blog/gDkVp3nuxzGuXV4RY0eTERZ7h--uSMBAWm-xkXJIzRY.png" alt="image"></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>http://maven.aliyun.com/nexus/content/repositories/central/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="nexus3\u7528\u6237\u6743\u9650\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#nexus3\u7528\u6237\u6743\u9650\u8BF4\u660E" aria-hidden="true">#</a> nexus3\u7528\u6237\u6743\u9650\u8BF4\u660E</h3><p>Roles:\u6DFB\u52A0\u89D2\u8272\uFF0C\u8BBE\u7F6E\u6BCF\u4E2A\u89D2\u8272\u53EF\u770B\u5230\u7684\u9875\u9762\u6216\u8005\u4ED3\u5E93\uFF0C\u6BCF\u4E2A\u89D2\u8272\u4E5F\u53EF\u62E5\u6709\u5176\u4ED6\u7684\u89D2\u8272 Users:\u6DFB\u52A0\u5E10\u53F7\u5BC6\u7801\uFF0C\u5E10\u53F7\u5BC6\u7801\u90AE\u7BB1\u8FD9\u4E9B\u5FC5\u586B\u4FE1\u606F\u4E0D\u8BF4\u4E86\uFF0C\u8FD9\u91CC\u8981\u9009\u62E9\u4E00\u4E2A\u89D2\u8272 Anonymous\uFF1A\u8FD9\u4E2A\u6253\u5F00\u540E\u5BF9\u94A9\u53D6\u6D88\u6389\u5C31\u4EE3\u8868\u672A\u767B\u5F55\u4E0D\u53EF\u8BBF\u95EE\u4ED3\u5E93</p><p>\u7ED9\u89D2\u8272\u8D4B\u4E88\u6743\u9650</p><p>add:\u4E0A\u4F20jar\u5305\u6743\u9650</p><p>browse:\u6D4F\u89C8\u6743\u9650</p><p>delete:\u5220\u9664</p><p>edit:\u7F16\u8F91</p><p>read:\u8BFB\u53D6jar\u5305\u8BE6\u7EC6\u4FE1\u606F</p><p>\u627E\u5230\u5BF9\u5E94\u7684\u6743\u9650\u6DFB\u52A0\u5230\u53F3\u8FB9\u5373\u53EF\uFF0C\u6743\u9650\u5168\u90E8\u6DFB\u52A0\uFF0C\u6DFB\u52A0\u7B2C\u4E00\u6761 * \u7684\u5373\u53EF</p><p>\u5F53\u7136\uFF0C\u5176\u4ED6\u7684\u4ED3\u5E93\u4E5F\u53EF\u6309\u7167\u4E0A\u8FF0\u65B9\u5F0F\u641C\u7D22\u6DFB\u52A0</p><p>\u7528\u6237\u53EF\u4EE5\u81EA\u5DF1\u4FEE\u6539\u5BC6\u7801\uFF0C\u4F46\u5149\u6DFB\u52A0\u4E0A\u9762\u7684\u6743\u9650\u662F\u65E0\u6CD5\u4FEE\u6539\u7684\uFF0C\u9700\u641C\u7D22\uFF1Auserschengepw,\u628A\u8FD9\u4E2A\u6743\u9650\u7ED9\u5230\u3002</p><h3 id="\u4E0A\u4F20jar\u81F3\u79C1\u670Dnexus3" tabindex="-1"><a class="header-anchor" href="#\u4E0A\u4F20jar\u81F3\u79C1\u670Dnexus3" aria-hidden="true">#</a> \u4E0A\u4F20jar\u81F3\u79C1\u670Dnexus3</h3><ol><li><p><strong>\u6DFB\u52A0\u8D26\u53F7</strong></p><p>\u4FEE\u6539 seting.xmlz\u4E2D servers\u8282\u70B9 \u6DFB\u52A0\u6388\u6743\u7684\u8D26\u53F7</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;server&gt;
    &lt;id&gt;admin&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;password&gt;wkq4978dmm&lt;/password&gt;
&lt;/server&gt;
# \u53EF\u6DFB\u52A0\u591A\u4E2A
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>\u9879\u76EE\u73AF\u5883pom\u6587\u4EF6\u6DFB\u52A0\u8282\u70B9</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;distributionManagement&gt;
        &lt;repository&gt;
            &lt;id&gt;admin&lt;/id&gt;
            &lt;url&gt;http://maven.medicalsj.com/repository/maven-releases/&lt;/url&gt;
        &lt;/repository&gt;
        &lt;snapshotRepository&gt;
            &lt;id&gt;admin&lt;/id&gt;
            &lt;url&gt;http://maven.medicalsj.com/repository/maven-snapshots/&lt;/url&gt;
        &lt;/snapshotRepository&gt;
&lt;/distributionManagement&gt;
# \u6B64\u5904\u7684id \u5BF9\u8C61seting.xml\u4E2Dserver \u8282\u70B9\u4E2D\u7684id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://file.bbzy.online/blog/p-ZDEZwrTqrtjNZCQaCd0nB6kmoKMhwIammq5la1YtM.png" alt="image"></p></li><li><p><strong>\u6253\u5F00nexus3\u540E\u53F0\u9A8C\u8BC1</strong></p><p><img src="https://file.bbzy.online/blog/qSM9UhKl5phxNZvc4lKXFFDg-PQkm_juxVqYZX6q3AA.png" alt="image"></p></li></ol><h3 id="\u6253\u5305\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u6253\u5305\u547D\u4EE4" aria-hidden="true">#</a> \u6253\u5305\u547D\u4EE4</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>package\u547D\u4EE4\u5B8C\u6210\u4E86\u9879\u76EE\u7F16\u8BD1\u3001\u5355\u5143\u6D4B\u8BD5\u3001\u6253\u5305\u529F\u80FD\uFF0C\u4F46\u6CA1\u6709\u628A\u6253\u597D\u7684\u53EF\u6267\u884Cjar\u5305\uFF08war\u5305\u6216\u5176\u5B83\u5F62\u5F0F\u7684\u5305\uFF09\u5E03\u7F72\u5230\u672C\u5730maven\u4ED3\u5E93\u548C\u8FDC\u7A0Bmaven\u79C1\u670D\u4ED3\u5E93

install\u547D\u4EE4\u5B8C\u6210\u4E86\u9879\u76EE\u7F16\u8BD1\u3001\u5355\u5143\u6D4B\u8BD5\u3001\u6253\u5305\u529F\u80FD\uFF0C\u540C\u65F6\u628A\u6253\u597D\u7684\u53EF\u6267\u884Cjar\u5305\uFF08war\u5305\u6216\u5176\u5B83\u5F62\u5F0F\u7684\u5305\uFF09\u5E03\u7F72\u5230\u672C\u5730maven\u4ED3\u5E93\uFF0C\u4F46\u6CA1\u6709\u5E03\u7F72\u5230\u8FDC\u7A0Bmaven\u79C1\u670D\u4ED3\u5E93

deploy\u547D\u4EE4\u5B8C\u6210\u4E86\u9879\u76EE\u7F16\u8BD1\u3001\u5355\u5143\u6D4B\u8BD5\u3001\u6253\u5305\u529F\u80FD\uFF0C\u540C\u65F6\u628A\u6253\u597D\u7684\u53EF\u6267\u884Cjar\u5305\uFF08war\u5305\u6216\u5176\u5B83\u5F62\u5F0F\u7684\u5305\uFF09\u5E03\u7F72\u5230\u672C\u5730maven\u4ED3\u5E93\u548C\u8FDC\u7A0Bmaven\u79C1\u670D\u4ED3\u5E93
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>mvn clean install   -T 1C -Dmaven.test.skip=true -Dmaven.compile.fork=true -U -pl  \u5B50\u9879\u76EE\u540D\u79F0 -am (am\u6253\u5165\u76F8\u5173\u4F9D\u8D56\u5305)
\u591A\u6A21\u5757\u5DE5\u7A0B\u7684\u6253\u5305\u547D\u4EE4\u53C2\u8003\uFF1A
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>-am --also-make \u540C\u65F6\u6784\u5EFA\u6240\u5217\u6A21\u5757\u7684\u4F9D\u8D56\u6A21\u5757\uFF1B -amd -also-make-dependents \u540C\u65F6\u6784\u5EFA\u4F9D\u8D56\u4E8E\u6240\u5217\u6A21\u5757\u7684\u6A21\u5757\uFF1B -pl --projects \u6784\u5EFA\u5236\u5B9A\u7684\u6A21\u5757\uFF0C\u6A21\u5757\u95F4\u7528\u9017\u53F7\u5206\u9694\uFF1B -rf -resume-from \u4ECE\u6307\u5B9A\u7684\u6A21\u5757\u6062\u590D\u53CD\u5E94\u5806\u3002</p><p>-am,--also-make If project list is specified, also build projects required by the list</p><p>-amd,--also-make-dependents If project list is specified, also build projects that depend on projects on the list</p><p>-pl,--projects Comma-delimited list of specified reactor projects to build instead of all projects. A project can be specified by [groupId]:artifactId or by its relative path.</p><p>-rf,--resume-from Resume reactor from specified project</p><h3 id="nexus3\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#nexus3\u4F7F\u7528" aria-hidden="true">#</a> nexus3\u4F7F\u7528</h3><p><strong>\u9879\u76EE\u4F7F\u7528nexus\u79C1\u670D\u7684jar\u5305\uFF0C\u5728\u9879\u76EE\u7684pom.xml\u6587\u4EF6\u4E2D\u6307\u5B9A\u79C1\u670D\u4ED3\u5E93</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;nexus&lt;/id&gt;
        &lt;name&gt;nexus&lt;/name&gt;
        &lt;url&gt;http://192.168.1.103:8081/nexus/content/groups/public/&lt;/url&gt;
        &lt;releases&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/releases&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/snapshots&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u9879\u76EE\u4F7F\u7528nexus\u79C1\u670D\u7684\u63D2\u4EF6\uFF0C\u5728\u9879\u76EE\u7684pom.xml\u6587\u4EF6\u4E2D\u6307\u5B9A\u63D2\u4EF6\u4ED3\u5E93</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;pluginRepositories&gt;
    &lt;pluginRepository&gt;
        &lt;id&gt;nexus&lt;/id&gt;
        &lt;name&gt;nexus&lt;/name&gt;
        &lt;url&gt;http://192.168.1.103:8081/nexus/content/groups/public/&lt;/url&gt;
        &lt;releases&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/releases&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/snapshots&gt;
    &lt;/pluginRepository&gt;
&lt;/pluginRepositories&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5982\u679C\u60F3\u672C\u673A\u6240\u6709\u7684maven\u9879\u76EE\u90FD\u4F7F\u7528\u79C1\u670D\u7684\u7EC4\u4EF6\uFF0C\u53EF\u4EE5\u5728maven\u7684\u8BBE\u7F6E\u6587\u4EF6settings.xml\u4E2D\u6DFB\u52A0\u5C5E\u6027\uFF0C\u5E76\u6FC0\u6D3B</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;profiles&gt;
    &lt;profile&gt;
        &lt;id&gt;nexusProfile&lt;/id&gt;
        &lt;repositories&gt;
            &lt;repository&gt;
                &lt;id&gt;nexus&lt;/id&gt;
                &lt;name&gt;nexus&lt;/name&gt;
                &lt;url&gt;http://192.168.1.103:8081/nexus/content/groups/public/&lt;/url&gt;
                &lt;releases&gt;
                    &lt;enabled&gt;true&lt;/enabled&gt;
                &lt;/releases&gt;
                &lt;snapshots&gt;
                    &lt;enabled&gt;true&lt;/enabled&gt;
                &lt;/snapshots&gt;
            &lt;/repository&gt;
        &lt;/repositories&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;
&lt;!-- \u6FC0\u6D3B --&gt;
&lt;activeProfiles&gt;
    &lt;activeProfile&gt;nexusProfile&lt;/activeProfile&gt;
&lt;/activeProfiles&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u9879\u76EE\u53D1\u5E03\u5230\u79C1\u670D\uFF0Cmaven\u9879\u76EE\u4F7F\u7528\u547D\u4EE4\uFF1Amvn clean deploy\uFF1B\u9700\u8981\u5728pom\u6587\u4EF6\u4E2D\u914D\u7F6E\u4E00\u4E0B\u4EE3\u7801\uFF1B</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;distributionManagement&gt;
        &lt;repository&gt;
            &lt;id&gt;user-release&lt;/id&gt;
            &lt;name&gt;User Project Release&lt;/name&gt;
            &lt;url&gt;http://192.168.1.103:8081/nexus/content/repositories/releases/&lt;/url&gt;
        &lt;/repository&gt;

        &lt;snapshotRepository&gt;
            &lt;id&gt;user-snapshots&lt;/id&gt;
            &lt;name&gt;User Project SNAPSHOTS&lt;/name&gt;
            &lt;url&gt;http://192.168.1.103:8081/nexus/content/repositories/snapshots/&lt;/url&gt;
        &lt;/snapshotRepository&gt;
    &lt;/distributionManagement&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6CE8\u610F\u8FD8\u9700\u8981\u914D\u7F6Emvn\u53D1\u5E03\u7684\u6743\u9650\uFF0C\u5426\u5219\u4F1A\u62A5401\u9519\u8BEF\uFF0C\u5728settings.xml\u4E2D\u914D\u7F6E\u6743\u9650\uFF0C\u5176\u4E2Did\u8981\u4E0Epom\u6587\u4EF6\u4E2D\u7684id\u4E00\u81F4</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;server&gt;
    &lt;id&gt;user-release&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;password&gt;admin123&lt;/password&gt;
&lt;/server&gt;
&lt;server&gt;
    &lt;id&gt;user-snapshots&lt;/id&gt;
    &lt;username&gt;admin&lt;/username&gt;
    &lt;password&gt;admin123&lt;/password&gt;
&lt;/server&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u4E0A\u4F20\u7B2C\u4E09\u65B9\u7684jar\u5305\uFF0C\u9009\u62E93rd party\u2013&gt;Artifact Upload\u2013&gt; \u9009\u62E9GAV\u65B9\u5F0F\u2013&gt;\u586B\u597D\u6784\u5EFA\u53C2\u6570\u2013&gt;\u589E\u52A0jar\u5305\u2013&gt;\u4E0A\u4F20\uFF0C\u5728Browse Storeage\u67E5\u770B</strong></p><h2 id="docker-1" tabindex="-1"><a class="header-anchor" href="#docker-1" aria-hidden="true">#</a> docker</h2><h3 id="docker\u5BB9\u5668\u7F51\u7EDC\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#docker\u5BB9\u5668\u7F51\u7EDC\u6A21\u5F0F" aria-hidden="true">#</a> docker\u5BB9\u5668\u7F51\u7EDC\u6A21\u5F0F</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u2013net\u9009\u9879\u6307\u5B9A\u5BB9\u5668\u7684\u7F51\u7EDC\u6A21\u5F0F
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="host\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#host\u6A21\u5F0F" aria-hidden="true">#</a> host\u6A21\u5F0F</h4><p>Docker\u4F7F\u7528\u7684\u7F51\u7EDC\u5B9E\u9645\u4E0A\u548C\u5BBF\u4E3B\u673A\u4E00\u6837\uFF0C\u5728\u5BB9\u5668\u5185\u770B\u5230\u7684\u7F51\u5361ip\u662F\u5BBF\u4E3B\u673A\u4E0A\u7684ip</p><p>\u4F17\u6240\u5468\u77E5\uFF0CDocker\u4F7F\u7528\u4E86Linux\u7684Namespaces\u6280\u672F\u6765\u8FDB\u884C\u8D44\u6E90\u9694\u79BB\uFF0C\u5982PID Namespace\u9694\u79BB\u8FDB\u7A0B\uFF0CMount Namespace\u9694\u79BB\u6587\u4EF6\u7CFB\u7EDF\uFF0CNetwork Namespace\u9694\u79BB\u7F51\u7EDC\u7B49\u3002\u4E00\u4E2ANetwork Namespace\u63D0\u4F9B\u4E86\u4E00\u4EFD\u72EC\u7ACB\u7684\u7F51\u7EDC\u73AF\u5883\uFF0C\u5305\u62EC\u7F51\u5361\u3001\u8DEF\u7531\u3001Iptable\u89C4\u5219\u7B49\u90FD\u4E0E\u5176\u4ED6\u7684Network Namespace\u9694\u79BB\u3002\u4E00\u4E2ADocker\u5BB9\u5668\u4E00\u822C\u4F1A\u5206\u914D\u4E00\u4E2A\u72EC\u7ACB\u7684Network Namespace\u3002\u4F46\u5982\u679C\u542F\u52A8\u5BB9\u5668\u7684\u65F6\u5019\u4F7F\u7528host\u6A21\u5F0F\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u5BB9\u5668\u5C06\u4E0D\u4F1A\u83B7\u5F97\u4E00\u4E2A\u72EC\u7ACB\u7684Network Namespace\uFF0C\u800C\u662F\u548C\u5BBF\u4E3B\u673A\u5171\u7528\u4E00\u4E2ANetwork Namespace\u3002\u5BB9\u5668\u5C06\u4E0D\u4F1A\u865A\u62DF\u51FA\u81EA\u5DF1\u7684\u7F51\u5361\uFF0C\u914D\u7F6E\u81EA\u5DF1\u7684IP\u7B49\uFF0C\u800C\u662F\u4F7F\u7528\u5BBF\u4E3B\u673A\u7684IP\u548C\u7AEF\u53E3\u3002</p><h4 id="container\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#container\u6A21\u5F0F" aria-hidden="true">#</a> container\u6A21\u5F0F</h4><p>\u591A\u4E2A\u5BB9\u5668\u4F7F\u7528\u5171\u540C\u7684\u7F51\u7EDC\u770B\u5230\u7684ip\u662F\u4E00\u6837\u7684</p><p>\u5728\u7406\u89E3\u4E86host\u6A21\u5F0F\u540E\uFF0C\u8FD9\u4E2A\u6A21\u5F0F\u4E5F\u5C31\u597D\u7406\u89E3\u4E86\u3002\u8FD9\u4E2A\u6A21\u5F0F\u6307\u5B9A\u65B0\u521B\u5EFA\u7684\u5BB9\u5668\u548C\u5DF2\u7ECF\u5B58\u5728\u7684\u4E00\u4E2A\u5BB9\u5668\u5171\u4EAB\u4E00\u4E2ANetwork Namespace\uFF0C\u800C\u4E0D\u662F\u548C\u5BBF\u4E3B\u673A\u5171\u4EAB\u3002\u65B0\u521B\u5EFA\u7684\u5BB9\u5668\u4E0D\u4F1A\u521B\u5EFA\u81EA\u5DF1\u7684\u7F51\u5361\uFF0C\u914D\u7F6E\u81EA\u5DF1\u7684IP\uFF0C\u800C\u662F\u548C\u4E00\u4E2A\u6307\u5B9A\u7684\u5BB9\u5668\u5171\u4EABIP\u3001\u7AEF\u53E3\u8303\u56F4\u7B49\u3002\u540C\u6837\uFF0C\u4E24\u4E2A\u5BB9\u5668\u9664\u4E86\u7F51\u7EDC\u65B9\u9762\uFF0C\u5176\u4ED6\u7684\u5982\u6587\u4EF6\u7CFB\u7EDF\u3001\u8FDB\u7A0B\u5217\u8868\u7B49\u8FD8\u662F\u9694\u79BB\u7684\u3002\u4E24\u4E2A\u5BB9\u5668\u7684\u8FDB\u7A0B\u53EF\u4EE5\u901A\u8FC7lo\u7F51\u5361\u8BBE\u5907\u901A\u4FE1\u3002</p><h4 id="none\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#none\u6A21\u5F0F" aria-hidden="true">#</a> none\u6A21\u5F0F</h4><p>\u8FD9\u79CD\u6A21\u5F0F\u4E0B\u4E0D\u4F1A\u914D\u7F6E\u4EFB\u4F55\u7F51\u7EDC\u3002</p><p>\u8FD9\u4E2A\u6A21\u5F0F\u548C\u524D\u4E24\u4E2A\u4E0D\u540C\u3002\u5728\u8FD9\u79CD\u6A21\u5F0F\u4E0B\uFF0CDocker\u5BB9\u5668\u62E5\u6709\u81EA\u5DF1\u7684Network Namespace\uFF0C\u4F46\u662F\uFF0C\u5E76\u4E0D\u4E3ADocker\u5BB9\u5668\u8FDB\u884C\u4EFB\u4F55\u7F51\u7EDC\u914D\u7F6E\u3002\u4E5F\u5C31\u662F\u8BF4\uFF0C\u8FD9\u4E2ADocker\u5BB9\u5668\u6CA1\u6709\u7F51\u5361\u3001IP\u3001\u8DEF\u7531\u7B49\u4FE1\u606F\u3002\u9700\u8981\u6211\u4EEC\u81EA\u5DF1\u4E3ADocker\u5BB9\u5668\u6DFB\u52A0\u7F51\u5361\u3001\u914D\u7F6EIP\u7B49\u3002</p><h4 id="bridge\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#bridge\u6A21\u5F0F" aria-hidden="true">#</a> bridge\u6A21\u5F0F</h4><p>bridge\u6A21\u5F0F\u662FDocker\u9ED8\u8BA4\u7684\u7F51\u7EDC\u8BBE\u7F6E\uFF0C\u6B64\u6A21\u5F0F\u4F1A\u4E3A\u6BCF\u4E00\u4E2A\u5BB9\u5668\u5206\u914DNetwork Namespace\u3001\u8BBE\u7F6EIP\u7B49\uFF0C\u5E76\u5C06\u4E00\u4E2A\u4E3B\u673A\u4E0A\u7684Docker\u5BB9\u5668\u8FDE\u63A5\u5230\u4E00\u4E2A\u865A\u62DF\u7F51\u6865\u4E0A\u3002</p><p>\u7C7B\u4F3C\u4E8EVmware\u7684nat\u7F51\u7EDC\u6A21\u5F0F\u3002\u540C\u4E00\u4E2A\u5BBF\u4E3B\u673A\u4E0A\u7684\u6240\u6709\u5BB9\u5668\u4F1A\u5728\u540C\u4E00\u4E2A\u7F51\u6BB5\u4E0B\uFF0C\u76F8\u4E92\u4E4B\u95F4\u662F\u53EF\u4EE5\u901A\u4FE1\u7684\u3002</p><h3 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose" aria-hidden="true">#</a> docker-compose</h3><p>\u65B0\u5EFAdocker-compose.yml\u914D\u7F6E\u6587\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>version: &#39;2&#39;
services:
  tomcat:
    restart: always
    image: tomcat
    container_name: tomcat
    ports:
      - 30000:8080
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5728\u914D\u7F6E\u540C\u7EA7\u76EE\u5F55\u4E0B\u8FD0\u884C\uFF0C\u6216\u6307\u5B9A\u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose -f /conf_path up -d  --\u540E\u53F0\u5B88\u62A4\u542F\u52A8
docker-compose -f /conf_path up  --\u524D\u53F0\u542F\u52A8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u67E5\u770B\u65E5\u5FD7</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose logs tomcat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u505C\u6B62</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose start  --\u542F\u52A8
docker-compose stop  --\u505C\u6B62
docker-compose dowm  --\u505C\u6B62\u5E76\u79FB\u9664
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u542F\u52A8\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u547D\u4EE4" aria-hidden="true">#</a> \u542F\u52A8\u547D\u4EE4</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run --name container-name:tag -d -p service_port:docker_port image-name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u2013name</strong></p><p>\u81EA\u5B9A\u4E49\u5BB9\u5668\u540D\uFF0C\u4E0D\u6307\u5B9A\u65F6\uFF0Cdocker \u4F1A\u81EA\u52A8\u751F\u6210\u4E00\u4E2A\u540D\u79F0</p><p><strong>-d</strong></p><p>\u8868\u793A\u540E\u53F0\u8FD0\u884C\u5BB9\u5668</p><p><strong>image-name</strong></p><p>\u6307\u5B9A\u8FD0\u884C\u7684\u955C\u50CF\u540D\u79F0\u4EE5\u53CA Tag</p><p><strong>-p</strong></p><p>\u8868\u793A\u8FDB\u884C\u670D\u52A1\u5668\u4E0E Docker \u5BB9\u5668\u7684\u7AEF\u53E3\u6620\u5C04\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u5BB9\u5668\u4E2D\u955C\u50CF\u5360\u7528\u7684\u7AEF\u53E3\u662F Docker \u5BB9\u5668\u4E2D\u7684\u7AEF\u53E3\u4E0E\u5916\u754C\u662F\u9694\u7EDD\u7684\uFF0C\u5FC5\u987B\u8FDB\u884C\u7AEF\u53E3\u6620\u5C04\u624D\u80FD\u8BBF\u95EE</p><h3 id="\u57FA\u7840\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u57FA\u7840\u547D\u4EE4" aria-hidden="true">#</a> \u57FA\u7840\u547D\u4EE4</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker images--\u955C\u50CF\u5217\u8868
docker search--\u955C\u50CF\u641C\u7D22
docker pull--\u955C\u50CF\u4E0B\u8F7D
docker ps  \u67E5\u770B\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668
docker ps -a \u67E5\u770B\u6240\u6709\u542F\u52A8\u548C\u672A\u542F\u52A8\u7684\u5BB9\u5668
docker stop \u505C\u6B62\u5BB9\u5668
docker start  \u547D\u4EE4\u542F\u52A8\u505C\u6B62\u8FD0\u884C\u7684\u5BB9\u5668\uFF0C\u540C\u7406\u53EF\u4EE5\u6839\u636E \u5BB9\u5668\u540D\u6216\u8005 \u5BB9\u5668 id \u8FDB\u884C\u542F\u52A8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5220\u9664\u5BB9\u5668or\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u5220\u9664\u5BB9\u5668or\u955C\u50CF" aria-hidden="true">#</a> \u5220\u9664\u5BB9\u5668or\u955C\u50CF</h3><p>\u5220\u9664\u5BB9\u5668\u9700\u8981\u5148\u505C\u6B62</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker rm container-id --\u5220\u9664\u5BB9\u5668
docker rmi image_name --\u5220\u9664\u955C\u50CF
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u67E5\u770B\u5BB9\u5668\u65E5\u5FD7" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u5BB9\u5668\u65E5\u5FD7" aria-hidden="true">#</a> \u67E5\u770B\u5BB9\u5668\u65E5\u5FD7</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker logs &lt;container-name&gt;or&lt;container-id &gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u67E5\u770B\u5BB9\u5668ip" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u5BB9\u5668ip" aria-hidden="true">#</a> \u67E5\u770B\u5BB9\u5668ip</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker inspect &lt;container-name&gt;or&lt;container-id &gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u67E5\u770B\u955C\u50CF\u5177\u4F53\u7248\u672C\u53F7" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u955C\u50CF\u5177\u4F53\u7248\u672C\u53F7" aria-hidden="true">#</a> \u67E5\u770B\u955C\u50CF\u5177\u4F53\u7248\u672C\u53F7</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker image inspect iamge_name | grep -i version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u670D\u52A1\u91CD\u542F" tabindex="-1"><a class="header-anchor" href="#\u670D\u52A1\u91CD\u542F" aria-hidden="true">#</a> \u670D\u52A1\u91CD\u542F</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8FDB\u5165\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u5165\u5BB9\u5668" aria-hidden="true">#</a> \u8FDB\u5165\u5BB9\u5668</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u8FDB\u5165\u5BB9\u5668
docker exec -it &lt;name or id&gt; /bin/bash
\u6216\u8005
docker exec -it &lt;name or id&gt; /bin/sh
\u5DF2root\u6743\u9650\u8FDB\u5165
docker exec -i -u root -t \u5BB9\u5668\u540D\u79F0 /bin/bash
exit\uFF1A\u9000\u51FA\u5BB9\u5668
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4EE3\u7406\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u4EE3\u7406\u914D\u7F6E" aria-hidden="true">#</a> \u4EE3\u7406\u914D\u7F6E</h3><p>docker\u7684\u67B6\u6784\u4E0B\uFF0Cdocker \u53EA\u662F\u5BA2\u6237\u7AEF\uFF0C \u7BA1\u7406\uFF0C\u67E5\u770B\u5BB9\u5668\u72B6\u6001docker ps/run \u4E0E\u5BB9\u5668\u5EFA\u7ACB\u8FDE\u63A5docker exec \u90FD\u662F\u540E\u53F0dockerd\u6765\u5B8C\u6210\u7684</p><p><strong>\u5BA2\u6237\u7AEF\u548C\u670D\u52A1\u7AEF\u662F\u5355\u72EC\u7684\u4E24\u4E2A\u8FDB\u7A0B</strong> https_proxy docker pull \u662F\u4E0D\u8D70\u4EE3\u7406\u7684</p><p><strong>\u914D\u7F6Edockerd\u8D70\u4EE3\u7406\u6A21\u5F0F</strong></p><p>/etc/docker/daemon.json \u6587\u4EF6\u53EF\u4EE5\u914D\u7F6E\u5F88\u591A\u9009\u9879 <strong>\u4F46\u552F\u72EC\u4E0D\u80FD\u914D\u7F6Ehttps_proxy</strong></p><p><strong>\u8FC7systemd service\u914D\u7F6E</strong></p><p>1.\u521B\u5EFA\u76EE\u5F55</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo mkdir -p /etc/systemd/system/docker.service.d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2.\u521B\u5EFA\u6587\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/etc/systemd/system/docker.service.d/http-proxy.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3.\u6DFB\u52A0\u914D\u7F6E</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[Service]
Environment=&quot;HTTPS_PROXY=http://&lt;ip&gt;:&lt;port&gt;&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u914D\u7F6E\u5BB9\u5668\u8D70\u4EE3\u7406</strong>--\u914D\u7F6E\u5BB9\u5668\u5185\u8BBF\u95EEinternet\u65F6\uFF0C\u8D70\u4EE3\u7406</p><p><strong>\u7B2C\u4E00\u79CD\u65B9\u5F0F</strong>\uFF1A\u5BB9\u5668home\u76EE\u5F55\u6DFB\u52A0\u914D\u7F6E\u6587\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cat ~/.docker/config.json
{
 &quot;proxies&quot;:
 {
   &quot;default&quot;:
   {
     &quot;httpProxy&quot;: &quot;http://127.0.0.1:3001&quot;,
     &quot;httpsProxy&quot;: &quot;http://127.0.0.1:3001&quot;,
     &quot;noProxy&quot;: &quot;*.test.example.com,.example2.com&quot;
   }
 }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u7B2C\u4E8C\u79CD\u65B9\u5F0F</strong>\uFF1A\u901A\u8FC7-e \u4F20\u73AF\u5883\u53D8\u91CF\u5B9E\u73B0</p><h3 id="\u914D\u7F6E\u955C\u50CF\u52A0\u901F" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u955C\u50CF\u52A0\u901F" aria-hidden="true">#</a> \u914D\u7F6E\u955C\u50CF\u52A0\u901F</h3><p>\u4FEE\u6539<code>daemon</code>\u914D\u7F6E\u6587\u4EF6<code>/etc/docker/daemon.json</code>\u6765\u4F7F\u7528\u52A0\u901F\u5668</p><p>\u52A0\u901F\u955C\u50CF\u5730\u5740\u53EF\u4ECE\u5404\u4E91\u670D\u52A1\u5546(\u5982\uFF1A\u963F\u91CC\u4E91)\u5904\u83B7\u53D6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json &lt;&lt;-&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [&quot;https://3rupg4kz.mirror.aliyuncs.com&quot;]
}
EOF

sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5BBF\u4E3B\u673A-\u5BB9\u5668\u95F4\u6587\u4EF6\u590D\u5236" tabindex="-1"><a class="header-anchor" href="#\u5BBF\u4E3B\u673A-\u5BB9\u5668\u95F4\u6587\u4EF6\u590D\u5236" aria-hidden="true">#</a> \u5BBF\u4E3B\u673A/\u5BB9\u5668\u95F4\u6587\u4EF6\u590D\u5236</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker cp host_path containerID:container_path
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker cp containerID:container_path host_path
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u4FEE\u6539\u5BB9\u5668\u5185\u90E8\u65F6\u533A" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u5BB9\u5668\u5185\u90E8\u65F6\u533A" aria-hidden="true">#</a> \u4FEE\u6539\u5BB9\u5668\u5185\u90E8\u65F6\u533A</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>echo Asia/Shanghai &gt; /etc/timezone
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u8FD0\u884C\u5BB9\u5668\u5185shell\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884C\u5BB9\u5668\u5185shell\u811A\u672C" aria-hidden="true">#</a> \u8FD0\u884C\u5BB9\u5668\u5185shell\u811A\u672C</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec db_shouxin_test bash /home/dbrep.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u91CD\u547D\u540D\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u91CD\u547D\u540D\u955C\u50CF" aria-hidden="true">#</a> \u91CD\u547D\u540D\u955C\u50CF</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker tag percona/percona-xtradb-cluster:latest pxc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="elasticsearch" tabindex="-1"><a class="header-anchor" href="#elasticsearch" aria-hidden="true">#</a> ElasticSearch</h2><h3 id="docker\u5BB9\u5668\u5316\u90E8\u7F72-1" tabindex="-1"><a class="header-anchor" href="#docker\u5BB9\u5668\u5316\u90E8\u7F72-1" aria-hidden="true">#</a> docker\u5BB9\u5668\u5316\u90E8\u7F72</h3><h4 id="\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u955C\u50CF" aria-hidden="true">#</a> \u955C\u50CF</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull elasticsearch:7.3.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --name es -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot; -e &quot;discovery.type=single-node&quot; elasticsearch:7.3.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run --name es -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot; -e &quot;discovery.type=single-node&quot; elasticsearch:7.3.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --name kibana --link=nervous_cohen:elasticsearch -p 5601:5601 kibana:7.3.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u5BB9\u5668\u5185\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668\u5185\u76EE\u5F55" aria-hidden="true">#</a> \u5BB9\u5668\u5185\u76EE\u5F55</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u5BB9\u5668\u5185\u76EE\u5F55
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u91CD\u65B0\u6302\u5728\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#\u91CD\u65B0\u6302\u5728\u76EE\u5F55" aria-hidden="true">#</a> \u91CD\u65B0\u6302\u5728\u76EE\u5F55</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker volume create es_conf
docker volume create es_data
docker volume create es_plugins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u524D\u53F0\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#\u524D\u53F0\u542F\u52A8" aria-hidden="true">#</a> \u524D\u53F0\u542F\u52A8</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run --name es -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot; -e &quot;discovery.type=single-node&quot; -v es_conf:/usr/share/elasticsearch/config -v es_data:/usr/share/elasticsearch/data -v es_plugins:/usr/share/elasticsearch/plugins  elasticsearch:7.3.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u8DE8\u57DF\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u8DE8\u57DF\u914D\u7F6E" aria-hidden="true">#</a> \u8DE8\u57DF\u914D\u7F6E</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cluster.name: &quot;docker-cluster&quot;
network.host: 0.0.0.0
http.cors.enabled: true
http.cors.allow-origin: &quot;*&quot;

# minimum_master_nodes need to be explicitly set when bound on a public IP
# set to 1 to allow single node clusters
# Details: https://github.com/elastic/elasticsearch/pull/17288
discovery.zen.minimum_master_nodes: 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u53EF\u89C6\u5316\u7EC8\u7AEF" tabindex="-1"><a class="header-anchor" href="#\u53EF\u89C6\u5316\u7EC8\u7AEF" aria-hidden="true">#</a> \u53EF\u89C6\u5316\u7EC8\u7AEF</h3>`,274),g={id:"dejavu-github",tabindex:"-1"},h=e("a",{class:"header-anchor",href:"#dejavu-github","aria-hidden":"true"},"#",-1),x={href:"https://github.com/appbaseio/dejavu",target:"_blank",rel:"noopener noreferrer"},_={id:"elastichd-github",tabindex:"-1"},f=e("a",{class:"header-anchor",href:"#elastichd-github","aria-hidden":"true"},"#",-1),k={href:"https://github.com/qax-os/ElasticHD",target:"_blank",rel:"noopener noreferrer"},y=a(`<h3 id="\u542F\u7528xpack\u5B89\u5168\u9A8C\u8BC1" tabindex="-1"><a class="header-anchor" href="#\u542F\u7528xpack\u5B89\u5168\u9A8C\u8BC1" aria-hidden="true">#</a> \u542F\u7528xpack\u5B89\u5168\u9A8C\u8BC1</h3><p>\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>xpack.security.enabled: true
##\u5355\u4E2A\u8282\u70B9
discovery.type: single-node
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u521D\u59CB\u5316\u5BC6\u7801</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./elasticsearch-setup-passwords interactive
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u6E05\u7406\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u6E05\u7406\u7D22\u5F15" aria-hidden="true">#</a> \u6E05\u7406\u7D22\u5F15</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>curl -u elastic -XDELETE http://127.0.0.1:9201/&lt;index_name&gt;*
curl  -XDELETE http://127.0.0.1:9201/&lt;index_name&gt;*
curl -u elastic:wkq1234..00 -XDELETE http://127.0.0.1:9200/&lt;index_name&gt;*
curl -u elastic:0n0RQ45Vdrb7oJo6 -XDELETE http://172.21.0.3:9200/&lt;index_name&gt;*
curl -u elastic:0n0RQ45Vdrb7oJo6 -XDELETE http://172.21.0.3:9200/&lt;index_name&gt;*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5E38\u7528\u7684\u7D22\u5F15\u52A8\u6001\u914D\u7F6E\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u7684\u7D22\u5F15\u52A8\u6001\u914D\u7F6E\u53C2\u6570" aria-hidden="true">#</a> \u5E38\u7528\u7684\u7D22\u5F15\u52A8\u6001\u914D\u7F6E\u53C2\u6570</h3><ol><li><p><strong>index.number_of_replicas</strong></p><p>\u6BCF\u4E2A\u4E3B\u5206\u7247\u7684\u526F\u672C\u6570\uFF0C\u9ED8\u8BA4\u4E3A1\u3002</p></li><li><p><strong>index.auto_expand_replicas</strong></p><p>\u8BE5\u914D\u7F6E\u9879\u7528\u4E8E\u63A7\u5236\u96C6\u7FA4\u4E2D\u526F\u672C\u7684\u6570\u91CF\u662F\u5426\u968F\u96C6\u7FA4\u4E2D\u6570\u636E\u8282\u70B9\u7684\u6570\u91CF\u8FDB\u884C\u6269\u5C55\uFF0C\u9ED8\u8BA4\u503C\u4E3Afalse\u8868\u793A\u526F\u672C\u6570\u4E0D\u968F\u6570\u636E\u8282\u70B9\u6269\u5C55\u3002\u5982\u679C\u5E0C\u671B\u6269\u5C55\uFF0C\u53EF\u4EE5\u5C06\u503C\u8BBE\u7F6E\u4E3A\u4E00\u4E2A\u6570\u503C\u8303\u56F4\uFF0C\u5982\u201C0-3\u201D\u8868\u793A\u96C6\u7FA4\u4E2D\u5355\u4E2A\u4E3B\u5206\u7247\u7684\u526F\u672C\u6570\u57280\u4E2A3\u4E2A\u4E4B\u95F4\uFF0C\u5177\u4F53\u60C5\u51B5\u6839\u636E\u96C6\u7FA4\u4E2D\u6570\u636E\u8282\u70B9\u800C\u5B9A\uFF0C\u4E5F\u53EF\u4EE5\u8BBE\u7F6E\u4E3A\u201C0-all\u201D\uFF0Call\u8868\u793A\u96C6\u7FA4\u4E2D\u6240\u6709\u7684\u6570\u636E\u96C6\u70B9\u7684\u6570\u91CF\u3002</p><p>\u6CE8\uFF1A\u81EA\u52A8\u6269\u5C55\u7684\u526F\u672C\u6570\u4E0D\u4F1A\u8003\u8651\u5230\u5176\u5B83\u5BF9\u526F\u672C\u5206\u914D\u53EF\u80FD\u5B58\u5728\u7684\u9650\u5236\u89C4\u5219\uFF0C\u5982\u5BF9\u5206\u7247\u7684\u8BC6\u522B\u3001\u8FC7\u6EE4\u6216\u6BCF\u4E2A\u8282\u70B9\u4E0A\u603B\u5206\u7247\u7684\u9650\u5236\uFF0C\u5982\u679C\u9002\u7528\u7684\u89C4\u5219\u963B\u6B62\u6240\u6709\u526F\u672C\u7684\u5206\u914D\u7F6E\uFF0C\u8FD9\u53EF\u80FD\u5BFC\u81F4\u7FA4\u96C6\u8FD0\u884C\u72B6\u51B5\u53D8\u4E3A\u9EC4\u8272\u3002</p></li><li><p><strong>index.search.idle.after</strong></p><p>\u8BBE\u7F6E\u5206\u7247\u591A\u4E45\u6CA1\u6709\u63A5\u6536\u8FC7\u8BF7\u6C42\uFF0C\u5C31\u4F1A\u88AB\u5224\u5B9A\u4E3A\u7A7A\u95F2\u7684\u65F6\u95F4\uFF0C\u9ED8\u8BA4\u4E3A30\u79D2\u3002</p></li><li><p><strong>index.refresh_interval</strong></p><p>\u6267\u884C\u5237\u65B0\u64CD\u4F5C\u7684\u9891\u7387\uFF0C\u8BE5\u64CD\u4F5C\u4F7F\u7D22\u5F15\u7684\u6700\u8FD1\u66F4\u6539\u5BF9\u641C\u7D22\u53EF\u89C1\uFF0C \u9ED8\u8BA4\u4E3A1\u79D2\uFF0C \u53EF\u4EE5\u8BBE\u7F6E\u4E3A-1\u8868\u793A\u7981\u7528\u5237\u65B0\u3002</p><p>\u5982\u679C\u663E\u793A\u4E0D\u8BBE\u7F6E\u8BE5\u503C\uFF0C\u90A3\u4E9B\u5728\u81F3\u5C11\${index.search.idle.after}\u79D2\u4E4B\u524D\u6CA1\u6709\u6536\u5230\u8FC7\u641C\u7D22\u8BF7\u6C42\u7684\u5206\u7247\uFF0C\u5C06\u4E0D\u4F1A\u6536\u5230\u540E\u53F0\u7684\u5237\u65B0\u8BF7\u6C42\uFF0C\u4E00\u76F4\u8981\u7B49\u8FD9\u4E9B\u5206\u7247\u6536\u5230\u641C\u7D22\u624D\u4F1A\u6536\u5230\u540E\u53F0\u7684\u5237\u65B0\u8BF7\u6C42\uFF0C\u5982\u679C\u5F53\u524D\u641C\u7D22\u6D89\u53CA\u5230\u64CD\u4F5C\u7A7A\u95F2\u72B6\u6001\u7684\u5206\u7247\u65F6\uFF0C\u5237\u65B0\u64CD\u4F5C\u4F1A\u88AB\u6302\u8D77\u76F4\u5230\u4E0B\u4E00\u6B21\u540E\u53F0\u7684\u5237\u65B0\u64CD\u4F5C\uFF081\u79D2\u4E4B\u5185\uFF09\uFF0C\u6B64\u884C\u4E3A\u65E8\u5728\u5728\u672A\u6267\u884C\u641C\u7D22\u65F6\u81EA\u52A8\u4F18\u5316\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u7684\u6279\u91CF\u7D22\u5F15\u3002</p><p>\u5982\u679C\u4E0D\u5E0C\u671B\u6267\u884C\u6B64\u9ED8\u8BA4\u903B\u8F91\uFF0C\u5E94\u5F53\u663E\u793A\u7684\u5C06\u5237\u65B0\u65F6\u95F4\u95F4\u9694\u8BBE\u7F6E\u4E3A1\u79D2\u3002</p></li><li><p><strong>index.max_result_window</strong></p><p>\u5BF9\u5F53\u524D\u7D22\u5F15\u5728\u88AB\u6267\u884C\u641C\u7D22\u65F6\uFF0C\u9650\u5236\u6B64\u7D22\u5F15\u7684from + size\u7684\u6700\u5927\u503C\uFF0C\u4EE5\u907F\u514D\u5360\u7528\u8FC7\u5927\u7684\u5806\u5185\u5B58\uFF0C \u9ED8\u8BA4\u4E3A10000\u3002</p></li><li><p><strong>index.max_inner_result_window</strong></p><p>\u7528\u4E8E\u63A7\u5236\u9876\u90E8\u805A\u5408from+size\u7684\u603B\u8BB0\u5F55\uFF0C\u4EE5\u907F\u514D\u5360\u7528\u8FC7\u5927\u7684\u5806\u5185\u5B58\uFF0C \u9ED8\u8BA4\u4E3A100\u3002</p></li><li><p><strong>index.max_rescore_window</strong></p><p>\u8BBE\u7F6E\u7D22\u5F15\u7684rescore\u8BF7\u6C42\u7684window_size\u7684\u6700\u5927\u503C\uFF0C \u9ED8\u8BA4\u4E3A\u4E0Eindex.max_result_window\u7684\u503C\u76F8\u540C\uFF0C\u9ED8\u8BA4\u503C\u4E3A10000\u3002</p></li><li><p><strong>index.max_docvalue_fields_search</strong></p><p>\u67E5\u8BE2\u4E2D\u5141\u8BB8\u7684\u6700\u591Adocvalue_fields\u6570\u91CF\uFF0C\u9ED8\u8BA4\u4E3A100\u3002Doc_value\u5B57\u6BB5\u7684\u67E5\u8BE2\u6210\u672C\u5F88\u9AD8\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u53EF\u80FD\u4F1A\u5BFC\u81F4\u5BF9\u6BCF\u4E2A\u5B57\u6BB5\u548C\u6BCF\u4E2A\u6587\u6863\u6267\u884C\u641C\u7D22\u3002</p></li><li><p><strong>index.max_script_fields</strong></p><p>\u67E5\u8BE2\u4E2D\u5141\u8BB8\u7684\u6700\u591Ascript_fields\u7684\u6570\u91CF\uFF0C \u9ED8\u8BA4\u4E3A32\u3002</p></li><li><p><strong>index.max_ngram_diff</strong></p><p>NGramTokenizer\u548CNGramTokenFilter\u7684min_gram\u548Cmax_gram\u4E4B\u95F4\u5141\u8BB8\u7684\u6700\u5927\u5DEE\u5F02\u503C\uFF0C\u9ED8\u8BA4\u4E3A1\u3002</p></li><li><p><strong>index.max_shingle_diff</strong></p><p>ShingleTokenFilter\u7684max_shingle_size\u548Cmin_shingle_size\u4E4B\u95F4\u5141\u8BB8\u7684\u6700\u5927\u5DEE\u5F02\u503C\uFF0C \u9ED8\u8BA4\u4E3A3</p></li><li><p><strong>index.blocks.read_only</strong></p><p>\u63A7\u5236\u7D22\u5F15\u53CA\u5176\u5143\u6570\u636E\u662F\u5426\u4E3A\u53EA\u8BFB\u72B6\u6001\uFF0C\u8BBE\u7F6E\u4E3Atrue\u8868\u793A\u53EA\u8BFB\uFF0Cfalse\u4E3A\u975E\u53EA\u8BFB\u3002</p></li><li><p><strong>index.blocks.read_only_allow_delete</strong></p><p>\u63A7\u5236\u7D22\u5F15\u53CA\u5176\u5143\u6570\u636E\u5728\u53EA\u8BFB\u72B6\u6001\u4E0B\uFF0C\u662F\u5426\u5141\u8BB8\u6267\u884C\u5220\u9664\uFF0C\u8BBE\u7F6Etrue\u8868\u793A\u5141\u8BB8\u5220\u9664\uFF0Cfalse\u4E0D\u5141\u8BB8\u3002</p></li><li><p><strong>index.blocks.read</strong></p><p>\u8BBE\u7F6E\u662F\u5426\u5141\u8BB8\u5F53\u524D\u7D22\u5F15\u53EF\u8BFB\uFF0Ctrue\u8868\u793A\u4E0D\u53EF\u8BFB\u3002</p></li><li><p><strong>index.blocks.write</strong></p><p>\u8BBE\u7F6E\u662F\u5426\u5141\u8BB8\u5F53\u524D\u7D22\u5F15\u53EF\u5199\uFF0Ctrue\u8868\u793A\u4E0D\u53EF\u5199\u3002\u4E0E\u53EA\u8BFBread_only\u4E0D\u540C\u7684\u662F\uFF0C\u5B83\u4E0D\u5F71\u54CD\u5230\u5BF9\u5143\u6570\u636E\u7684\u64CD\u4F5C\u3002\u4F8B\u5982\u53EF\u4EE5\u5173\u95ED\u4E00\u4E2Ablocks.write\u7684\u7D22\u5F15\uFF0C\u4F46\u662F\u4E0D\u53EF\u4EE5\u5173\u95ED\u4E00\u4E2Aread_only\u72B6\u6001\u7684\u7D22\u5F15\u3002</p></li><li><p><strong>index.blocks.metadata</strong></p><p>\u63A7\u5236\u5BF9metadata\u7684\u8BFB\u5199\uFF0Ctrue\u8868\u793A\u4E0D\u5141\u8BB8\u8BFB\u5199\u3002</p></li><li><p><strong>index.max_refresh_listeners</strong></p><p>\u7D22\u5F15\u7684\u6BCF\u4E2A\u5206\u7247\u4E0A\u53EF\u7528\u7684\u6700\u5927\u5237\u65B0\u4FA6\u542C\u5668\u6570\uFF0C\u8FD9\u4E9B\u4FA6\u542C\u5668\u7528\u4E8E\u5B9E\u73B0refresh = wait_for\u7684\u8BF7\u6C42\u3002</p></li><li><p><strong>index.analyze.max_token_count</strong></p><p>\u4F7F\u7528_analyze API\u53EF\u4EE5\u751F\u6210\u7684\u6700\u5927\u8BCD\u9879\u6570\uFF0C \u9ED8\u8BA4\u4E3A10000\u3002</p></li><li><p><strong>index.highlight.max_analyzed_offset</strong></p><p>highlight\u8BF7\u6C42\u53EF\u88AB\u5206\u6790\u7684\u6700\u5927\u5B57\u7B26\u6570\uFF0C\u6B64\u8BBE\u7F6E\u4EC5\u5728highlight\u8BF7\u6C42\u9488\u5BF9\u6CA1\u6709\u504F\u79FB\u91CF\u6216term vector\u7684\u7D22\u5F15\u6587\u672C\u65F6\u624D\u4F1A\u751F\u6548\uFF0C \u9ED8\u8BA4\u4E3A1000000\u3002</p></li><li><p><strong>index.max_terms_count</strong></p><p>\u53EF\u5728term\u67E5\u8BE2\u4E2D\u4F7F\u7528\u7684\u6700\u5927term\u6570\uFF0C\u9ED8\u8BA4\u503C\u4E3A65536\u3002</p></li><li><p><strong>index.max_regex_length</strong></p><p>\u53EF\u4EE5\u5728\u6B63\u5219\u8868\u8FBE\u5F0F\u67E5\u8BE2\u4E2D\u4F7F\u7528\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\u6700\u5927\u957F\u5EA6\uFF0C \u9ED8\u8BA4\u4E3A1000\u3002</p></li><li><p><strong>index.routing.allocation.enable</strong></p><p>\u63A7\u5236\u5F53\u524D\u7D22\u5F15\u7684\u5206\u7247\u5206\u914D\uFF0C\u5176\u503C\u53EF\u4EE5\u8BBE\u7F6E\u4E3A\uFF1A</p><p>all\uFF08\u9ED8\u8BA4\u503C\uFF09 - \u5141\u8BB8\u6240\u6709\u5206\u7247\u6267\u884C\u5206\u7247\u5206\u914D\uFF1B primaries - \u4EC5\u5141\u8BB8\u4E3A\u4E3B\u5206\u7247\u5206\u914D\u5206\u7247\uFF1B new_primaries - \u4EC5\u5141\u8BB8\u4E3A\u65B0\u521B\u5EFA\u7684\u4E3B\u5206\u7247\u5206\u914D\u5206\u7247\uFF1B none - \u4E0D\u5141\u8BB8\u6267\u884C\u5206\u7247\u5206\u914D\uFF1B</p></li><li><p><strong>index.routing.rebalance.enable</strong></p><p>\u8BBE\u7F6E\u7D22\u5F15\u7684\u5206\u7247\u91CD\u65B0\u5E73\u8861\u7B56\u7565\uFF0C\u5176\u503C\u53EF\u4EE5\u8BBE\u7F6E\u4E3A\uFF1A</p><p>all\uFF08\u9ED8\u8BA4\u503C\uFF09 - \u5141\u8BB8\u6240\u6709\u7684\u5206\u7247\u91CD\u65B0\u5E73\u8861\uFF1B primaries - \u4EC5\u5141\u8BB8\u4E3B\u5206\u7247\u91CD\u65B0\u5E73\u8861\uFF1B replicas - \u4EC5\u5141\u8BB8\u5BF9\u526F\u672C\u5206\u7247\u8FDB\u884C\u91CD\u65B0\u5E73\u8861\uFF1B none - \u4E0D\u5141\u8BB8\u8FDB\u884C\u5206\u7247\u91CD\u65B0\u5E73\u8861\uFF1B</p></li><li><p><strong>index.gc_deletes</strong></p><p>\u8BBE\u7F6E\u5DF2\u5220\u9664\u6587\u6863\u7684\u7248\u672C\u53F7\u4ECD\u53EF\u7528\u4E8E\u540E\u7EED\u7248\u672C\u5316\u64CD\u4F5C\u7684\u65F6\u95F4\uFF0C \u9ED8\u8BA4\u4E3A60\u79D2\u3002</p></li></ol><h3 id="\u4FEE\u6539\u6700\u5927\u5206\u7247\u6570" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u6700\u5927\u5206\u7247\u6570" aria-hidden="true">#</a> \u4FEE\u6539\u6700\u5927\u5206\u7247\u6570</h3><p>\u5F02\u5E38\u4FE1\u606F\uFF1Athis cluster currently has [999]/[1000] maximum shards open;</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>kibana tools \u914D\u7F6E
PUT /_cluster/settings
{
  &quot;transient&quot;: {
    &quot;cluster&quot;: {
      &quot;max_shards_per_node&quot;:10000
    }
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u81EA\u5B9A\u4E49\u5206\u8BCD\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u5206\u8BCD\u65B9\u5F0F" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u5206\u8BCD\u65B9\u5F0F</h3><h4 id="analyzers" tabindex="-1"><a class="header-anchor" href="#analyzers" aria-hidden="true">#</a> Analyzers</h4><p>\u8BED\u6CD5\u5206\u6790\u5668\uFF0CES \u5305\u542B\u5F88\u591A\u5185\u7F6E\u7684\u5206\u6790\u5668\uFF0C\u6BD4\u5982 standard, simple, whitespace \u7B49\u7B49\u3002</p><h4 id="tokenizer" tabindex="-1"><a class="header-anchor" href="#tokenizer" aria-hidden="true">#</a> Tokenizer</h4><p>\u5206\u8BCD\u5668\uFF0C\u5C06\u6307\u5B9A\u6587\u672C\u5206\u5272\u4E3A\u4E00\u4E2A\u4E00\u4E2A\u5355\u8BCD\u3002</p><h4 id="character-filter" tabindex="-1"><a class="header-anchor" href="#character-filter" aria-hidden="true">#</a> Character Filter</h4><p>\u5F53\u4E00\u4E32\u6587\u672C\u88AB\u4F20\u9012\u5230 Tokenizer \u4E4B\u524D\uFF0C\u53EF\u4EE5\u7528 Character Filter \u8FC7\u6EE4\u4E00\u904D\uFF0C\u5904\u7406\u5176\u4E2D\u7684\u5B57\u7B26\uFF0C\u6BD4\u5982\u5C06\u6307\u5B9A\u7684\u5B57\u7B26\u66FF\u6362\u6210\u522B\u7684\u5B57\u7B26\u3002</p><h4 id="filter" tabindex="-1"><a class="header-anchor" href="#filter" aria-hidden="true">#</a> Filter</h4><p>\u7ECF\u8FC7 Tokenizer \u5206\u8BCD\u7ED3\u675F\u7684\u5355\u8BCD\uFF0C\u53EF\u4EE5\u7528 filter \u8FDB\u884C\u5904\u7406\uFF0C\u6BD4\u5982\u5C06\u5176\u8F6C\u6362\u6210\u5C0F\u5199\u5B57\u6BCD\u4E4B\u7C7B\u7684\u3002</p><h2 id="redis" tabindex="-1"><a class="header-anchor" href="#redis" aria-hidden="true">#</a> redis</h2><h3 id="redis-cli\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#redis-cli\u547D\u4EE4" aria-hidden="true">#</a> redis-cli\u547D\u4EE4</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>./redis-cli -a \u5BC6\u7801  -p \u7AEF\u53E3  -h ip  -c \u5DF2\u96C6\u7FA4\u6A21\u5F0F\u8FDE\u63A5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u53EF\u89C6\u5316\u7EC8\u7AEF-1" tabindex="-1"><a class="header-anchor" href="#\u53EF\u89C6\u5316\u7EC8\u7AEF-1" aria-hidden="true">#</a> \u53EF\u89C6\u5316\u7EC8\u7AEF</h3>`,25),q={id:"anotherredisdesktopmanager-github",tabindex:"-1"},w=e("a",{class:"header-anchor",href:"#anotherredisdesktopmanager-github","aria-hidden":"true"},"#",-1),j={href:"https://github.com/qishibo/AnotherRedisDesktopManager",target:"_blank",rel:"noopener noreferrer"},$=a(`<h2 id="jenkins" tabindex="-1"><a class="header-anchor" href="#jenkins" aria-hidden="true">#</a> jenkins</h2><h3 id="docker\u5BB9\u5668\u5316\u90E8\u7F72-2" tabindex="-1"><a class="header-anchor" href="#docker\u5BB9\u5668\u5316\u90E8\u7F72-2" aria-hidden="true">#</a> docker\u5BB9\u5668\u5316\u90E8\u7F72</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull jenkins/jenkins
mkdir /home/jenkins_home 
docker run -d --name jenkins -p 8082:8080 jenkins/jenkins
docker run -d --name jenkins -p 9002:8080 -v jenkins:/var/jenkins_home jenkins/jenkins
\u5BB9\u5668\u5185\u76EE\u5F55;/var/jenkins_home/secrets/initialAdminPassword
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4FEE\u6539\u5BB9\u5668\u5185maven\u955C\u50CF\u52A0\u901F" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539\u5BB9\u5668\u5185maven\u955C\u50CF\u52A0\u901F" aria-hidden="true">#</a> \u4FEE\u6539\u5BB9\u5668\u5185maven\u955C\u50CF\u52A0\u901F</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/MAVEN_HOME/conf
docker cp Jenkins_01:/var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/MAVEN_HOME/conf/settings.xml /home
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u4FEE\u6539\u955C\u50CF\u5730\u5740\uFF1A
&lt;mirror&gt;
    &lt;id&gt;aliyunmaven&lt;/id&gt;
    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun maven&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/public &lt;/url&gt;
&lt;/mirror&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u8986\u76D6\u5BB9\u5668\u5185\u6587\u4EF6

docker cp /home/settings.xml Jenkins_01:/var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/MAVEN_HOME/conf/settings.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u524D\u7AEF\u9879\u76EE\u6784\u5EFA" tabindex="-1"><a class="header-anchor" href="#\u524D\u7AEF\u9879\u76EE\u6784\u5EFA" aria-hidden="true">#</a> \u524D\u7AEF\u9879\u76EE\u6784\u5EFA</h3><p>1.\u9009\u62E9node\u73AF\u5883</p><p><img src="https://file.bbzy.online/blog/image-20221030192047300.png" alt="image-20221030192047300"></p><p>2.\u7F16\u5199\u6784\u5EFAshell\u811A\u672C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm config set sass_binary_site=https://npm.taobao.org/mirrors/node-sass
npm rebuild node-sass
node -v
npm -v 
echo &quot;\u5F00\u59CB\u6784\u5EFA v0v&quot;
npm install
npm run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.\u4F20\u9001\u6784\u5EFA\u6587\u4EF6\u5939\u81F3\u90E8\u7F72\u670D\u52A1\u5668</p><p><img src="https://file.bbzy.online/blog/image-20221030192221662.png" alt="image-20221030192221662"></p><h3 id="\u540E\u7AEF\u9879\u76EE\u6784\u5EFA" tabindex="-1"><a class="header-anchor" href="#\u540E\u7AEF\u9879\u76EE\u6784\u5EFA" aria-hidden="true">#</a> \u540E\u7AEF\u9879\u76EE\u6784\u5EFA</h3><p><img src="https://file.bbzy.online/blog/EgF-8MInqobjGyYzoGMdGlrDZXK3dQByXjN3jHu5xKg.png" alt="image"></p><p><img src="https://file.bbzy.online/blog/EI-PIn8NFbNrGLf7srNP22otNRqbXgaUuD3IK6PVhuA.png" alt="image"></p><p><img src="https://file.bbzy.online/blog/s2dC_JCh76ndfp1ruHVEw60rwr1xJOB4gd9E4_LVWPI.png" alt="image"></p><p><img src="https://file.bbzy.online/blog/eS0ge3-1LzxKXyydbL5n9ERb4Ub6HAM_yPYD11P7oF8.png" alt="image"></p><p><img src="https://file.bbzy.online/blog/AetON-uVbxod8w25HccAWTUIPb-6LwDkZ27-RryFzRE.png" alt="image"></p><h3 id="\u5220\u9664\u5386\u53F2\u6784\u5EFA" tabindex="-1"><a class="header-anchor" href="#\u5220\u9664\u5386\u53F2\u6784\u5EFA" aria-hidden="true">#</a> \u5220\u9664\u5386\u53F2\u6784\u5EFA</h3><ol><li><p>\u65B9\u5F0F\u4E00\u3010\u5220\u9664\u6307\u5B9A\u533A\u95F4\u5185\u3011</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import jenkins.model.*;
import hudson.model.Fingerprint.RangeSet;

// The name of the job\u3010\u76EE\u5F55\u540D\uFF0C\u5982\u679C\u6CA1\u6709\u53EF\u4EE5\u4E0D\u586B\u3011.
def jobName = &quot;\u76EE\u5F55\u540D/\u9879\u76EE\u540D&quot;;
// The range of build numbers to delete.
def buildRange = &quot;1214-1221&quot;;
def j = jenkins.model.Jenkins.instance.getItemByFullName(jobName);
def r = RangeSet.fromString(buildRange, true);
j.getBuilds(r).each { it.delete() }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u65B9\u5F0F\u4E8C\u3010\u5220\u9664\u4E0D\u5927\u4E8EmaxNumber\u3011\u7684\u8BB0\u5F55</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>def jobName = &quot;\u76EE\u5F55\u540D/\u9879\u76EE\u540D&quot;
def maxNumber = 1213
Jenkins.instance.getItemByFullName(jobName);
Jenkins.instance.getItemByFullName(jobName).builds.findAll {
  it.number &lt;= maxNumber
}.each {
  it.delete()
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="job\u590D\u5236\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#job\u590D\u5236\u811A\u672C" aria-hidden="true">#</a> job\u590D\u5236\u811A\u672C</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import hudson.model.*
    //\u6E90view
    def str_view = &quot;2\u624B\u5FC3\u7F8E\u4E1A\u6D4B\u8BD5\u73AF\u5883&quot;
    //\u76EE\u6807view
    def str_new_view = &quot;7\u7F8E\u4E1A\u751F\u4EA7-node-1&quot;
    //\u6E90job\u540D\u79F0(\u6A21\u7CCA\u5339\u914D)
    def str_search = &quot;test-&quot;
    //\u76EE\u6807job\u540D\u79F0(\u6A21\u7CCA\u5339\u914D\u540E\u66FF\u6362)
    def str_replace = &quot;node1&quot;
    def view = Hudson.instance.getView(str_view)
    //copy all projects of a view
    for(item in view.getItems())
    {
      //create the new project name
      newName = item.getName().replace(str_search, str_replace)
      // copy the job, disable and save it
      def job
      try {
          //\u56E0\u4E3A\u7B2C\u4E00\u6B21\u5BFC\u5165\u540E\u62A5\u9519\uFF0C\u6240\u4EE5\u6DFB\u52A0\u4E86try-catch \u8DF3\u8FC7\u5DF2\u5B58\u5728\u7684job
          job = Hudson.instance.copy(item, newName)
      } catch(IllegalArgumentException e) {
         println(e.toString())
         println(&quot;$newName job is exists&quot;)
         continue
      } catch(Exception e) {
        println(e.toString())
        continue
      }
      job.disabled = true
      job.save() 
      // update the workspace to avoid having two projects point to the same location
      AbstractProject project = job
      def new_workspace = project.getCustomWorkspace().replace(str_search, str_replace)
      project.setCustomWorkspace(new_workspace)
      project.save()
      //add job to view
      Hudson.instance.getView(str_new_view).add(job)
      println(&quot; $item.name copied as $newName&quot;)
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u811A\u672C\u7C7B\u578B\u5907\u4EFD" tabindex="-1"><a class="header-anchor" href="#\u811A\u672C\u7C7B\u578B\u5907\u4EFD" aria-hidden="true">#</a> \u811A\u672C\u7C7B\u578B\u5907\u4EFD</h3><p><strong>\u591A\u6A21\u5757\u9879\u76EE\u90E8\u7F72\u811A\u672C-jenkins\u7AEF</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#!/bin/bash
echo &quot;\u5DE5\u4F5C\u7A7A\u95F4 $WORKSPACE&quot;
echo &quot;\u5373\u5C06\u90E8\u7F72\u7684\u9879\u76EE\u4FE1\u606F $project_names&quot;
mvn clean package -pl $project_names -am  -DskipTests
echo &quot;\u6253\u5305\u5B8C\u6210&quot;
#\u5BF9IFS\u53D8\u91CF \u8FDB\u884C\u66FF\u6362\u5904\u7406
OLD_IFS=&quot;$IFS&quot;
IFS=&quot;,&quot;
array=($project_names)
IFS=&quot;$OLD_IFS&quot;
echo &quot;Begining build project with maven...&quot;
pfx=&quot;-1.jar&quot;
for var in \${array[@]}
do
scp $var/target/$var$pfx root@47.103.120.84:/var/shouxin
echo &quot;\u7A0B\u5E8F\u5305\u4F20\u8F93\u5B8C\u6210&quot;
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u591A\u6A21\u5757\u9879\u76EE\u90E8\u7F72\u811A\u672C-\u670D\u52A1\u7AEF</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\uFEFF#!/bin/bash
echo &quot;\u5E94\u7528\u53D1\u5E03\u4E2D $2&quot;
#\u8FDB\u5165\u9879\u76EE\u53D1\u5E03\u76EE\u5F55 \u53C2\u6570\u4E3A1 \u9700\u8981\u53D1\u5E03\u7684\u5217\u8868\u53C2\u65702
cd $1
#\u5BF9IFS\u53D8\u91CF \u8FDB\u884C\u66FF\u6362\u5904\u7406
echo &quot;Begining build project with maven...&quot;
pfx=&quot;-1.jar&quot;
#\u5BF9IFS\u53D8\u91CF \u8FDB\u884C\u66FF\u6362\u5904\u7406
OLD_IFS=&quot;$IFS&quot;
IFS=&quot;,&quot;
array=($2)
IFS=&quot;$OLD_IFS&quot;
for var in \${array[@]}
do
pid=\`ps -ef |grep $var$pfx | grep -v grep | awk &#39;{print $2}&#39;\`
if [ -n &quot;$pid&quot; ];then
   kill -9 $pid
   echo &quot;$var$pfx\u7AEF\u53E3\u8FDB\u7A0B\u7EC8\u6B62\u6210\u529F&quot;
   else 
   echo &quot;\u6CA1\u6709\u68C0\u6D4B\u5230$var$pfx\u7AEF\u53E3\u884C\u4E3A&quot;
 fi
java -Xmx$3m -Xss$3m -jar $var$pfx &gt;/var/log/3km_test/$var.out&amp;
#nohup java -Xmx$3m -Xss$3m -jar $var$pfx &gt;/dev/null 2&gt;&amp;1 &amp;
sleep 25
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u524D\u7AEF\u9879\u76EE</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#!/bin/bash
echo &quot;\u6784\u5EFA\u4E2D----&quot;
#npm install
#npm run build
echo &quot;\u6784\u5EFA\u5B8C\u6210--^0^\u4E0D\u8981\u6025\uFF0C\u6B63\u5728\u4F20\u9001\u6E90\u7801---&quot;
#scp -r  $WORKSPACE/.nuxt root@47.103.120.84:/home/shouxin_pc_online/.nuxt
#scp -r -l 5000 $WORKSPACE/static root@47.103.120.84:/home/shouxin_pc_online/static
#scp -r -l 5000 $WORKSPACE/server root@47.103.120.84:/home/shouxin_pc_online/server
#scp -r -l 5000 $WORKSPACE/nuxt.config.js root@47.103.120.84:/home/shouxin_pc_online
#scp -r -l 5000 $WORKSPACE/package.json root@47.103.120.84:/home/shouxin_pc_online
#scp -r -l 5000 $WORKSPACE/node_modules root@47.103.120.84:/home/shouxin_pc_online/node_modules
scp -r -l 5000 $WORKSPACE/assets root@47.103.120.84:/home/shouxin_pc_online/node_modules/assets
echo &quot;--- \u53D1\u5E03\u6210\u529F-----^^^^^^^^^^^^^^&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u670D\u52A1\u7AEF\u6784\u67B6\u811A\u672C-jar\u7A0B\u5E8F</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#! /bin/sh
echo &quot;movecomplate&quot;
cd /opt/3km$1
pid=\`ps -ef |grep $2.jar | grep -v grep | awk &#39;{print $2}&#39;\`
echo &quot;\u68C0\u6D4B\u5230\u7AEF\u53E3\u503C---&quot;$pid
if [ -n &quot;$pid&quot; ];then
   kill -9 $pid
   echo &quot;$2\u7AEF\u53E3\u8FDB\u7A0B\u7EC8\u6B62\u6210\u529F&quot;
   nohup java -Xmx$3m -Xss$3m -jar $2.jar  &gt;/dev/null 2&gt;&amp;1 &amp;
    echo &quot;RESTART--SUCCESS&quot;
   else 
   echo &quot;\u6CA1\u6709\u68C0\u6D4B\u5230$2\u7AEF\u53E3\u884C\u4E3A&quot;
   #java -Xmx$3m -Xss$3m -jar $2.jar &gt;/var/log/shouxin-log/$2.out&amp;
   nohup java -Xmx$3m -Xss$3m -jar $2.jar  &gt;/dev/null 2&gt;&amp;1 &amp;
   echo &quot;START--SUCCESS&quot;
 fi
echo &quot;END&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u670D\u52A1\u7AEF\u6784\u5EFA-\u524D\u6BB5\u9879\u76EE</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#!/bin/bash
#your_name=&quot;bbzy&quot; 
#echo $your_name
#your_name=&quot;123&quot;
#echo $your_name
#echo \${your_name}


echo &quot;\u6DFB\u52A0\u6743\u9650&quot;
chmod -R 777 $1
echo &quot;\u6DFB\u52A0\u6743\u9650-\u6210\u529F&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx" aria-hidden="true">#</a> Nginx</h2><h3 id="\u57FA\u4E8E\u7F51\u5173\u7684\u8D1F\u8F7D\u5747\u8861" tabindex="-1"><a class="header-anchor" href="#\u57FA\u4E8E\u7F51\u5173\u7684\u8D1F\u8F7D\u5747\u8861" aria-hidden="true">#</a> \u57FA\u4E8E\u7F51\u5173\u7684\u8D1F\u8F7D\u5747\u8861</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>upstream mygateway{
    server 172.16.*.**:10200 weight=1;
    server 172.16.*.**:10200 weight=1;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server {
        listen       80;
        server_name  _;
        large_client_header_buffers 4 16k;
        client_max_body_size 300m;
        client_body_buffer_size 128k;
        proxy_connect_timeout 600;
        proxy_read_timeout 600;
        proxy_send_timeout 600;
        proxy_buffer_size 64k;
        proxy_buffers   4 32k;
        proxy_busy_buffers_size 64k;
        proxy_temp_file_write_size 64k;
       location / {
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_pass http://mygateway;
        }
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="nginx-reload-\u4E0E-restart-\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#nginx-reload-\u4E0E-restart-\u7684\u533A\u522B" aria-hidden="true">#</a> nginx reload \u4E0E restart \u7684\u533A\u522B</h3><p>reload --\u91CD\u65B0\u52A0\u8F7D\uFF0Creload\u4F1A\u91CD\u65B0\u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6\uFF0CNginx\u670D\u52A1\u4E0D\u4F1A\u4E2D\u65AD\u3002\u800C\u4E14reload\u65F6\u4F1A\u6D4B\u8BD5conf\u8BED\u6CD5\u7B49\uFF0C\u5982\u679C\u51FA\u9519\u4F1Arollback\u7528\u4E0A\u4E00\u6B21\u6B63\u786E\u914D\u7F6E\u6587\u4EF6\u4FDD\u6301\u6B63\u5E38\u8FD0\u884C\u3002</p><p>restart --\u91CD\u542F\uFF08\u5148stop\u540Estart\uFF09\uFF0C\u4F1A\u91CD\u542FNginx\u670D\u52A1\u3002\u8FD9\u4E2A\u91CD\u542F\u4F1A\u9020\u6210\u670D\u52A1\u4E00\u77AC\u95F4\u7684\u4E2D\u65AD\uFF0C\u5982\u679C\u914D\u7F6E\u6587\u4EF6\u51FA\u9519\u4F1A\u5BFC\u81F4\u670D\u52A1\u542F\u52A8\u5931\u8D25\uFF0C\u90A3\u5C31\u662F\u66F4\u957F\u65F6\u95F4\u7684\u670D\u52A1\u4E2D\u65AD\u4E86\u3002 \u6240\u4EE5\uFF0C\u5982\u679C\u662F\u7EBF\u4E0A\u7684\u670D\u52A1\uFF0C\u4FEE\u6539\u7684\u914D\u7F6E\u6587\u4EF6\u4E00\u5B9A\u8981\u5907\u4EFD\u3002\u4E3A\u4E86\u4FDD\u8BC1\u7EBF\u4E0A\u670D\u52A1\u9AD8\u53EF\u7528\uFF0C\u6700\u597D\u4F7F\u7528reload\u3002</p><p><strong>reload \u5B9E\u73B0\u8FC7\u7A0B</strong></p><p><img src="https://file.bbzy.online/blog/1368870-20200103170923856-1363899594.png" alt="image"></p><p>reload \u53EA\u662F\u91CD\u65B0\u52A0\u8F7D\u914D\u7F6E\u6587\u4EF6\uFF0C\u4E0D\u4F1A\u6E05\u7406nginx \u7684\u4E00\u4E9B\u7F13\u5B58\uFF0C\u5728\u6709\u4E9B\u9700\u8981\u6E05\u7406\u7F13\u5B58\u7684\u573A\u666F\u9700\u8981restart \uFF0C\u4F8B\u5982upstream \u540E\u7AEF\u914D\u7F6E\u7684\u96C6\u7FA4\u670D\u52A1\u5730\u5740\u662F\u57DF\u540D\u800C\u4E0D\u662Fip\uFF0C\u5F53\u540E\u7AEFIP \u53D8\u4E86\uFF0C\u5C31\u9700\u8981\u6E05\u9664\u8BE5\u57DF\u540D\u7684\u89E3\u6790\u7F13\u5B58\uFF0C\u6B64\u65F6\u9700\u8981\u91CD\u542F\u800C\u4E0D\u662Freload\u3002</p><h3 id="\u5E38\u7528\u7ECF\u5178\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u7ECF\u5178\u914D\u7F6E" aria-hidden="true">#</a> \u5E38\u7528\u7ECF\u5178\u914D\u7F6E</h3><p><strong>\u4E8C\u7EA7\u76EE\u5F55\u6620\u5C04 \u76EE\u524D\u524D\u540E\u7AEF\u9879\u76EE\u5206\u79BB\u573A\u666F\u591A\u4E86\u4EE5\u540E\uFF0C\u4E00\u822C\u662F\u524D\u7AEF\u4E00\u4E2A\u7AEF\u53E3\uFF0C\u540E\u7AEF\u4E00\u4E2A\u7AEF\u53E3\u3002</strong></p>`,47),P={href:"https://example.com/index.html%EF%BC%8C%E8%B0%83%E7%94%A8%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%98%AFhttps://example.com:4433",target:"_blank",rel:"noopener noreferrer"},E=e("p",null,"\u5982\u6B64\u90E8\u7F72\u5BF9\u4E8E\u4E00\u4E9B\u5C0F\u9879\u76EE\u672A\u514D\u6709\u4E9B\u9EBB\u70E6\uFF0C\u5F53\u7136\u4F60\u5728\u516C\u7F51\u73AF\u5883\u4E0B\u4E5F\u53EF\u4EE5\u9009\u62E9\u4F7F\u7528\u5B50\u57DF\u540D\u3001\u5176\u4ED6\u57DF\u540D\u8FDB\u884C\u8DE8\u57DF\u8BBF\u95EE\u3002",-1),S=e("p",null,"\u8FD9\u91CC\u8BF4\u7684\u662F\u540C\u4E00\u4E2A\u57DF\u540D\uFF0C\u540C\u4E00\u4E2A\u7AEF\u53E3\uFF0C\u8BA9\u524D\u540E\u7AEF\u540C\u65F6\u8FDB\u884C\u8BBF\u95EE\u670D\u52A1\u3002",-1),T={href:"https://example.com/index.html",target:"_blank",rel:"noopener noreferrer"},A=a(`<p>\u63A5\u53E3\u5730\u5740\uFF1A[https://example.com/api/](</p><p>\u8FD9\u91CC\u5148\u8BB0\u5F55\u6211\u5DF2\u7ECF\u6D4B\u8BD5\u901A\u8FC7\u7684\u53CD\u5411\u4EE3\u7406\u7684\u65B9\u5F0F\uFF0C\u5373\u4E0D\u6539\u53D8\u539F\u672C\u7684server\u914D\u7F6E\u3002\u76F4\u63A5\u901A\u8FC7\u53CD\u5411\u4EE3\u7406\u5C06example.com/api \u91CD\u5B9A\u5411\u5230 example.com:4443/</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>location ^~ /api/ {
    proxy_pass  https://example.com:4433/;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>location\u6BB5\u7684^~\u662F\u4EE3\u8868\u67D0\u4E2A\u5B57\u7B26\u4F5C\u4E3A\u5F00\u5934\u5339\u914D\uFF0C\u8FD9\u91CC\u5C31\u662F\u4EE5/api/\u4F5C\u4E3A\u5F00\u5934\u8FDB\u884C\u5339\u914DURL\u89C4\u5219\u3002</p><p>\u8FD9\u91CC\u4E0D\u80FD\u5199\u4F5C~~\uFF0C\u56E0\u4E3A~~\u662F\u6B63\u5219\u5339\u914D\u7684\u610F\u601D\uFF0C\u7528\u4E86\u6B63\u5219\u5C31\u4E0D\u80FD\u518Dproxy_pass\u6BB5\u914D\u7F6EURI\u4E86\uFF0C\u6240\u8C13URI\u5C31\u662F4433\u7AEF\u53E3\u540E\u9762\u7684/\u3002</p><p>\u5982\u679C\u4E0D\u5199/\uFF0C\u5F53\u8BBF\u95EEexample.com/api/index.php\u65F6\uFF0C\u4F1A\u4EE3\u7406\u5230example.com:4433/api/index.php\u3002\u5E76\u4E0D\u80FD\u5B9A\u4F4D\u5230\u540E\u7AEF\u7684\u6839\u8DEF\u5F84\uFF0C\u6240\u4EE5\u8FD9\u91CC\u4EE5/\u7ED3\u675F\u3002</p><p>\u975E\u6807\u51C6HTTPS\u7AEF\u53E3\u91CD\u5B9A\u5411 \u5982\u679C\u60F3\u8BA9\u4F60\u7684\u975E\u6807\u51C6https\u7AEF\u53E3\uFF0C\u59822083\u652F\u6301HTTP\u8DF3\u8F6CHTTPS\u8BBF\u95EE\uFF0C\u8BF7\u53C2\u7167\u5982\u4E0B\u914D\u7F6E\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>error_page 497 https://$host:2083$request_uri;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5982\u679C\u4E0D\u8FD9\u4E48\u914D\u7F6E\uFF0C\u9ED8\u8BA4\u5F53\u7528\u6237\u4E0D\u786E\u5B9A\u7F51\u7AD9\u534F\u8BAE\u65F6\uFF0C\u91C7\u7528\u4E86HTTP\u534F\u8BAE\u8BBF\u95EE\u4F60\u7684HTTPS\u7F51\u7AD9\u5C31\u4F1A\u51FA\u73B0\u65E0\u6CD5\u8BBF\u95EE\u3002</p><p>\u9519\u8BEF\u5982\uFF1AThe plain HTTP request was sent to HTTPS port</p><p>HTTP\u5F3A\u5236\u8DF3\u8F6CHTTPS \u65E5\u5E38\u4E3A\u4E86\u4FDD\u8BC1\u8BBF\u5BA2\u5B89\u5168\u6027\uFF0C\u6211\u4EEC\u5E38\u5E38\u9700\u8981\u8BA9\u5168\u7AD9\u4FDD\u6301HTTPS\u8BBF\u95EE\uFF0C\u90A3\u4E48\u4F60\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u914D\u7F6E\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>server {
    listen 80 default_server;
    server_name example.com;
    rewrite ^(.*) https://$server_name$1 permanent;
    #\u4E0A\u9762\u7684rewrite\u4E5F\u53EF\u4EE5\u5199\u4F5C
    return 301 https://$host$request_uri;
}
server {
    listen 443 ssl;
    server_name example.com;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u505A\u6CD5\u662F\uFF0C\u8BA980\u76D1\u542C\u5230\u7684HTTP\u94FE\u63A5\u5168\u90E8\u91CD\u5B9A\u5411\u5230HTTPS\u7AEF\u53E3\u4E2D\u3002</p>`,13),N={href:"https://cloud.tencent.com/solution/database?from=10680",target:"_blank",rel:"noopener noreferrer"},I=a(`<p>\u5982\u5C06\u5185\u7F51\u7684192.168.1.2MySQL\u6570\u636E\u5E93\u7AEF\u53E3\u901A\u8FC7Nginx\u6240\u5728\u670D\u52A1\u5668\u768433062\u7AEF\u53E3\u8FDB\u884C\u5916\u9732\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>upstream TCP3306 {
    hash $remote_addr consistent;
    server 192.168.1.2:3306;
}

server {
    listen 33062;
    proxy_connect_timeout 5s;
    proxy_timeout 300s;
    proxy_pass TCP3306;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="socker\u652F\u6301\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#socker\u652F\u6301\u914D\u7F6E" aria-hidden="true">#</a> socker\u652F\u6301\u914D\u7F6E</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>location  / { 
        proxy_pass http://10.0.0.3:8702/;
            proxy_http_version 1.1;
            proxy_redirect off;
            proxy_buffering off;
            proxy_set_header X-NginX-Proxy true;
            proxy_set_header Host $host;
            proxy_set_header Http-Host $http_host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header REMOTE-HOST $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection $connection_upgrade;
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mq" tabindex="-1"><a class="header-anchor" href="#mq" aria-hidden="true">#</a> MQ</h2><h3 id="rabbitmq" tabindex="-1"><a class="header-anchor" href="#rabbitmq" aria-hidden="true">#</a> rabbitmq</h3><h4 id="docker\u5BB9\u5668\u5316\u90E8\u7F72-3" tabindex="-1"><a class="header-anchor" href="#docker\u5BB9\u5668\u5316\u90E8\u7F72-3" aria-hidden="true">#</a> docker\u5BB9\u5668\u5316\u90E8\u7F72</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull rabbitmq:3.7.24
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="\u65B9\u5F0F1\u2013\u9ED8\u8BA4\u8D26\u6237\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#\u65B9\u5F0F1\u2013\u9ED8\u8BA4\u8D26\u6237\u542F\u52A8" aria-hidden="true">#</a> \u65B9\u5F0F1\u2013\u9ED8\u8BA4\u8D26\u6237\u542F\u52A8</h5><p>\u9ED8\u8BA4guest \u7528\u6237\uFF0C\u5BC6\u7801\u4E5F\u662F guest</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --hostname my-rabbit --name mq -p 15672:15672 -p 5672:5672 rabbitmq:3.7.24
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="\u65B9\u5F0F2\u2013\u6307\u5B9A\u8D26\u6237\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#\u65B9\u5F0F2\u2013\u6307\u5B9A\u8D26\u6237\u542F\u52A8" aria-hidden="true">#</a> \u65B9\u5F0F2\u2013\u6307\u5B9A\u8D26\u6237\u542F\u52A8</h5><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d --hostname my-rabbit --name rabbit -e RABBITMQ_DEFAULT_USER=user -e RABBITMQ_DEFAULT_PASS=password -p 15672:15672 -p 5672:5672 rabbitmq:management
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u5B89\u88C5\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u63D2\u4EF6" aria-hidden="true">#</a> \u5B89\u88C5\u63D2\u4EF6</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker cp /root/rabbitmq_delayed_message_exchange-3.8.0.ez mq:/opt/rabbitmq/plugins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u542F\u52A8\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u63D2\u4EF6" aria-hidden="true">#</a> \u542F\u52A8\u63D2\u4EF6</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rabbitmq-plugins enable rabbitmq_delayed_message_exchange
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u67E5\u770B\u63D2\u4EF6\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u63D2\u4EF6\u5217\u8868" aria-hidden="true">#</a> \u67E5\u770B\u63D2\u4EF6\u5217\u8868</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rabbitmq-plugins list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u542F\u7528web\u5BA2\u6237\u7AEF" tabindex="-1"><a class="header-anchor" href="#\u542F\u7528web\u5BA2\u6237\u7AEF" aria-hidden="true">#</a> \u542F\u7528web\u5BA2\u6237\u7AEF</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rabbitmq-plugins enable rabbitmq_management   # \u542F\u7528\u63D2\u4EF6
service rabbitmq-server restart    # \u91CD\u542F

\u901A\u8FC7 http://localhost:15672 \u67E5\u770B\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u8D26\u6237guest/guest \u767B\u5F55\u3002 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5EF6\u65F6\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5EF6\u65F6\u63D2\u4EF6" aria-hidden="true">#</a> \u5EF6\u65F6\u63D2\u4EF6</h4><p>\u63D2\u4EF6\u76EE\u5F55</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/opt/rabbitmq/plugins
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u542F\u7528\u547D\u4EE4</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>rabbitmq-plugins enable rabbitmq_delayed_message_exchange
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="python" tabindex="-1"><a class="header-anchor" href="#python" aria-hidden="true">#</a> python</h2><h3 id="\u5305\u7BA1\u7406\u5DE5\u5177anaconda" tabindex="-1"><a class="header-anchor" href="#\u5305\u7BA1\u7406\u5DE5\u5177anaconda" aria-hidden="true">#</a> \u5305\u7BA1\u7406\u5DE5\u5177Anaconda</h3>`,28),R={href:"https://www.anaconda.com/",target:"_blank",rel:"noopener noreferrer"},D=a('<h4 id="\u57FA\u672C\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u547D\u4EE4" aria-hidden="true">#</a> \u57FA\u672C\u547D\u4EE4</h4><p><strong>conda info</strong> \u67E5\u8BE2 conda \u4FE1\u606F</p><p>**conda create -n \u73AF\u5883\u540D ** \u521B\u5EFA\u73AF\u5883</p><p><strong>conda info --envs</strong> \u67E5\u770B\u5F53\u524D\u6240\u6709\u73AF\u5883</p><p><strong>conda activate &lt;env_name&gt;</strong> \u6FC0\u6D3B\u73AF\u5883</p><p><strong>conda list</strong> \u67E5\u770B\u5F53\u524D\u73AF\u5883\u4E2D\u7684\u5305</p><p><strong>deactivate &lt;env_name&gt;</strong> \u63A8\u51FA\u5F53\u524D\u73AF\u5883</p><p><strong>conda remove -n \u73AF\u5883\u540D --all</strong> \u5220\u9664\u6307\u5B9A\u73AF\u5883</p><p><strong>conda install &lt;package_name&gt;</strong> \u4F7F\u7528conda\u5B89\u88C5\u5E93</p><p><strong>pip install &lt;package_name&gt;</strong> \u4F7F\u7528pip\u5B89\u88C5</p><h2 id="java" tabindex="-1"><a class="header-anchor" href="#java" aria-hidden="true">#</a> java</h2><h3 id="jabba\u73AF\u5883\u7BA1\u7406\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#jabba\u73AF\u5883\u7BA1\u7406\u5DE5\u5177" aria-hidden="true">#</a> jabba\u73AF\u5883\u7BA1\u7406\u5DE5\u5177</h3>',12),z={href:"https://github.com/shyiko/jabba",target:"_blank",rel:"noopener noreferrer"},O=a(`<p><strong>window\u5B89\u88C5\u547D\u4EE4 \u5728powershell\u4E0A\u6267\u884C\u4E0B\u9762\u547D\u4EE4</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
Invoke-Expression (
  Invoke-WebRequest https://github.com/shyiko/jabba/raw/master/install.ps1 -UseBasicParsing
).Content
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5982\u679C\u6267\u884C\u4E0A\u9762\u547D\u4EE4\u62A5\u9519\uFF0C\u53EF\u80FD\u662Fwin10\u811A\u672C\u6267\u884C\u7B56\u7565\u95EE\u9898\uFF0C\u4FEE\u6539\u53EF\u4EE5\u6267\u884C\u4E0B\u8FB9\u547D\u4EE4\uFF1A</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Set-ExecutionPolicy -Scope CurrentUser
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u6267\u884C\u540E\u4F1A\u51FA<code>\u201CExecutionPolicy:\u201D</code>\u63D0\u793A\u4FE1\u606F\uFF0C\u8F93\u5165<code>RemoteSigned</code>\uFF0C\u56DE\u8F66\u786E\u5B9A\u540E\u5728\u6309<code>Y</code>\u786E\u5B9A\u6267\u884C\u3002</strong></p><p><strong>\u9A8C\u8BC1\u662F\u5426\u5B89\u88C5\u6210\u529F</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u5728powershell\u4E0A\u6267\u884C\u4E0B\u9762\u547D\u4EE4

jabba --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u6CE8\u610F \u6B64\u5DE5\u5177\u9700\u8981\u5728powershell\u4E0A\u6267\u884C\u5DE5\u4F5C\u547D\u4EE4</strong></p>`,8),L={href:"https://raw.githubusercontent.com/",target:"_blank",rel:"noopener noreferrer"},F=a(`<p>\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$Env:http_proxy=&quot;http://127.0.0.1:10809&quot;;$Env:https_proxy=&quot;http://127.0.0.1:10809&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u547D\u4EE4" aria-hidden="true">#</a> \u547D\u4EE4</h4><p><strong>\u5B89\u88C5 Oracle JDK</strong></p><p>jabba install 1.8</p><p><strong>\u4ECE\u81EA\u5DF1\u6307\u5B9Aurl\u5B89\u88C5</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>jabba install 1.8.0-custom=tgz+
tgz+  =  http://example.com/distribution.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5C06\u7CFB\u7EDF\u4E2D\u5DF2\u5B89\u88C5\u7684JDK\u94FE\u63A5\u5230jabba\u4E2D</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>jabba link system@1.8.72 /Library/Java/JavaVirtualMachines/jdk1.8.0_72.jdk
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>\u5207\u6362\u4F7F\u7528\u7684JDK\u7248\u672C</strong></p><ol><li><p>\u901A\u8FC7\u547D\u4EE4\u5207\u6362</p><p>jabba use adopt@1.8 jabba use zulu@~1.6.97</p></li><li><p>\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u5207\u6362</p><p>echo &quot;1.8&quot; &gt; .jabbarc</p></li><li><p>\u901A\u8FC7jabba alias\u5207\u6362</p><p>jabba alias default 1.8 \u8FD9\u4E2A\u547D\u4EE4\u662F\u6BCF\u6B21\u6253\u5F00\u4E00\u4E2A\u65B0\u7EC8\u7AEF\uFF0C\u5C31\u4F1A\u81EA\u52A8\u5730 jabba use \u8FD9\u4E2A\u7248\u672C</p></li></ol><h3 id="jdk\u5DE5\u5177-keytool\u751F\u6210jks\u5BC6\u94A5\u5E93" tabindex="-1"><a class="header-anchor" href="#jdk\u5DE5\u5177-keytool\u751F\u6210jks\u5BC6\u94A5\u5E93" aria-hidden="true">#</a> JDK\u5DE5\u5177 keytool\u751F\u6210JKS\u5BC6\u94A5\u5E93</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>keytool -genkey -alias mymedical -keyalg RSA -keypass 123456 -keystore C:\\Users\\wkq\\Desktop\\mymedical.jks -storepass 123456
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>-genkey \u751F\u6210\u5BC6\u94A5

-alias \u522B\u540D

-keyalg \u5BC6\u94A5\u7B97\u6CD5

-keypass \u5BC6\u94A5\u53E3\u4EE4

-keystore \u751F\u6210\u5BC6\u94A5\u5E93\u7684\u5B58\u50A8\u8DEF\u5F84\u548C\u540D\u79F0

-storepass \u5BC6\u94A5\u5E93\u53E3\u4EE4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mac" tabindex="-1"><a class="header-anchor" href="#mac" aria-hidden="true">#</a> mac</h2><h3 id="\u7EC8\u7AEF\u73AF\u5883\u5207\u6362" tabindex="-1"><a class="header-anchor" href="#\u7EC8\u7AEF\u73AF\u5883\u5207\u6362" aria-hidden="true">#</a> \u7EC8\u7AEF\u73AF\u5883\u5207\u6362</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>chsh -s /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>chsh -s /bin/zsh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="npm" tabindex="-1"><a class="header-anchor" href="#npm" aria-hidden="true">#</a> NPM</h3><h4 id="\u955C\u50CF\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u955C\u50CF\u914D\u7F6E" aria-hidden="true">#</a> \u955C\u50CF\u914D\u7F6E</h4><p><strong>\u4FEE\u6539\u6210\u817E\u8BAF\u4E91\u955C\u50CF\u6E90</strong></p><p>1\u3001\u547D\u4EE4</p><p>npm config set registry http://mirrors.cloud.tencent.com/npm/</p><p>2. \u9A8C\u8BC1\u547D\u4EE4</p><p>npm config get registry</p><p>\u5982\u679C\u8FD4\u56DEhttp://mirrors.cloud.tencent.com/npm/\uFF0C\u8BF4\u660E\u955C\u50CF\u914D\u7F6E\u6210\u529F\u3002</p><p><strong>\u4FEE\u6539\u6210\u6DD8\u5B9D\u955C\u50CF\u6E90</strong></p><p>1. \u547D\u4EE4</p><p>npm config set registry https://registry.npmmirror.com</p><p>2. \u9A8C\u8BC1\u547D\u4EE4</p><p>npm config get registry</p><p>\u5982\u679C\u8FD4\u56DEhttps://registry.npmmirror.com\uFF0C\u8BF4\u660E\u955C\u50CF\u914D\u7F6E\u6210\u529F\u3002</p><p><strong>\u4FEE\u6539\u6210\u534E\u4E3A\u4E91\u955C\u50CF\u6E90</strong></p><p>1. \u547D\u4EE4</p><p>npm config set registry https://mirrors.huaweicloud.com/repository/npm/</p><p>2. \u9A8C\u8BC1\u547D\u4EE4</p><p>npm config get registry</p><p>\u5982\u679C\u8FD4\u56DEhttps://mirrors.huaweicloud.com/repository/npm/\uFF0C\u8BF4\u660E\u955C\u50CF\u914D\u7F6E\u6210\u529F\u3002</p><p><strong>\u901A\u8FC7\u4F7F\u7528\u6DD8\u5B9D\u5B9A\u5236\u7684cnpm\u5B89\u88C5</strong></p><p>1. \u5B89\u88C5cnpm</p><p>npm install -g cnpm --registry=https://registry.npmmirror.com</p><p>2. \u4F7F\u7528cnpm</p><p>cnpm install xxx</p><h2 id="nuxt" tabindex="-1"><a class="header-anchor" href="#nuxt" aria-hidden="true">#</a> nuxt</h2><h3 id="\u57FA\u4E8Epm2\u7684\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#\u57FA\u4E8Epm2\u7684\u90E8\u7F72" aria-hidden="true">#</a> \u57FA\u4E8Epm2\u7684\u90E8\u7F72</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>pm2 start npm \u2013name \u2018pc-nuxt\u2019 \u2013 run start\u5C06nuxt\u9879\u76EE\u8DD1\u5728\u4E86pm2\u4E0A\uFF0C\u5E76\u4E14\u547D\u540D\u4E3A pc-nuxt\uFF1B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u7528\u6CD5
$ npm install pm2 -g     # \u547D\u4EE4\u884C\u5B89\u88C5 pm2
$ pm2 start app.js -i 4 #\u540E\u53F0\u8FD0\u884Cpm2\uFF0C\u542F\u52A84\u4E2Aapp.js
                                # \u4E5F\u53EF\u4EE5\u628A&#39;max&#39; \u53C2\u6570\u4F20\u9012\u7ED9 start
                                # \u6B63\u786E\u7684\u8FDB\u7A0B\u6570\u76EE\u4F9D\u8D56\u4E8ECpu\u7684\u6838\u5FC3\u6570\u76EE
$ pm2 start app.js --name my-api # \u547D\u540D\u8FDB\u7A0B
$ pm2 list               # \u663E\u793A\u6240\u6709\u8FDB\u7A0B\u72B6\u6001
$ pm2 monit              # \u76D1\u89C6\u6240\u6709\u8FDB\u7A0B
$ pm2 logs               #  \u663E\u793A\u6240\u6709\u8FDB\u7A0B\u65E5\u5FD7
$ pm2 stop all           # \u505C\u6B62\u6240\u6709\u8FDB\u7A0B
$ pm2 restart all        # \u91CD\u542F\u6240\u6709\u8FDB\u7A0B
$ pm2 reload all         # 0\u79D2\u505C\u673A\u91CD\u8F7D\u8FDB\u7A0B (\u7528\u4E8E NETWORKED \u8FDB\u7A0B)
$ pm2 stop 0             # \u505C\u6B62\u6307\u5B9A\u7684\u8FDB\u7A0B
$ pm2 restart 0          # \u91CD\u542F\u6307\u5B9A\u7684\u8FDB\u7A0B
$ pm2 startup            # \u4EA7\u751F init \u811A\u672C \u4FDD\u6301\u8FDB\u7A0B\u6D3B\u7740
$ pm2 web                # \u8FD0\u884C\u5065\u58EE\u7684 computer API endpoint
$ pm2 delete 0           # \u6740\u6B7B\u6307\u5B9A\u7684\u8FDB\u7A0B
$ pm2 delete all         # \u6740\u6B7B\u5168\u90E8\u8FDB\u7A0B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B89\u88C5</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>sudo apt-get install -y nodejs-legacy
sudo apt-get install -y npm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nvm" tabindex="-1"><a class="header-anchor" href="#nvm" aria-hidden="true">#</a> nvm</h2>`,50),M={href:"https://github.com/coreybutler/nvm-windows",target:"_blank",rel:"noopener noreferrer"},C=a("<p><strong>\u57FA\u672C\u547D\u4EE4</strong></p><table><thead><tr><th>nvm install latest</th><th>\u5B89\u88C5\u6700\u65B0\u7248\u672C\u7684 nodejs</th></tr></thead><tbody><tr><td>nvm use \u7248\u672C\u53F7</td><td>\u4F7F\u7528\u6307\u5B9A\u7248\u672C\u7684node</td></tr><tr><td>nvm install \u7248\u672C\u53F7</td><td>\u5B89\u88C5\u6307\u5B9A\u7248\u672C\u7684node</td></tr><tr><td>nvm ls-remote</td><td>\u67E5\u770B\u8FDC\u7A0B\u7248\u672C\u53F7</td></tr></tbody></table>",2);function X(B,U){const i=r("ExternalLinkIcon");return l(),t("div",null,[o,e("p",null,[n("\u4E00\u3001\u5C06\u672C\u673A\u6587\u4EF6\u590D\u5236\u5230\u8FDC\u7A0B\u670D\u52A1\u5668\u4E0A \u3000\u3000#scp /home/administrator/news.txt "),u,n(":/etc/squid \u3000\u3000/home/administrator/ \u672C\u5730\u6587\u4EF6\u7684\u7EDD\u5BF9\u8DEF\u5F84 \u3000\u3000news.txt \u8981\u590D\u5236\u5230\u670D\u52A1\u5668\u4E0A\u7684\u672C\u5730\u6587\u4EF6 \u3000\u3000root \u901A\u8FC7root\u7528\u6237\u767B\u5F55\u5230\u8FDC\u7A0B\u670D\u52A1\u5668\uFF08\u4E5F\u53EF\u4EE5\u4F7F\u7528\u5176\u4ED6\u62E5\u6709\u540C\u7B49\u6743\u9650\u7684\u7528\u6237\uFF09 \u3000\u3000192.168.6.129 \u8FDC\u7A0B\u670D\u52A1\u5668\u7684ip\u5730\u5740\uFF08\u4E5F\u53EF\u4EE5\u4F7F\u7528\u57DF\u540D\u6216\u673A\u5668\u540D\uFF09 \u3000\u3000/etc/squid \u5C06\u672C\u5730\u6587\u4EF6\u590D\u5236\u5230\u4F4D\u4E8E\u8FDC\u7A0B\u670D\u52A1\u5668\u4E0A\u7684\u8DEF\u5F84 \u4E8C\u3001\u5C06\u8FDC\u7A0B\u670D\u52A1\u5668\u4E0A\u7684\u6587\u4EF6\u590D\u5236\u5230\u672C\u673A \u3000\u3000#scp "),v,n(":/usr/local/sin.sh /home/administrator \u3000\u3000remote \u901A\u8FC7remote\u7528\u6237\u767B\u5F55\u5230\u8FDC\u7A0B\u670D\u52A1\u5668\uFF08\u4E5F\u53EF\u4EE5\u4F7F\u7528\u5176\u4ED6\u62E5\u6709\u540C\u7B49\u6743\u9650\u7684\u7528\u6237\uFF09 \u3000\u3000"),e("a",m,[n("www.abc.com"),s(i)]),n(" \u8FDC\u7A0B\u670D\u52A1\u5668\u7684\u57DF\u540D\uFF08\u5F53\u7136\u4E5F\u53EF\u4EE5\u4F7F\u7528\u8BE5\u670D\u52A1\u5668ip\u5730\u5740\uFF09 \u3000\u3000/usr/local/sin.sh \u6B32\u590D\u5236\u5230\u672C\u673A\u7684\u4F4D\u4E8E\u8FDC\u7A0B\u670D\u52A1\u5668\u4E0A\u7684\u6587\u4EF6 \u3000\u3000/home/administrator \u5C06\u8FDC\u7A0B\u6587\u4EF6\u590D\u5236\u5230\u672C\u5730\u7684\u7EDD\u5BF9\u8DEF\u5F84 \u6CE8\u610F\u4E24\u70B9\uFF1A \u3000\u30001.\u5982\u679C\u8FDC\u7A0B\u670D\u52A1\u5668\u9632\u706B\u5899\u6709\u7279\u6B8A\u9650\u5236\uFF0Cscp\u4FBF\u8981\u8D70\u7279\u6B8A\u7AEF\u53E3\uFF0C\u5177\u4F53\u7528\u4EC0\u4E48\u7AEF\u53E3\u89C6\u60C5\u51B5\u800C\u5B9A\uFF0C\u547D\u4EE4\u683C\u5F0F\u5982\u4E0B\uFF1A \u3000\u3000#scp -p 4588 "),p,n(":/usr/local/sin.sh /home/administrator \u3000\u30002.\u4F7F\u7528scp\u8981\u6CE8\u610F\u6240\u4F7F\u7528\u7684\u7528\u6237\u662F\u5426\u5177\u6709\u53EF\u8BFB\u53D6\u8FDC\u7A0B\u670D\u52A1\u5668\u76F8\u5E94\u6587\u4EF6\u7684\u6743\u9650\u3002 \u3000\u3000\u5982\uFF1A")]),b,e("h4",g,[h,n(" Dejavu "),e("a",x,[n("github"),s(i)])]),e("h4",_,[f,n(" ElasticHD "),e("a",k,[n("github"),s(i)])]),y,e("h4",q,[w,n(" AnotherRedisDesktopManager "),e("a",j,[n("github"),s(i)])]),$,e("p",null,[n("\u5982\u524D\u7AEF\u662F"),e("a",P,[n("https://example.com/index.html\uFF0C\u8C03\u7528\u7684\u63A5\u53E3\u662Fhttps://example.com:4433"),s(i)])]),E,S,e("p",null,[n("\u524D\u7AEF\u5730\u5740\uFF1A"),e("a",T,[n("https://example.com/index.html"),s(i)])]),A,e("p",null,[n("\u7AEF\u53E3\u8F6C\u53D1 Nginx\u7AEF\u53E3\u8F6C\u53D1\u6027\u80FD\u4E5F\u975E\u5E38\u5F3A\u5927\uFF0C\u53EF\u4EE5\u7528\u4E8E\u5185\u7F51"),e("a",N,[n("\u6570\u636E\u5E93"),s(i)]),n("\u3001\u5176\u4ED6\u670D\u52A1\u7AEF\u53E3\u5916\u9732\u7684\u573A\u666F\u3002")]),I,e("p",null,[e("a",R,[n("\u5B98\u7F51\u5730\u5740"),s(i)])]),D,e("p",null,[e("a",z,[n("github"),s(i)])]),O,e("p",null,[e("strong",null,[e("a",L,[n("\u6267\u884Cjabba ls-remote \u540E raw.githubusercontent.com"),s(i)]),n(" \u57DF\u540D\u62A5\u9519\u95EE\u9898")])]),F,e("p",null,[e("a",M,[n("github"),s(i)])]),C])}const K=d(c,[["render",X],["__file","index.html.vue"]]);export{K as default};
